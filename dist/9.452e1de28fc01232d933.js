(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"0kMS":function(e,t,a){"use strict";a.d(t,"a",function(){return u});var i=a("gZnZ"),o=a("gIcY"),s=(a("rP7f"),a("LvDl")),n=a("Ip0R"),r=a("5uDe"),l=a("Wxx3"),p=function(e){return e.value.startsWith(" ")?{trimError:{value:"control has leading whitespace"}}:e.value.endsWith(" ")?{trimError:{value:"control has trailing whitespace"}}:null},u=function(){function e(e,t,a,i,s,n,r){this.toastr=e,this.fb=t,this.dialog=a,this.pvuService=i,this.dialogRef=s,this.data=n,this.el=r,this.refenceNo="",this.isUserRequired=!0,this.isSubmitted=!1,this.isApprove=!1,this.showAction=!0,this.date=new Date,this.headerJSON=[],this.errorMessages={FIN_YEAR:"Please select any Financial Year",DEPARTMENT:"Please select any Department",WF_ACTION:"Please Select Action",WF_USER:"Please Select User",WF_REMARK:"Please Enter Remarks"},this.forwardDialog_history_list=[],this.action_list=[],this.user_list=[],this.actionCtrl=new o.g,this.userCodeCtrl=new o.g}return e.prototype.onNoClick=function(){},e.prototype.onSubmitClick=function(){},e.prototype.ngOnInit=function(){var e=this;this.workflowForm=this.fb.group({workflowAction:["",o.x.required],user:["",o.x.required],remarks:["",[o.x.required,p]]}),this.pvuService.getCurrentUserDetail().then(function(t){t&&(e.wfRoleIds=t.wfRoleId,e.menuId=t.menuId,e.linkMenuId=t.linkMenuId,e.postId=t.postId,e.userId=t.userId,e.lkPoOffUserId=t.lkPoOffUserId,e.getData())})},e.prototype.getData=function(){var e=this,t={id:this.data.empId};this.pvuService.getWorkFlowEmpDetail(t).subscribe(function(t){if(t&&t.result){var a=new n.e("en-US").transform(t.result.dateOfJoining,"dd-MMM-yyyy"),i=new n.e("en-US").transform(t.result.dateOfRetirement,"dd-MMM-yyyy");e.headerJSON.push({label:"Employee Name",value:t.result.employeeName},{label:"Employee Class",value:t.result.className},{label:"Employee Designation",value:t.result.designationName},{label:"Date of Joining",value:a},{label:"Date of Retirement",value:i},{label:"Applicable Pay Commission",value:t.result.payLevelName})}}),this.pvuService.getWorkFlowReview(t).subscribe(function(t){t&&t.result&&t.result.length>0&&(e.forwardDialog_history_list=t.result)}),this.menuId&&this.wfRoleIds&&this.postId&&this.userId&&this.data.empId&&this.data.officeId&&this.pvuService.getWorkFlowAssignmentOpt({menuId:this.menuId,officeId:this.data.officeId,postId:this.postId,trnId:this.data.empId,userId:this.userId,wfRoleIds:this.wfRoleIds,lkPoOffUserId:this.lkPoOffUserId}).subscribe(function(t){t&&t.result&&t.result.length>0&&(e.actionResponse=t.result,1===t.result.length?(e.action_list.push({wfActionId:t.result[0].wfActionId,wfActionName:t.result[0].wfActionName}),e.workflowForm.get("workflowAction").setValue(t.result[0].wfActionId),e.getWorkflowUsers()):t.result.forEach(function(t){e.action_list.push({wfActionId:t.wfActionId,wfActionName:t.wfActionName})}))},function(t){e.toastr.error(t)})},e.prototype.getWorkflowUsers=function(){var e=this;this.user_list=[];var t=this.actionResponse.filter(function(t){return t.wfActionId===e.workflowForm.get("workflowAction").value});if(t&&t[0]&&t[0].wfActionName&&(t[0].wfActionName.toLowerCase()==="Approve".toLowerCase()||t[0].wfActionName.toLowerCase()==="Reject".toLowerCase()))return this.workflowForm.controls.user.clearValidators(),this.workflowForm.controls.user.updateValueAndValidity(),this.isUserRequired=!1,void(this.isApprove=t[0].wfActionName.toLowerCase()==="Approve".toLowerCase());this.workflowForm.controls.user.setValidators(o.x.required),this.workflowForm.controls.user.updateValueAndValidity(),this.isUserRequired=!0,this.isApprove=!1,t&&t[0]&&this.pvuService.getWorkFlowUsers({menuId:this.menuId,officeId:this.data.officeId,postId:this.postId,trnId:this.data.empId,userId:this.userId,wfRoleIds:this.wfRoleIds,wfActionId:t[0].wfActionId,nextWfRoleId:t[0].assignedWfRoleId,lkPoOffUserId:this.lkPoOffUserId}).subscribe(function(t){t&&200===t.status&&t.result?t.result.length>0?(e.userResponse=t.result,1===t.result.length?(e.user_list.push({userId:t.result[0].userId,userName:t.result[0].userName,pouId:t.result[0].pouId}),e.workflowForm.get("user").setValue(t.result[0].userId)):t.result.forEach(function(a){e.user_list.push({userId:a.userId,userName:a.userName,pouId:t.result[0].pouId})})):e.toastr.error(i.b.WF_USER_LIST_EMPTY):e.toastr.error(t.message)},function(t){e.toastr.error(t)})},e.prototype.submitWorkFlow=function(){var e=this;this.workflowForm.invalid&&s.each(this.workflowForm.controls,function(e){"INVALID"===e.status&&e.markAsTouched({onlySelf:!0})}),this.dialog.open(l.a,{width:"360px",data:i.b.CLOSE}).afterClosed().subscribe(function(t){if("yes"===t&&e.workflowForm.valid&&!e.isSubmitted){e.isSubmitted=!0;var a=e.actionResponse.filter(function(t){return t.wfActionId===e.workflowForm.get("workflowAction").value});if(!a||a&&0===a.length)return void(e.isSubmitted=!1);var i={assignByOfficeId:e.data.officeId,assignByPostId:e.postId,assignByUserId:e.userId,assignByWfRoleId:a[0].currentWfRoleId,assignToWfRoleId:a[0].assignedWfRoleId,currentWorkflowId:a[0].currentWorkflowId,menuId:e.menuId,remarks:e.workflowForm.get("remarks").value,trnId:e.data.empId,trnStatus:a[0].trnStatus,wfActionId:a[0].wfActionId,wfAttachmentIds:[1],wfStatus:a[0].wfStatus,assignByActionLevel:a[0].currentActionLevel,assignToActionLevel:a[0].nextActionLevel,assignByPOUId:e.lkPoOffUserId,eventId:null};if(e.isUserRequired){var o=e.userResponse.filter(function(t){return t.userId===e.workflowForm.get("user").value});i.assignToOfficeId=o[0].officeId,i.assignToPostId=o[0].postId,i.assignToUserId=o[0].userId,i.assignToPOUId=o[0].pouId}e.pvuService.submitWorkFlow(i).subscribe(function(t){t&&200===t.status?(e.toastr.success(t.message),t.result&&e.isApprove?e.dialog.open(r.a,{width:"360px",data:{empNo:t.result.employeeNo,empName:t.result.employeeName,designation:t.result.designationName}}).afterClosed().subscribe(function(t){"yes"===t&&e.dialogRef.close("yes")}):e.dialogRef.close("yes")):(e.isSubmitted=!1,e.toastr.error(t.message))},function(t){e.isSubmitted=!1,e.toastr.error(t)})}})},e}()},"5uDe":function(e,t,a){"use strict";a.d(t,"a",function(){return i});var i=function(){function e(e,t){this.dialogRef=e,this.data=t,e.disableClose=!0}return e.prototype.ngOnInit=function(){this.empNo=this.data.empNo,this.empName=this.data.empName,this.designation=this.data.designation},e.prototype.onNoClick=function(){this.dialogRef.close("no")},e.prototype.onYesClick=function(){this.dialogRef.close("yes")},e}()},AyJq:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"d",function(){return l}),a.d(t,"b",function(){return p}),a.d(t,"c",function(){return d});var i=a("CcnG"),o=(a("jlZm"),a("Ip0R")),s=(a("YhbO"),a("4c35")),n=(a("YlbQ"),a("wFw1"),a("lLAP"),i.rb({encapsulation:2,styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(.4,0,.2,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}@media (-ms-high-contrast:active){.mat-expansion-panel{outline:solid 1px}}.mat-expansion-panel._mat-animation-noopable,.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button{margin-left:0;margin-right:8px}"],data:{animation:[{type:7,name:"bodyExpansion",definitions:[{type:0,name:"collapsed, void",styles:{type:6,styles:{height:"0px",visibility:"hidden"},offset:null},options:void 0},{type:0,name:"expanded",styles:{type:6,styles:{height:"*",visibility:"visible"},offset:null},options:void 0},{type:1,expr:"expanded <=> collapsed, void => collapsed",animation:{type:4,styles:null,timings:"225ms cubic-bezier(0.4,0.0,0.2,1)"},options:null}],options:{}}]}}));function r(e){return i.Nb(0,[(e()(),i.kb(0,null,null,0))],null,null)}function l(e){return i.Nb(2,[i.Jb(402653184,1,{_body:0}),i.Cb(null,0),(e()(),i.tb(2,0,[[1,0],["body",1]],null,5,"div",[["class","mat-expansion-panel-content"],["role","region"]],[[24,"@bodyExpansion",0],[1,"aria-labelledby",0],[8,"id",0]],[[null,"@bodyExpansion.done"]],function(e,t,a){var i=!0;return"@bodyExpansion.done"===t&&(i=!1!==e.component._bodyAnimationDone.next(a)&&i),i},null,null)),(e()(),i.tb(3,0,null,null,3,"div",[["class","mat-expansion-panel-body"]],null,null,null,null,null)),i.Cb(null,1),(e()(),i.kb(16777216,null,null,1,null,r)),i.sb(6,212992,null,0,s.c,[i.j,i.R],{portal:[0,"portal"]},null),i.Cb(null,2)],function(e,t){e(t,6,0,t.component._portal)},function(e,t){var a=t.component;e(t,2,0,a._getExpandedState(),a._headerId,a.id)})}var p=i.rb({encapsulation:2,styles:[".mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:0}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-description,.mat-expansion-panel-header-title{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-description,[dir=rtl] .mat-expansion-panel-header-title{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:'';display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}"],data:{animation:[{type:7,name:"indicatorRotate",definitions:[{type:0,name:"collapsed, void",styles:{type:6,styles:{transform:"rotate(0deg)"},offset:null},options:void 0},{type:0,name:"expanded",styles:{type:6,styles:{transform:"rotate(180deg)"},offset:null},options:void 0},{type:1,expr:"expanded <=> collapsed, void => collapsed",animation:{type:4,styles:null,timings:"225ms cubic-bezier(0.4,0.0,0.2,1)"},options:null}],options:{}},{type:7,name:"expansionHeight",definitions:[{type:0,name:"collapsed, void",styles:{type:6,styles:{height:"{{collapsedHeight}}"},offset:null},options:{params:{collapsedHeight:"48px"}}},{type:0,name:"expanded",styles:{type:6,styles:{height:"{{expandedHeight}}"},offset:null},options:{params:{expandedHeight:"64px"}}},{type:1,expr:"expanded <=> collapsed, void => collapsed",animation:{type:3,steps:[{type:11,selector:"@indicatorRotate",animation:{type:9,options:null},options:{optional:!0}},{type:4,styles:null,timings:"225ms cubic-bezier(0.4,0.0,0.2,1)"}],options:null},options:null}],options:{}}]}});function u(e){return i.Nb(0,[(e()(),i.tb(0,0,null,null,0,"span",[["class","mat-expansion-indicator"]],[[24,"@indicatorRotate",0]],null,null,null,null))],null,function(e,t){e(t,0,0,t.component._getExpandedState())})}function d(e){return i.Nb(2,[(e()(),i.tb(0,0,null,null,3,"span",[["class","mat-content"]],null,null,null,null,null)),i.Cb(null,0),i.Cb(null,1),i.Cb(null,2),(e()(),i.kb(16777216,null,null,1,null,u)),i.sb(5,16384,null,0,o.n,[i.R,i.O],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,5,0,t.component._showToggle())},null)}},Rlre:function(e,t,a){"use strict";a.d(t,"b",function(){return h}),a.d(t,"c",function(){return P}),a.d(t,"a",function(){return x}),a.d(t,"d",function(){return A});var i=a("CcnG"),o=a("La40"),s=a("Ip0R"),n=a("M2Lx"),r=a("Fzqc"),l=a("Wf4p"),p=(a("ZYjt"),a("4c35")),u=a("dWZg"),d=a("lLAP"),c=a("wFw1"),m=a("qAlS"),h=i.rb({encapsulation:2,styles:[".mat-tab-group{display:flex;flex-direction:column}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:0}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}@media (-ms-high-contrast:active){.mat-tab-label:focus{outline:dotted 2px}}.mat-tab-label.mat-tab-disabled{cursor:default}@media (-ms-high-contrast:active){.mat-tab-label.mat-tab-disabled{opacity:.5}}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}@media (-ms-high-contrast:active){.mat-tab-label{opacity:1}}@media (max-width:599px){.mat-tab-label{padding:0 12px}}@media (max-width:959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height .5s cubic-bezier(.35,0,.25,1)}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}"],data:{}});function y(e){return i.Nb(0,[(e()(),i.kb(0,null,null,0))],null,null)}function f(e){return i.Nb(0,[(e()(),i.kb(16777216,null,null,1,null,y)),i.sb(1,212992,null,0,p.c,[i.j,i.R],{portal:[0,"portal"]},null),(e()(),i.kb(0,null,null,0))],function(e,t){e(t,1,0,t.parent.context.$implicit.templateLabel)},null)}function D(e){return i.Nb(0,[(e()(),i.Lb(0,null,["",""]))],null,function(e,t){e(t,0,0,t.parent.context.$implicit.textLabel)})}function g(e){return i.Nb(0,[(e()(),i.tb(0,0,null,null,8,"div",[["cdkMonitorElementFocus",""],["class","mat-tab-label mat-ripple"],["mat-ripple",""],["matTabLabelWrapper",""],["role","tab"]],[[8,"id",0],[1,"tabIndex",0],[1,"aria-posinset",0],[1,"aria-setsize",0],[1,"aria-controls",0],[1,"aria-selected",0],[1,"aria-label",0],[1,"aria-labelledby",0],[2,"mat-tab-label-active",null],[2,"mat-ripple-unbounded",null],[2,"mat-tab-disabled",null],[1,"aria-disabled",0]],[[null,"click"]],function(e,t,a){var o=!0;return"click"===t&&(o=!1!==e.component._handleClick(e.context.$implicit,i.Db(e.parent,3),e.context.index)&&o),o},null,null)),i.sb(1,212992,null,0,l.w,[i.k,i.B,u.a,[2,l.m],[2,c.a]],{disabled:[0,"disabled"]},null),i.sb(2,147456,null,0,d.e,[i.k,d.h],null,null),i.sb(3,16384,[[3,4]],0,o.i,[i.k],{disabled:[0,"disabled"]},null),(e()(),i.tb(4,0,null,null,4,"div",[["class","mat-tab-label-content"]],null,null,null,null,null)),(e()(),i.kb(16777216,null,null,1,null,f)),i.sb(6,16384,null,0,s.n,[i.R,i.O],{ngIf:[0,"ngIf"]},null),(e()(),i.kb(16777216,null,null,1,null,D)),i.sb(8,16384,null,0,s.n,[i.R,i.O],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,1,0,t.context.$implicit.disabled||t.component.disableRipple),e(t,3,0,t.context.$implicit.disabled),e(t,6,0,t.context.$implicit.templateLabel),e(t,8,0,!t.context.$implicit.templateLabel)},function(e,t){var a=t.component;e(t,0,1,[a._getTabLabelId(t.context.index),a._getTabIndex(t.context.$implicit,t.context.index),t.context.index+1,a._tabs.length,a._getTabContentId(t.context.index),a.selectedIndex==t.context.index,t.context.$implicit.ariaLabel||null,!t.context.$implicit.ariaLabel&&t.context.$implicit.ariaLabelledby?t.context.$implicit.ariaLabelledby:null,a.selectedIndex==t.context.index,i.Db(t,1).unbounded,i.Db(t,3).disabled,!!i.Db(t,3).disabled])})}function v(e){return i.Nb(0,[(e()(),i.tb(0,0,null,null,1,"mat-tab-body",[["class","mat-tab-body"],["role","tabpanel"]],[[8,"id",0],[1,"aria-labelledby",0],[2,"mat-tab-body-active",null]],[[null,"_onCentered"],[null,"_onCentering"]],function(e,t,a){var i=!0,o=e.component;return"_onCentered"===t&&(i=!1!==o._removeTabBodyWrapperHeight()&&i),"_onCentering"===t&&(i=!1!==o._setTabBodyWrapperHeight(a)&&i),i},b,E)),i.sb(1,245760,null,0,o.d,[i.k,[2,r.b],i.h],{_content:[0,"_content"],origin:[1,"origin"],animationDuration:[2,"animationDuration"],position:[3,"position"]},{_onCentering:"_onCentering",_onCentered:"_onCentered"})],function(e,t){e(t,1,0,t.context.$implicit.content,t.context.$implicit.origin,t.component.animationDuration,t.context.$implicit.position)},function(e,t){var a=t.component;e(t,0,0,a._getTabContentId(t.context.index),a._getTabLabelId(t.context.index),a.selectedIndex==t.context.index)})}function P(e){return i.Nb(2,[i.Jb(402653184,1,{_tabBodyWrapper:0}),i.Jb(402653184,2,{_tabHeader:0}),(e()(),i.tb(2,0,null,null,4,"mat-tab-header",[["class","mat-tab-header"]],[[2,"mat-tab-header-pagination-controls-enabled",null],[2,"mat-tab-header-rtl",null]],[[null,"indexFocused"],[null,"selectFocusedIndex"]],function(e,t,a){var i=!0,o=e.component;return"indexFocused"===t&&(i=!1!==o._focusChanged(a)&&i),"selectFocusedIndex"===t&&(i=!1!==(o.selectedIndex=a)&&i),i},C,N)),i.sb(3,7520256,[[2,4],["tabHeader",4]],1,o.g,[i.k,i.h,m.i,[2,r.b],i.B,u.a],{disableRipple:[0,"disableRipple"],selectedIndex:[1,"selectedIndex"]},{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"}),i.Jb(603979776,3,{_labelWrappers:1}),(e()(),i.kb(16777216,null,0,1,null,g)),i.sb(6,278528,null,0,s.m,[i.R,i.O,i.u],{ngForOf:[0,"ngForOf"]},null),(e()(),i.tb(7,0,[[1,0],["tabBodyWrapper",1]],null,2,"div",[["class","mat-tab-body-wrapper"]],null,null,null,null,null)),(e()(),i.kb(16777216,null,null,1,null,v)),i.sb(9,278528,null,0,s.m,[i.R,i.O,i.u],{ngForOf:[0,"ngForOf"]},null)],function(e,t){var a=t.component;e(t,3,0,a.disableRipple,a.selectedIndex),e(t,6,0,a._tabs),e(t,9,0,a._tabs)},function(e,t){e(t,2,0,i.Db(t,3)._showPaginationControls,"rtl"==i.Db(t,3)._getLayoutDirection())})}var E=i.rb({encapsulation:2,styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}"],data:{animation:[{type:7,name:"translateTab",definitions:[{type:0,name:"center, void, left-origin-center, right-origin-center",styles:{type:6,styles:{transform:"none"},offset:null},options:void 0},{type:0,name:"left",styles:{type:6,styles:{transform:"translate3d(-100%, 0, 0)",minHeight:"1px"},offset:null},options:void 0},{type:0,name:"right",styles:{type:6,styles:{transform:"translate3d(100%, 0, 0)",minHeight:"1px"},offset:null},options:void 0},{type:1,expr:"* => left, * => right, left => center, right => center",animation:{type:4,styles:null,timings:"{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)"},options:null},{type:1,expr:"void => left-origin-center",animation:[{type:6,styles:{transform:"translate3d(-100%, 0, 0)"},offset:null},{type:4,styles:null,timings:"{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)"}],options:null},{type:1,expr:"void => right-origin-center",animation:[{type:6,styles:{transform:"translate3d(100%, 0, 0)"},offset:null},{type:4,styles:null,timings:"{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)"}],options:null}],options:{}}]}});function S(e){return i.Nb(0,[(e()(),i.kb(0,null,null,0))],null,null)}function b(e){return i.Nb(2,[i.Jb(402653184,1,{_portalHost:0}),(e()(),i.tb(1,0,[["content",1]],null,4,"div",[["class","mat-tab-body-content"]],[[24,"@translateTab",0]],[[null,"@translateTab.start"],[null,"@translateTab.done"]],function(e,t,a){var i=!0,o=e.component;return"@translateTab.start"===t&&(i=!1!==o._onTranslateTabStarted(a)&&i),"@translateTab.done"===t&&(i=!1!==o._translateTabComplete.next(a)&&i),i},null,null)),i.Gb(2,{animationDuration:0}),i.Gb(3,{value:0,params:1}),(e()(),i.kb(16777216,null,null,1,null,S)),i.sb(5,212992,null,0,o.e,[i.j,i.R,o.d],null,null)],function(e,t){e(t,5,0)},function(e,t){var a=t.component,i=e(t,3,0,a._position,e(t,2,0,a.animationDuration));e(t,1,0,i)})}var N=i.rb({encapsulation:2,styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:0}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}@media (-ms-high-contrast:active){.mat-tab-label:focus{outline:dotted 2px}}.mat-tab-label.mat-tab-disabled{cursor:default}@media (-ms-high-contrast:active){.mat-tab-label.mat-tab-disabled{opacity:.5}}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}@media (-ms-high-contrast:active){.mat-tab-label{opacity:1}}@media (max-width:599px){.mat-tab-label{min-width:72px}}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:.5s cubic-bezier(.35,0,.25,1)}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}@media (-ms-high-contrast:active){.mat-ink-bar{outline:solid 2px;height:0}}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-pagination-after,.mat-tab-header-rtl .mat-tab-header-pagination-before{padding-right:4px}.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:'';height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-tab-list{flex-grow:1;position:relative;transition:transform .5s cubic-bezier(.35,0,.25,1)}.mat-tab-labels{display:flex}[mat-align-tabs=center] .mat-tab-labels{justify-content:center}[mat-align-tabs=end] .mat-tab-labels{justify-content:flex-end}"],data:{}});function C(e){return i.Nb(2,[i.Jb(402653184,1,{_inkBar:0}),i.Jb(402653184,2,{_tabListContainer:0}),i.Jb(402653184,3,{_tabList:0}),i.Jb(402653184,4,{_nextPaginator:0}),i.Jb(402653184,5,{_previousPaginator:0}),(e()(),i.tb(5,0,[[5,0],["previousPaginator",1]],null,2,"div",[["aria-hidden","true"],["class","mat-tab-header-pagination mat-tab-header-pagination-before mat-elevation-z4 mat-ripple"],["mat-ripple",""]],[[2,"mat-tab-header-pagination-disabled",null],[2,"mat-ripple-unbounded",null]],[[null,"click"],[null,"mousedown"],[null,"touchend"]],function(e,t,a){var i=!0,o=e.component;return"click"===t&&(i=!1!==o._handlePaginatorClick("before")&&i),"mousedown"===t&&(i=!1!==o._handlePaginatorPress("before")&&i),"touchend"===t&&(i=!1!==o._stopInterval()&&i),i},null,null)),i.sb(6,212992,null,0,l.w,[i.k,i.B,u.a,[2,l.m],[2,c.a]],{disabled:[0,"disabled"]},null),(e()(),i.tb(7,0,null,null,0,"div",[["class","mat-tab-header-pagination-chevron"]],null,null,null,null,null)),(e()(),i.tb(8,0,[[2,0],["tabListContainer",1]],null,6,"div",[["class","mat-tab-label-container"]],null,[[null,"keydown"]],function(e,t,a){var i=!0;return"keydown"===t&&(i=!1!==e.component._handleKeydown(a)&&i),i},null,null)),(e()(),i.tb(9,0,[[3,0],["tabList",1]],null,5,"div",[["class","mat-tab-list"],["role","tablist"]],null,[[null,"cdkObserveContent"]],function(e,t,a){var i=!0;return"cdkObserveContent"===t&&(i=!1!==e.component._onContentChanges()&&i),i},null,null)),i.sb(10,1196032,null,0,n.a,[n.b,i.k,i.B],null,{event:"cdkObserveContent"}),(e()(),i.tb(11,0,null,null,1,"div",[["class","mat-tab-labels"]],null,null,null,null,null)),i.Cb(null,0),(e()(),i.tb(13,0,null,null,1,"mat-ink-bar",[["class","mat-ink-bar"]],null,null,null,null,null)),i.sb(14,16384,[[1,4]],0,o.b,[i.k,i.B,o.l],null,null),(e()(),i.tb(15,0,[[4,0],["nextPaginator",1]],null,2,"div",[["aria-hidden","true"],["class","mat-tab-header-pagination mat-tab-header-pagination-after mat-elevation-z4 mat-ripple"],["mat-ripple",""]],[[2,"mat-tab-header-pagination-disabled",null],[2,"mat-ripple-unbounded",null]],[[null,"mousedown"],[null,"click"],[null,"touchend"]],function(e,t,a){var i=!0,o=e.component;return"mousedown"===t&&(i=!1!==o._handlePaginatorPress("after")&&i),"click"===t&&(i=!1!==o._handlePaginatorClick("after")&&i),"touchend"===t&&(i=!1!==o._stopInterval()&&i),i},null,null)),i.sb(16,212992,null,0,l.w,[i.k,i.B,u.a,[2,l.m],[2,c.a]],{disabled:[0,"disabled"]},null),(e()(),i.tb(17,0,null,null,0,"div",[["class","mat-tab-header-pagination-chevron"]],null,null,null,null,null))],function(e,t){var a=t.component;e(t,6,0,a._disableScrollBefore||a.disableRipple),e(t,16,0,a._disableScrollAfter||a.disableRipple)},function(e,t){var a=t.component;e(t,5,0,a._disableScrollBefore,i.Db(t,6).unbounded),e(t,15,0,a._disableScrollAfter,i.Db(t,16).unbounded)})}var x=i.rb({encapsulation:2,styles:[],data:{}});function I(e){return i.Nb(0,[i.Cb(null,0),(e()(),i.kb(0,null,null,0))],null,null)}function A(e){return i.Nb(2,[i.Jb(402653184,1,{_implicitContent:0}),(e()(),i.kb(0,[[1,2]],null,0,null,I))],null,null)}},TapR:function(e,t,a){"use strict";a.d(t,"a",function(){return o});var i=a("Ip0R"),o=(a("rP7f"),function(){function e(e,t,a,i){this.toastr=e,this.dialogRef=t,this.data=a,this.employeeCreationService=i,this.refenceNo="",this.heading="",this.date=new Date,this.headerJSON=[],this.errorMessages={},this.forwardDialog_history_list=[]}return e.prototype.ngOnInit=function(){this.getData(),this.heading=this.data.heading},e.prototype.getData=function(){var e=this,t={id:Number(this.data.empId)};this.employeeCreationService.getWorkFlowEmpDetail(t).subscribe(function(t){if(t&&t.result){var a=new i.e("en-US").transform(t.result.dateOfJoining,"dd-MMM-yyyy"),o=new i.e("en-US").transform(t.result.dateOfRetirement,"dd-MMM-yyyy");e.headerJSON.push({label:"Employee Name",value:t.result.employeeName},{label:"Employee Class",value:t.result.className},{label:"Employee Designation",value:t.result.designationName},{label:"Date of Joining",value:a},{label:"Date of Retirement",value:o},{label:"Applicable Pay Commission",value:t.result.payLevelName})}else e.toastr.error(t.message)},function(t){e.toastr.error(t)}),this.getWfHistory(t)},e.prototype.getWfHistory=function(e){var t=this;this.employeeCreationService.getWorkFlowReview(e).subscribe(function(e){e&&e.result&&e.result.length>0&&(t.forwardDialog_history_list=e.result)},function(e){t.toastr.error(e)})},e.prototype.onNoClick=function(){},e}())},UEoe:function(e,t,a){"use strict";a.d(t,"a",function(){return i}),a("rP7f");var i=function(){function e(e,t,a){this.pvuService=e,this.dialogRef=t,this.data=a,this.personalDetailsJson=[],this.deptDetailsJson=[]}return e.prototype.ngOnInit=function(){var e=this,t=0;this.data&&""!==this.data.panNo&&(t=this.data.panNo),0!==t&&this.pvuService.getDuplicatePanDetail({fieldValue:t}).subscribe(function(t){if(t&&t.result){var a=t.result;e.personalDetailsJson=[{label:"Office Name",value:null!=a.officeName?a.officeName:"-"},{label:"Employee Number",value:null!=a.employeeNo?a.employeeNo:"-"},{label:"Salutation",value:null!=a.salutation?a.salutation:"-"},{label:"Employee Name",value:null!=a.employeeName?a.employeeName:"-"},{label:"Middle/Father/Husband Name",value:null!=a.middelName?a.middelName:"-"},{label:"Surname/Last Name",value:null!=a.lastName?a.lastName:"-"},{label:"Gender",value:null!=a.gender?a.gender:"-"},{label:"Email Id",value:null!=a.emailId?a.emailId:"-"},{label:"Mobile No",value:null!=a.mobileNo?a.mobileNo:"-"},{label:"PAN number",value:null!=a.panNo?a.panNo:"-"}],e.deptDetailsJson=[{label:"Designation",value:null!=a.designationName?a.designationName:"-"},{label:"District",value:null!=a.districtName?a.districtName:"-"},{label:"Cardex No.",value:null!=a.cardexNo?a.cardexNo:"-"},{label:"Name of Present Office",value:null!=a.officeName?a.officeName:"-"},{label:"Sub Office",value:null!=a.subOfficeName?a.subOfficeName:"-"},{label:"DDO Code",value:null!=a.ddoNo?a.ddoNo:"-"},{label:"Office Adress and Contact No.",value:null!=a.officeAddress?a.officeAddress:"-"},{label:"Class",value:null!=a.className?a.className:"-"},{label:"Station",value:null!=a.station?a.station:"-"},{label:"Taluka",value:null!=a.taluka?a.taluka:"-"},{label:"Parent Administrative Department Name",value:null!=a.parentDepartment?a.parentDepartment:"-"},{label:"Head of Department Name",value:null!=a.headOfDepartment?a.headOfDepartment:"-"}]}})},e}()},dli2:function(e,t,a){"use strict";a.d(t,"a",function(){return f});var i=a("0kMS"),o=a("gZnZ"),s=a("gIcY"),n=a("BHnd"),r=(a("rP7f"),a("mht0")),l=a("26FU"),p=a("LvDl"),u=(a("fbMX"),a("UEoe")),d=a("q+ny"),c=a("AytR"),m=a("Wxx3"),h=(a("fJ9P"),a("TapR")),y=(a("jcmO"),a("nopv")),f=function(){function e(e,t,a,i,r,p,u,d,c,m,h,y,f){this.fb=e,this.toastr=t,this.el=a,this.dialog=i,this.activatedRoute=r,this.router=p,this.routeService=u,this.pvuService=d,this.datepipe=c,this.httpClient=m,this.storageService=h,this.employeeCreationPopUpServiceService=y,this.dialogRefEmployeeCreation=f,this.addharMask="0000-0000-0000",this.panMask="SSSSS0000S",this.mobNoMask="0000000000",this.cccExemptedArray=[],this.cccExemptedFlag=!1,this.loader=!1,this.isPersonalSaveDisabled=!1,this.isQualSaveDisabled=!1,this.isDeptSaveDisabled=!1,this.isPaySaveDisabled=!1,this.isHodRequired=!0,this.isAccNoMatch=!0,this.isPassDateRequired=!1,this.isPhLevelRequired=!1,this.isTabDisabled=!0,this.quallfctnBtnDisable=!1,this.disableQualField=!1,this.maxDOJ=new Date,this.minDate=new Date,this.joiningDateGog=new Date,this.minDate4th=new Date(1986,0,1),this.minDate5th=new Date(1996,0,1),this.maxDate5th=new Date(2005,11,31),this.minDate6th=new Date(2006,0,1),this.minDate7th=new Date(2016,0,1),this.eventsClm=new l.a(["noData"]),this.empAddressId=0,this.duplicatePanNo=!1,this.gujaratId=0,this.today=new Date,this.nomineeHighlight=!1,this.qualHighlight=!1,this.deptHighlight=!1,this.cccHighlight=!1,this.langHighlight=!1,this.dialogOpen=!1,this.payDetailType={formAction:"SUBMITTED",pvuEmployeFixPayDetailDto:{fixPayValue:"string",effDate:"number"},pvuEmployeSixPayDetailDto:{dateOfOption:"string",dateOfPreRevisedNextIncrement:"string",dateOfStagnational:"string",effDate:"string",dateOfNextIncrement:"string",empDesignationAsOn:"number",empId:"number",empOtherDesignation:"string",formAction:"string",gradePay:"number",incrementAmount:"number",preRevisedBasicPay:"number",preRevisedPayScale:"number",revisedPayBand:"number",sixpayId:"number",payBandValue:"number",basicPay:"number"},pvuEmployeSevenPayDetailDto:{basicPay:"number",cellId:"number",dateOfBenefitEffective:"string",dateOfNextIncrement:"string",empId:"number",formAction:"string",payLevel:"number",sevenpayId:"string"},pvuEmployefivePayDetailDto:{basicPay:"number",effectiveDate:"string",dateOfNextIncrement:"string",empId:"number",fifthPayId:"number",formAction:"string",payScale:"number"},pvuEmployefourthPayDetailDto:{basicPay:"number",effectiveDate:"string",empId:"number",formAction:"string",fourthPayId:"number",payScale:"number",statusId:"number"}},this.displayedColumns=["employementTypeName","deptName","officeName","officeAdd","empDesignationHist","fromDate","toDate","lastPayDrawn","empServiceContinuationName","orderNoDate","action"],this.tabDisable=!0,this.phCategory=!1,this.serviceOrderNo=!1,this.isDeputation=!1,this.isDeptExamApplicable=!1,this.isDepExemptedStatus=!1,this.isCCCExamApplicable=!1,this.isCccExemptedStatus=!1,this.isEmployeementApplicable=!1,this.sameAsCurrentAddr=!1,this.sameAsPermanentAddr=!1,this.fileDetailsNomi=!1,this.fileDetailsGenForm=!1,this.fileDetailsNpsForm=!1,this.fileDetailsEmp=!1,this.fileBrowseEmp=!0,this.disableQual=!1,this.disableFieldDept=!1,this.exemptDept=!1,this.applicableDept=!1,this.exemptCCC=!1,this.cccExmptedStatus=!1,this.deptExamptedStatus=!1,this.disableFieldCCC=!1,this.disabledeptHOD=!1,this.applicableCCC=!1,this.listshow=!1,this.prevEmpHistory=!1,this.showGPF=!0,this.showPRAN=!0,this.errorMessages=o.b,this.curStateList=[],this.perStateList=[],this.natStateList=[],this.curDistrictList=[],this.perDistrictList=[],this.natDistrictList=[],this.curTalukaList=[],this.perTalukaList=[],this.natTalukaList=[],this.nationalityList=[],this.phStatusList=[],this.phTypeList=[],this.curOfficeDistList=[],this.fourthBasicPayError=!1,this.fifthBasicPayError=!1,this.sixthBasicPayError=!1,this.parentAdminDeptList=[],this.parentHeadDeptList=[],this.subOfficeList=[],this.passingYearListData=[],this.passingYearList=[],this.talukaList=[],this.isSuspendedList=[],this.fivePayScaleList=[],this.fourPayScaleList=[],this.sixPayGrade=[],this.npaAmountList=[],this.fixPayList=[],this.cellIdList=[],this.salutationCtrl=new s.g,this.applicablePayCommCtrl=new s.g,this.genderCtrl=new s.g,this.nationalityCtrl=new s.g,this.maritalStatusCtrl=new s.g,this.categoryCtrl=new s.g,this.bloodGroupCtrl=new s.g,this.phStatusCtrl=new s.g,this.phTypeCtrl=new s.g,this.nStateCtrl=new s.g,this.nDistrictCtrl=new s.g,this.nTalukaCtrl=new s.g,this.nCityCtrl=new s.g,this.pStateCtrl=new s.g,this.pDistrictCtrl=new s.g,this.pTalukaCtrl=new s.g,this.pCityCtrl=new s.g,this.cStateCtrl=new s.g,this.cDistrictCtrl=new s.g,this.cTalukaCtrl=new s.g,this.cCityCtrl=new s.g,this.cOfficeDistCtrl=new s.g,this.empCategoryCtrl=new s.g,this.empStatusCtrl=new s.g,this.empTypeCtrl=new s.g,this.empDesignationCtrl=new s.g,this.parentAdminDeptCtrl=new s.g,this.fixPayValueCtrl=new s.g,this.parentHeadDeptCtrl=new s.g,this.presentOfficeCtrl=new s.g,this.subOfficeCtrl=new s.g,this.empClassCtrl=new s.g,this.departmentalCategoryCtrl=new s.g,this.empDesignationAsOnCtrl=new s.g,this.preRevisedPayScaleCtrl=new s.g,this.revisedPayBandCtrl=new s.g,this.gradePayCtrl=new s.g,this.npaAmountCtrl=new s.g,this.degreeCtrl=[new s.g],this.courseCtrl=[new s.g],this.passingYearCtrl=[new s.g],this.employementTypeCtrl=new s.g,this.empDesignationHistCtrl=new s.g,this.empServiceContinuationCtrl=new s.g,this.cellIdCtrl=new s.g,this.payLevelCtrl=new s.g,this.cccExamNameCtrl=[new s.g],this.cccExamBodyCtrl=[new s.g],this.cccExamStatusCtrl=[new s.g],this.relationshipCtrl=[new s.g],this.examBodyCtrl=[new s.g],this.deptHodNameCtrl=[new s.g],this.deptExamStatusCtrl=[new s.g],this.langNameCtrl=[new s.g],this.langExamTypeCtrl=[new s.g],this.langExamStatusCtrl=[new s.g],this.payScaleCtrl=new s.g,this.fifthGradeCtrl=new s.g,this.qualificationData=[{empQualiId:0,degree:0,courseName:"",isOtherCourseName:!1,otherCourseName:"",passingYear:"",schoolCollege:"",universityBoard:"",percentageCGPA:"",remarks:""}],this.displayedQualificationColumns=["degree","courseName","passingYear","schoolCollege","universityBoard","percentageCGPA","remarks","Action"],this.dataSourceQualification=new n.o(this.qualificationData),this.masterPhdData=[{empQualiId:0,degree:0,courseName:"",isOtherCourseName:!1,otherCourseName:"",passingYear:"",schoolCollege:"",universityBoard:"",percentageCGPA:"",remarks:""}],this.displayedMasterPhdColumns=["degree","courseName","passingYear","schoolCollege","universityBoard","percentageCGPA","remarks","Action"],this.dataSourceMasterPhd=new n.o(this.masterPhdData),this.nomineeData=[{empNomineeId:"0",relationship:"",otherRelationship:"",nomineeName:"",nomineeAddress:"",nomineeAge:"",nomineeShare:"",photoOfNominee:"",genNomiForm:"",npsNomiForm:"",fileBrowseNomi:!0,fileBrowseGenForm:!0,fileBrowseNpsForm:!0,isOtherRelation:!1,nomineePhotoName:"",genNomineeFormName:"",npsNomineeFormName:""}],this.displayedNomineeColumns=["relationship","nomineeName","nomineeAddress","nomineeAge","nomineeShare","photoOfNominee","genNomiForm","npsNomiForm","Action"],this.dataSourceNominee=new n.o(this.nomineeData),this.deptExamData=[{empDeptExamDetailId:0,deptExamName:"",examBody:0,deptHodName:0,otherDeptHodName:"",dateOfPassing:"",examStatus:0,examAttempts:"",remarks:"",disabledeptHOD:!1}],this.displayedDeptExamColumns=["deptExamName","examBody","deptHodName","dateOfPassing","examStatus","examAttempts","remarks","Action"],this.dataSourceDeptExam=new n.o(this.deptExamData),this.spclExamData=[{empCCCExamDetailId:0,cccExamName:0,examBody:0,dateOfExam:"",dateOfPassing:"",examStatus:0,certificateNo:"",remarks:""}],this.displayedspclExamColumns=["cccExamName","examBody","dateOfExam","dateOfPassing","examStatus","certificateNo","remarks","Action"],this.dataSourceSpclExam=new n.o(this.spclExamData),this.languageExamData=[{empLangExamId:0,langName:0,examBody:"",examType:0,dateOfPassing:"",seatNo:"",examStatus:0,remarks:""}],this.allEventsList=[{transacNumber:1100100012,eventName:"Employee Creation",eventEffectiveDate:"04-01-2020",employeeName:"Hardik Nenuji",payScale:"",gradePay:"",payBandValue:"",empBasicPay:"",designation:"Sub Accountant",dateOfAudit:"04-01-2020",status:"Approved"}],this.payComissionList=[{transacNumber:1100100013,eventName:"ROP 1998",eventEffectiveDate:"01-01-1996",payScale:"6500-200-10500",empBasicPay:6700,incrementDate:"04-01-1996",designation:"Sub Accountant",optionAvailed:"",optionDate:"",dateOfAudit:"04-01-2020",status:"PVU_Approved",action:"View",remarks:""},{transacNumber:1100100014,eventName:"Regular Increment",eventEffectiveDate:"04-01-1996",payScale:"6500-200-10500",empBasicPay:6900,incrementDate:"04-01-1996",designation:"Sub Accountant",optionAvailed:"",optionDate:"",dateOfAudit:"04-01-2020",status:"DDO Approved",action:"View",remarks:"Event name : Increment"}],this.revisedPayComissionList=[{transacNumber:1100100012,eventName:"ROP 1998",eventEffectiveDate:"04-01-2020",payScale:"6500-200-10500",empBasicPay:7300,incrementDate:"04-01-1996",designation:"Sub Accountant",optionAvailed:"",optionDate:"",dateOfAudit:"04-01-2020",status:"Approved",action:"View",remarks:""},{transacNumber:1100100013,eventName:"Regular Increment",eventEffectiveDate:"04-01-1996",payScale:"6500-200-10500",empBasicPay:7500,incrementDate:"04-01-1996",designation:"Sub Accountant",optionAvailed:"",optionDate:"",dateOfAudit:"04-01-2020",status:"DDO Approved",action:"View",remarks:"Event name : Increment"}],this.sixthPayComissionList=[{transacNumber:1100100026,eventName:"ROP 2009",eventEffectiveDate:"01-01-2006",payBand:"9300-34800",payBandValue:16930,gradePay:5400,basicPay:22330,incrementDate:"07-01-2006",designation:"Sub Accountant",optionAvailed:"",optionDate:"",dateOfAudit:"01-01-2006",status:"PVU Approved",action:"View"},{transacNumber:1100100027,eventName:"Regular Increment",eventEffectiveDate:"07-01-2006",payBand:"9300-34800",payBandValue:17600,gradePay:5400,basicPay:23e3,incrementDate:"04-01-1996",designation:"Sub Accountant",optionAvailed:"",optionDate:"",dateOfAudit:"07-01-2006",status:"DDO Approved",action:"View"}],this.revisedSixthPayComissionList=[{transacNumber:1100100026,eventName:"ROP 2009",eventEffectiveDate:"01-01-2006",payBand:"9300-34800",payBandValue:17950,gradePay:5400,basicPay:23350,incrementDate:"07-01-2006",designation:"Sub Accountant",optionAvailed:"",optionDate:"",dateOfAudit:"01-01-2006",status:"PVU Approved",action:"View"},{transacNumber:1100100027,eventName:"Regular Increment",eventEffectiveDate:"07-01-2006",payBand:"9300-34800",payBandValue:18660,gradePay:5400,basicPay:24060,incrementDate:"07-01-2006",designation:"Sub Accountant",optionAvailed:"",optionDate:"",dateOfAudit:"07-01-2006",status:"DDO Approved",action:"View"}],this.seventhPayComissionList=[{transacNumber:1100100126,eventName:"ROP 2016",eventEffectiveDate:"01-01-2016",payLevel:"LEVEL-9",cellId:14,basicPay:"77900",incrementDate:"07-01-2016",designation:"Sub Accountant",optionAvailed:"",optionDate:"",dateOfAudit:"01-01-2016",status:"PVU Approved",action:"View"},{transacNumber:1100100127,eventName:"Regular Increment",eventEffectiveDate:"07-01-2016",payLevel:"LEVEL-9",cellId:15,basicPay:"80200",incrementDate:"07-01-2017",designation:"Sub Accountant",optionAvailed:"",optionDate:"",dateOfAudit:"07-01-2016",status:"DDO Approved",action:"View"}],this.revisedSeventhPayComissionList=[{transacNumber:1100100126,eventName:"ROP",eventEffectiveDate:"01-01-1996",payLevel:"LEVEL-9",cellId:16,basicPay:82600,incrementDate:"07-01-2016",designation:"Sub Accountant",optionAvailed:"",optionDate:"",dateOfAudit:"01-01-2016",status:"PVU Approved",action:"View"},{transacNumber:1100100127,eventName:"Regular Increment",eventEffectiveDate:"04-01-1996",payLevel:"LEVEL-9",cellId:17,basicPay:82100,incrementDate:"07-01-2016",designation:"Sub Accountant",optionAvailed:"",optionDate:"",dateOfAudit:"07-01-2016",status:"DDO Approved",action:"View"}],this.displayedEventsColumns=["srNo","transacNumber","eventName","eventDate","empPayBand","payBandValue","employeePayLevel","empBasicPay","personalPay","incrementDate","designation","optionOpted","approvalDate"],this.displayed5ThPayCommisionColumns=["srNo","transacNumber","eventName","eventEffectiveDate","payScale","empBasicPay","incrementDate","designation","optionAvailed","optionDate","dateOfAudit","status","action","remarks"],this.displayed6ThPayCommisionColumns=["srNo","transacNumber","eventName","eventEffectiveDate","payBand","payBandValue","gradePay","basicPay","incrementDate","designation","optionAvailed","optionDate","dateOfAudit","status","action"],this.displayedRevi6ThPayCommisionColumns=["srNo","transacNumber","eventName","eventEffectiveDate","payBand","payBandValue","gradePay","basicPay","incrementDate","designation","optionAvailed","optionDate","dateOfAudit","status","action"],this.displayed7ThPayCommisionColumns=["srNo","transacNumber","eventName","eventEffectiveDate","payLevel","cellId","basicPay","incrementDate","designation","optionAvailed","optionDate","dateOfAudit","status","action"],this.displayedRevise7ThPayCommisionColumns=["srNo","transacNumber","eventName","eventEffectiveDate","payLevel","cellId","basicPay","incrementDate","designation","optionAvailed","optionDate","dateOfAudit","status","action"],this.displayedLangExamColumns=["langName","examBody","examType","dateOfPassing","seatNo","examStatus","remarks","Action"],this.displayedRevised5ThPayCommisionColumns=["srNo","transacNumber","eventName","eventEffectiveDate","payScale","empBasicPay","incrementDate","designation","optionAvailed","optionDate","dateOfAudit","status","action","remarks"],this.dataSourceLangExam=new n.o(this.languageExamData),this.dataSource=new n.o,this.dataSourceEvents=new n.o(["noData"]),this.dataSource5ThPayCommision=new n.o(this.payComissionList),this.dataSourceRevised5ThPayCommision=new n.o(this.revisedPayComissionList),this.dataSource6ThPayCommision=new n.o(this.sixthPayComissionList),this.dataSourceRevise6ThPayCommision=new n.o(this.revisedSixthPayComissionList),this.dataSource7ThPayCommision=new n.o(this.seventhPayComissionList),this.dataSourceRevise7ThPayCommision=new n.o(this.revisedSeventhPayComissionList),this.isSaveDraftVisible=!1,this.dateOfBirth=new Date,this.payMasterData=[],this.formattedDateOfBirth=new Date,this.minDoj=new Date,this.minDob=new Date(this.minDoj.getFullYear()-100,this.minDoj.getMonth(),this.minDoj.getDate()),this.joiningPayId=null,this.isJoiningFixPay=!1,this.isJoining1stPay=!1,this.isJoining2ndPay=!1,this.isJoining3rdPay=!1,this.isJoining4thPay=!1,this.isJoining5thPay=!1,this.isJoining6thPay=!1,this.isJoining7thPay=!1,this.joinFixPayValueCtrl=new s.g,this.join3rdScaleCtrl=new s.g,this.join3rdBasicPayError=!1,this.join4thScaleCtrl=new s.g,this.join4thBasicPayError=!1,this.join5thScaleCtrl=new s.g,this.join5thBasicPayError=!1,this.join6thPayBandCtrl=new s.g,this.join6thGradePayCtrl=new s.g,this.join6thBasicPayError=!1,this.join7thPayLevelCtrl=new s.g,this.join7thCellIdCtrl=new s.g,this.bankId=null,this.ifscCodeCtrl=new s.g,this.accountTypeCtrl=new s.g,this.retirementDateFilter=function(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()===e.getDate()},this.sixthDateOfNextIncrFilter=function(e){var t=new Date(e.getFullYear(),6,1),a=t.getDate(),i=e.getDate(),o=t.getMonth(),s=e.getMonth();return a===i&&o===s},this.seventhDateOfNextIncrFilter=function(e){var t=new Date(e.getFullYear(),6,1).getDate(),a=e.getDate(),i=e.getMonth();return t===a&&(0===i||6===i)};var D=new Date;this.defaultDob=new Date(D.getFullYear()-18,D.getMonth(),D.getDate())}return Object.defineProperty(e.prototype,"matSort",{set:function(e){this.sort=e,this.setDataSourceAttributes()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"matPaginator",{set:function(e){this.paginator=e,this.setDataSourceAttributes()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.createJoiningPayForm(),this.bankDetailsForm=this.fb.group({accountType:["",s.x.required],ifscCode:["",s.x.required],bankName:[""],bankAddress:[""],bankAccNo1:["",[s.x.required,s.x.minLength(5),s.x.maxLength(25)]],bankAccNo2:["",[s.x.required,s.x.minLength(5),s.x.maxLength(25)]]}),this.createForm(),0!==this.employeeCreationPopUpServiceService.empID?(this.dialogOpen=!0,this.selectedIndex=4,this.currentPost=y.d,this.patchDepartmentDetail(),this.getAttachmentMaster(y.d.menuId),this.getSubOffice(y.d.officeDetail.officeId)):this.pvuService.getCurrentUserDetail().then(function(t){t&&(e.currentPost=t,e.patchDepartmentDetail(),e.getAttachmentMaster(t.menuId),e.getSubOffice(t.officeDetail.officeId))}),this.getPayMasters(),this.subscribeParams=this.activatedRoute.params.subscribe(function(t){e.action=t.action,e.action&&"edit"===e.action||"view"===e.action?(e.isTabDisabled=!0,e.empId=+t.id,e.loader=!0,e.getLookUpInfoData(),e.passportExpiryMand(),e.empId?"view"===e.action&&e.disableForms():e.router.navigate(["../add"],{relativeTo:e.activatedRoute})):(e.loader=!0,e.getLookUpInfoData())});var t=this.employeeCreationPopUpServiceService.empID;this.employeeCreationPopUpServiceService.empID=0,0!==t&&(this.action="view",this.isTabDisabled=!0,this.empId=t,this.getLookUpInfoData(),this.passportExpiryMand(),this.getAttachmentMaster("46"),this.empId&&"view"===this.action&&this.disableForms())},e.prototype.disableForms=function(){this.addharMask="XXXX XXXX 0000",this.panMask="AAXXXXXX0A",this.mobNoMask="XXXXXX0000",this.isTabDisabled=!1,this.createEmployeeForm.disable(),this.departmentalDetails.disable(),this.disableJoiningForm(),this.bankDetailsForm.disable(),this.createFixPayDetail.disable(),this.create4thPayDetails.disable(),this.create5thPayDetails.disable(),this.create6thPayDetails.disable(),this.create7thPayDetails.disable(),this.disableQual=!0,this.displayedNomineeColumns=["relationship","nomineeName","nomineeAddress","nomineeAge","nomineeShare","photoOfNominee","genNomiForm","npsNomiForm"],this.displayedQualificationColumns=["degree","courseName","passingYear","schoolCollege","universityBoard","percentageCGPA","remarks"],this.displayedDeptExamColumns=["deptExamName","examBody","deptHodName","dateOfPassing","examStatus","examAttempts","remarks"],this.displayedspclExamColumns=["cccExamName","examBody","dateOfExam","dateOfPassing","examStatus","certificateNo","remarks"],this.displayedLangExamColumns=["langName","examBody","examType","dateOfPassing","seatNo","examStatus","remarks"],this.displayedColumns=["employementTypeName","deptName","officeName","officeAdd","empDesignationHist","fromDate","toDate","lastPayDrawn","empServiceContinuationName","orderNoDate"]},e.prototype.createJoiningPayForm=function(){this.joiningFixPayDetail=this.fb.group({joinFixPayValue:["",s.x.required]}),this.joining1stPayDetail=this.fb.group({join1stScale:["",s.x.required],join1stBasicPay:["",s.x.required]}),this.joining2ndPayDetail=this.fb.group({join2ndScale:["",s.x.required],join2ndBasicPay:["",s.x.required]}),this.joining3rdPayDetail=this.fb.group({join3rdScale:["",s.x.required],join3rdBasicPay:["",s.x.required]}),this.joining4thPayDetail=this.fb.group({join4thScale:["",s.x.required],join4thBasicPay:["",s.x.required]}),this.joining5thPayDetail=this.fb.group({join5thScale:["",s.x.required],join5thBasicPay:["",s.x.required]}),this.joining6thPayDetail=this.fb.group({join6thPayBand:["",s.x.required],join6thPayBandValue:["",s.x.required],join6thGradePay:["",s.x.required],join6thBasicPay:[""]}),this.joining7thPayDetail=this.fb.group({join7thPayLevel:["",s.x.required],join7thCellId:["",s.x.required],join7thBasicPay:[""]})},e.prototype.ifscCodeChange=function(){var e=this;if(this.bankDetailsForm.get("ifscCode").value&&this.ifscCodeList){var t=this.ifscCodeList.filter(function(t){return e.bankDetailsForm.get("ifscCode").value===t.id})[0];this.bankDetailsForm.patchValue(t?{bankName:t.name,bankAddress:t.address}:{bankName:"",bankAddress:""})}else this.bankDetailsForm.patchValue({bankName:"",bankAddress:""})},e.prototype.resetBankDetails=function(){this.bankDetailsForm.patchValue({accountType:"",ifscCode:"",bankName:"",bankAddress:"",bankAccNo1:"",bankAccNo2:""}),this.accountTypeList&&1===this.accountTypeList.length&&this.accountTypeList[0].lookupInfoId&&this.bankDetailsForm.controls.accountType.setValue(this.accountTypeList[0].lookupInfoId)},e.prototype.getPayMasters=function(){var e=this,t=this;this.pvuService.getPayMasters({request:{departmentCategoryId:this.departmentCategoryIdSelected}}).subscribe(function(a){200===a.status&&a.result?(t.payMasterData=p.cloneDeep(a.result),t.payLevelList=p.cloneDeep(t.payMasterData[152]),t.join7thPayLevelList=p.cloneDeep(t.payMasterData[152]),e.empId&&e.getPayDetails({id:e.empId}),e.join3rdScaleList=a.result[148],e.fourPayScaleList=a.result[149],e.fivePayScaleList=a.result[150],e.join5thScaleList=p.cloneDeep(a.result[150]),e.preRevisedPayScaleList=a.result[150],e.sixPayGrade=p.cloneDeep(a.result[151]),e.join6thPayBandList=p.cloneDeep(a.result[151])):t.toastr.error(a.message)},function(e){t.toastr.error(e)})},e.prototype.getSubOffice=function(e){var t=this;e&&this.pvuService.getSubOffice({id:e}).subscribe(function(e){e&&e.result&&(t.subOfficeList=e.result)})},e.prototype.getAttachmentMaster=function(e){var t=this;e&&this.pvuService.getAttachmentByMenuId({id:e}).subscribe(function(e){e&&e.result&&(t.attachmentData=e.result[0])})},e.prototype.getOfficeDetails=function(){var e=this;this.pvuService.getOfficeByDistrict(this.departmentalDetails.controls.districtId.value).subscribe(function(t){t&&t.result&&200===t.status&&t.result.forEach(function(t){Number(e.departmentalDetails.controls.cardexNo.value)===t.cardexno&&(e.departmentalDetails.patchValue({ddoCode:Number(t.ddoNo),officeAddNum:t.addressDescription,presentOffice:t.officeName}),e.presentOfficeId=t.officeId)})})},e.prototype.getPayGrade=function(){var e=this.create6thPayDetails.get("revisedPayBand").value,t=this.sixPayGrade.filter(function(t){return t.id===e});t&&t[0]&&(this.gradePayList=t[0].gradePays)},e.prototype.getJoiningPayGrade=function(){var e=this.joining6thPayDetail.get("join6thPayBand").value,t=this.join6thPayBandList.filter(function(t){return t.id===e});t&&t[0]&&(this.join6thGradePayList=t[0].gradePays)},e.prototype.getPayDetails=function(e){var t=this;this.pvuService.getPayDetails(e).subscribe(function(e){e&&e.result&&(t.patchPayDetail(e.result),"view"===t.action&&(t.createFixPayDetail.disable(),t.create4thPayDetails.disable(),t.create5thPayDetails.disable(),t.create6thPayDetails.disable(),t.create7thPayDetails.disable(),t.disableJoiningForm()))})},e.prototype.disableJoiningForm=function(){this.joiningFixPayDetail.disable(),this.joining1stPayDetail.disable(),this.joining2ndPayDetail.disable(),this.joining3rdPayDetail.disable(),this.joining4thPayDetail.disable(),this.joining5thPayDetail.disable(),this.joining6thPayDetail.disable(),this.joining7thPayDetail.disable()},e.prototype.patchPayDetail=function(e){var t=this.departmentalDetails.get("payCommissionJoiningTime").value;this.payData=e,e.pvuEmpBankDetailDto?(this.bankId=e.pvuEmpBankDetailDto.id,this.bankDetailsForm.patchValue({accountType:e.pvuEmpBankDetailDto.accountType,ifscCode:e.pvuEmpBankDetailDto.ifscCode,bankName:e.pvuEmpBankDetailDto.bankName,bankAddress:e.pvuEmpBankDetailDto.bankAddress,bankAccNo1:e.pvuEmpBankDetailDto.accountNo,bankAccNo2:e.pvuEmpBankDetailDto.accountNo}),this.validateAccNo()):this.resetBankDetails(),null==e.pvuEmployeFixPayDetailsDto||341!==t&&!this.approvedStatus?this.resetFixPayForm():(this.createFixPayDetail.patchValue({fixPayValue:""!==e.pvuEmployeFixPayDetailsDto.fixPayValue&&null!=e.pvuEmployeFixPayDetailsDto.fixPayValue&&0!==e.pvuEmployeFixPayDetailsDto.fixPayValue?e.pvuEmployeFixPayDetailsDto.fixPayValue:"",effDate:this.dateFormating(e.pvuEmployeFixPayDetailsDto.effDate)}),this.fixPayId=e.pvuEmployeFixPayDetailsDto.fixPayId),null==e.pvuEmployefourthPayDetailDto||149!==t&&148!==t&&339!==t&&338!==t?this.reset4thPayForm():(this.create4thPayDetails.patchValue({payScale:""!==e.pvuEmployefourthPayDetailDto.payScale&&null!=e.pvuEmployefourthPayDetailDto.payScale&&0!==e.pvuEmployefourthPayDetailDto.payScale?e.pvuEmployefourthPayDetailDto.payScale:"",basicPay:""!==e.pvuEmployefourthPayDetailDto.basicPay&&null!=e.pvuEmployefourthPayDetailDto.basicPay&&0!==e.pvuEmployefourthPayDetailDto.basicPay?e.pvuEmployefourthPayDetailDto.basicPay:"",effectiveDate:this.dateFormating(e.pvuEmployefourthPayDetailDto.effectiveDate)}),this.create4thPayDetails.updateValueAndValidity(),this.fourthPayId=e.pvuEmployefourthPayDetailDto.fourthPayId,"view"!==this.action&&this.validate4thBasicPayRange({value:this.create4thPayDetails.controls.payScale.value},"current")),null==e.pvuEmployefivePayDetailDto||150!==t&&149!==t&&148!==t&&339!==t&&338!==t?this.reset5thPayForm():(this.create5thPayDetails.patchValue({payScale:""!==e.pvuEmployefivePayDetailDto.payScale&&null!=e.pvuEmployefivePayDetailDto.payScale&&0!==e.pvuEmployefivePayDetailDto.payScale?e.pvuEmployefivePayDetailDto.payScale:"",basicPay:""!==e.pvuEmployefivePayDetailDto.basicPay&&null!=e.pvuEmployefivePayDetailDto.basicPay&&0!==e.pvuEmployefivePayDetailDto.basicPay?e.pvuEmployefivePayDetailDto.basicPay:"",effectiveDate:this.dateFormating(e.pvuEmployefivePayDetailDto.effectiveDate),dateOfNextIncrement:this.dateFormating(e.pvuEmployefivePayDetailDto.dateOfNextIncrement)}),this.create5thPayDetails.updateValueAndValidity(),this.fifthPayId=e.pvuEmployefivePayDetailDto.fifthPayId,"view"!==this.action&&this.validate5thBasicPayRange({value:this.create5thPayDetails.controls.payScale.value},"current")),null!=e.pvuEmployeSixPayDetailDto?(this.create6thPayDetails.patchValue({empDesignationAsOn:""!==e.pvuEmployeSixPayDetailDto.empDesignationAsOn&&null!=e.pvuEmployeSixPayDetailDto.empDesignationAsOn&&0!==e.pvuEmployeSixPayDetailDto.empDesignationAsOn?e.pvuEmployeSixPayDetailDto.empDesignationAsOn:"",empOtherDesignation:""!==e.pvuEmployeSixPayDetailDto.empOtherDesignation&&null!=e.pvuEmployeSixPayDetailDto.empOtherDesignation&&0!==e.pvuEmployeSixPayDetailDto.empOtherDesignation?e.pvuEmployeSixPayDetailDto.empOtherDesignation:"",preRevisedPayScale:""!==e.pvuEmployeSixPayDetailDto.preRevisedPayScale&&null!=e.pvuEmployeSixPayDetailDto.preRevisedPayScale&&0!==e.pvuEmployeSixPayDetailDto.preRevisedPayScale?e.pvuEmployeSixPayDetailDto.preRevisedPayScale:"",preRevisedBasicPay:""!==e.pvuEmployeSixPayDetailDto.preRevisedBasicPay&&null!=e.pvuEmployeSixPayDetailDto.preRevisedBasicPay&&0!==e.pvuEmployeSixPayDetailDto.preRevisedBasicPay?e.pvuEmployeSixPayDetailDto.preRevisedBasicPay:"",revisedPayBand:""!==e.pvuEmployeSixPayDetailDto.revisedPayBand&&null!=e.pvuEmployeSixPayDetailDto.revisedPayBand&&0!==e.pvuEmployeSixPayDetailDto.revisedPayBand?e.pvuEmployeSixPayDetailDto.revisedPayBand:"",gradePay:""!==e.pvuEmployeSixPayDetailDto.gradePay&&null!=e.pvuEmployeSixPayDetailDto.gradePay&&0!==e.pvuEmployeSixPayDetailDto.gradePay?e.pvuEmployeSixPayDetailDto.gradePay:"",payBandValue:""!==e.pvuEmployeSixPayDetailDto.payBandValue&&null!=e.pvuEmployeSixPayDetailDto.payBandValue&&0!==e.pvuEmployeSixPayDetailDto.payBandValue?e.pvuEmployeSixPayDetailDto.payBandValue:"",dateOfPreRevisedNextIncrement:this.dateFormating(e.pvuEmployeSixPayDetailDto.dateOfPreRevisedNextIncrement),dateOfOption:this.dateFormating(e.pvuEmployeSixPayDetailDto.dateOfOption),dateOfStagnational:this.dateFormating(e.pvuEmployeSixPayDetailDto.dateOfStagnational),incrementAmount:""!==e.pvuEmployeSixPayDetailDto.incrementAmount&&null!=e.pvuEmployeSixPayDetailDto.incrementAmount&&0!==e.pvuEmployeSixPayDetailDto.incrementAmount?e.pvuEmployeSixPayDetailDto.incrementAmount:"",effDate:this.dateFormating(e.pvuEmployeSixPayDetailDto.effDate),dateOfNextIncrement:this.dateFormating(e.pvuEmployeSixPayDetailDto.dateOfNextIncrement)}),this.getPayGrade(),this.create6thPayDetails.updateValueAndValidity(),this.sixpayId=e.pvuEmployeSixPayDetailDto.sixpayId,this.calculateBasicPay(),"view"!==this.action&&this.validate6thPreRevisedRange({value:this.create6thPayDetails.controls.revisedPayBand.value},"current")):this.reset6thPayForm(),null!=e.pvuEmployeSevenPayDetailDto?(this.create7thPayDetails.patchValue({payLevel:""!==e.pvuEmployeSevenPayDetailDto.payLevel&&null!=e.pvuEmployeSevenPayDetailDto.payLevel&&0!==e.pvuEmployeSevenPayDetailDto.payLevel?e.pvuEmployeSevenPayDetailDto.payLevel:"",dateOfNextIncrement:this.dateFormating(e.pvuEmployeSevenPayDetailDto.dateOfNextIncrement),dateOfBenefitEffective:this.dateFormating(e.pvuEmployeSevenPayDetailDto.dateOfBenefitEffective)}),this.sevenPayId=e.pvuEmployeSevenPayDetailDto.sevenPayId,this.get7thCPCBasicPay(),this.create7thPayDetails.patchValue({cellId:""!==e.pvuEmployeSevenPayDetailDto.cellId&&null!=e.pvuEmployeSevenPayDetailDto.cellId&&0!==e.pvuEmployeSevenPayDetailDto.cellId?e.pvuEmployeSevenPayDetailDto.cellId:"",basicPay:""!==e.pvuEmployeSevenPayDetailDto.basicPay&&null!=e.pvuEmployeSevenPayDetailDto.basicPay&&0!==e.pvuEmployeSevenPayDetailDto.basicPay?e.pvuEmployeSevenPayDetailDto.basicPay:""}),this.cellIdList&&this.cellIdList.length>0&&this.create7thPayDetails.get("cellId").value&&this.create7thPayDetails.get("payLevel").value?this.calculate7thPay():this.create7thPayDetails.get("basicPay").setValue(0),this.create7thPayDetails.updateValueAndValidity()):this.reset7thPayForm(),this.resetJoiningPayForm(),e.pvuEmployeeJoiningPayDto&&e.pvuEmployeeJoiningPayDto.joiningPayId&&(this.joiningPayId=e.pvuEmployeeJoiningPayDto.joiningPayId),341===t?(this.isJoiningFixPay=!0,e.pvuEmployeeJoiningPayDto&&e.pvuEmployeeJoiningPayDto.joinPayCommId===t&&this.joiningFixPayDetail.patchValue({joinFixPayValue:e.pvuEmployeeJoiningPayDto.payScale?Number(e.pvuEmployeeJoiningPayDto.payScale):""})):338===t?(this.isJoining1stPay=!0,e.pvuEmployeeJoiningPayDto&&e.pvuEmployeeJoiningPayDto.joinPayCommId===t&&this.joining1stPayDetail.patchValue({join1stScale:e.pvuEmployeeJoiningPayDto.payScale?e.pvuEmployeeJoiningPayDto.payScale:"",join1stBasicPay:e.pvuEmployeeJoiningPayDto.basicPay?e.pvuEmployeeJoiningPayDto.basicPay:""})):339===t?(this.isJoining2ndPay=!0,e.pvuEmployeeJoiningPayDto&&e.pvuEmployeeJoiningPayDto.joinPayCommId===t&&this.joining2ndPayDetail.patchValue({join2ndScale:e.pvuEmployeeJoiningPayDto.payScale?e.pvuEmployeeJoiningPayDto.payScale:"",join2ndBasicPay:e.pvuEmployeeJoiningPayDto.basicPay?e.pvuEmployeeJoiningPayDto.basicPay:""})):148===t?(this.isJoining3rdPay=!0,e.pvuEmployeeJoiningPayDto&&e.pvuEmployeeJoiningPayDto.joinPayCommId===t&&this.joining3rdPayDetail.patchValue({join3rdScale:e.pvuEmployeeJoiningPayDto.payScale?Number(e.pvuEmployeeJoiningPayDto.payScale):"",join3rdBasicPay:e.pvuEmployeeJoiningPayDto.basicPay?e.pvuEmployeeJoiningPayDto.basicPay:""})):149===t?(this.isJoining4thPay=!0,e.pvuEmployeeJoiningPayDto&&e.pvuEmployeeJoiningPayDto.joinPayCommId===t&&this.joining4thPayDetail.patchValue({join4thScale:e.pvuEmployeeJoiningPayDto.payScale?Number(e.pvuEmployeeJoiningPayDto.payScale):"",join4thBasicPay:e.pvuEmployeeJoiningPayDto.basicPay?e.pvuEmployeeJoiningPayDto.basicPay:""})):150===t?(this.isJoining5thPay=!0,e.pvuEmployeeJoiningPayDto&&e.pvuEmployeeJoiningPayDto.joinPayCommId===t&&this.joining5thPayDetail.patchValue({join5thScale:e.pvuEmployeeJoiningPayDto.payScale?Number(e.pvuEmployeeJoiningPayDto.payScale):"",join5thBasicPay:e.pvuEmployeeJoiningPayDto.basicPay?e.pvuEmployeeJoiningPayDto.basicPay:""})):151===t?(this.isJoining6thPay=!0,e.pvuEmployeeJoiningPayDto&&e.pvuEmployeeJoiningPayDto.joinPayCommId===t&&(this.joining6thPayDetail.patchValue({join6thPayBand:e.pvuEmployeeJoiningPayDto.payBandId?e.pvuEmployeeJoiningPayDto.payBandId:"",join6thPayBandValue:e.pvuEmployeeJoiningPayDto.payBandValue?e.pvuEmployeeJoiningPayDto.payBandValue:"",join6thGradePay:e.pvuEmployeeJoiningPayDto.gradePayId?e.pvuEmployeeJoiningPayDto.gradePayId:"",join6thBasicPay:e.pvuEmployeeJoiningPayDto.basicPay?e.pvuEmployeeJoiningPayDto.basicPay:""}),this.getJoiningPayGrade(),this.calJoining6thBasicPay(),"view"!==this.action&&this.validate6thPreRevisedRange(this.joining6thPayDetail.get("join6thPayBand"),"join"))):152===t&&(this.isJoining7thPay=!0,e.pvuEmployeeJoiningPayDto&&e.pvuEmployeeJoiningPayDto.joinPayCommId===t&&(this.joining7thPayDetail.patchValue({join7thPayLevel:e.pvuEmployeeJoiningPayDto.payLevelId?e.pvuEmployeeJoiningPayDto.payLevelId:"",join7thBasicPay:e.pvuEmployeeJoiningPayDto.basicPay?e.pvuEmployeeJoiningPayDto.basicPay:""}),this.get7thCellId(),this.joining7thPayDetail.patchValue({join7thCellId:e.pvuEmployeeJoiningPayDto.cellId?e.pvuEmployeeJoiningPayDto.cellId:""}),this.join7thCellIdList&&this.join7thCellIdList.length>0&&this.joining7thPayDetail.get("join7thCellId").value&&this.joining7thPayDetail.get("join7thPayLevel").value?this.calcJoining7thBasicPay():this.joining7thPayDetail.get("join7thBasicPay").setValue(0)))},e.prototype.validateAccNo=function(){var e=this.bankDetailsForm.getRawValue();this.isAccNoMatch=!e.bankAccNo2||e.bankAccNo1===e.bankAccNo2},e.prototype.getEmployeeByID=function(e,t){var a=this;void 0===t&&(t=null);var i=this;this.pvuService.getEmployeeByID(e).subscribe(function(e){e&&e.result&&200===e.status?(a.setEmployeeData(e.result,t),a.action&&"edit"===a.action?a.getDeptDetail({id:a.empId}):a.loader=!1):(a.loader=!1,i.toastr.error(e.message))},function(e){a.loader=!1,i.toastr.error(e)})},e.prototype.setEmployeeData=function(e,t){var a=this;if(null!=e.pvuEmployeDto){var i=e.pvuEmployeDto;if(i&&null!=i){if(this.savedEmpStatusId=i.statusId,this.isSaveDraftVisible=this.saveDraftStatusId===this.savedEmpStatusId,this.approvedStatus=327===i.statusId,this.createEmployeeForm.patchValue({empId:this.empId,caseNo:i.caseNo&&"0"!==i.caseNo&&0!==i.caseNo?i.caseNo:"",employeeCode:i.employeeCode&&0!==i.employeeCode&&"0"!==i.employeeCode?i.employeeCode:"",salutation:0!==i.salutation?i.salutation:"",employeeName:0!==i.employeeName&&"0"!==i.employeeName&&null!=i.employeeName?i.employeeName.toUpperCase():"",employeeMiddleName:0!==i.employeeMiddleName&&"0"!==i.employeeMiddleName&&null!=i.employeeMiddleName?i.employeeMiddleName.toUpperCase():"",employeeSurname:0!==i.employeeSurname&&"0"!==i.employeeSurname&&null!=i.employeeSurname?i.employeeSurname.toUpperCase():"",gender:0!==i.gender&&"0"!==i.gender?i.gender:"",nationality:0!==i.nationality&&"0"!==i.nationality?i.nationality:"",emailID:0!=i.emailID&&""!==i.emailID?i.emailID:"",dateOfBirth:this.dateFormating(i.dateOfBirth),mobileNo:0!=i.mobileNo?i.mobileNo:"",fatherName:0!==i.fatherName&&"0"!==i.fatherName&&null!=i.fatherName?i.fatherName.toUpperCase():"",motherName:0!==i.motherName&&"0"!==i.motherName&&null!=i.motherName?i.motherName.toUpperCase():"",maritalStatus:0!==i.maritalStatus&&"0"!==i.maritalStatus?i.maritalStatus:"",category:0!==i.category&&"0"!==i.category?i.category:"",religion:0!==i.religion&&"0"!==i.religion?i.religion:"",caste:0!==i.caste&&"0"!==i.caste?i.caste:"",bloodGroup:0!==i.bloodGroup&&"0"!==i.bloodGroup?i.bloodGroup:"",phStatus:0!==i.phStatus&&"0"!==i.phStatus?i.phStatus:"",phType:0!==i.phType&&"0"!==i.phType?i.phType:"",otherPhCategory:0!=i.otherPhCategory&&null!=i.otherPhCategory?i.otherPhCategory:"",dateOfMedFitnessCert:this.dateFormating(i.dateOfMedFitnessCert),height:0!=i.height?i.height:"",identificationMark:0!==i.identificationMark&&"0"!==i.identificationMark?i.identificationMark:"",electionCardNo:0!=i.electionCardNo?i.electionCardNo:"",aadhaarNo:0!=i.aadhaarNo?i.aadhaarNo:"",panNo:0!=i.panNo?i.panNo.toUpperCase():"",passportNo:0!=i.passportNo?i.passportNo:"",passportExpiryDate:this.dateFormating(i.passportExpiryDate),buckleNo:0!=i.buckleNo?i.buckleNo:""}),(""===this.createEmployeeForm.controls.nationality.value||null===this.createEmployeeForm.controls.nationality.value||0===this.createEmployeeForm.controls.nationality.value)&&this.nationalityList){var o=this.nationalityList.filter(function(e){return e.lookupInfoName.toUpperCase()==="Indian".toUpperCase()});o&&o[0].lookupInfoId&&this.createEmployeeForm.patchValue({nationality:o[0].lookupInfoId})}if(i&&i.employeePhoto&&i.employeePhotoName&&(this.fileDetailsEmp=!0,this.fileBrowseEmp=!1,this.empPhotoKey=i.employeePhoto,this.empPhotoName=i.employeePhotoName),this.transStatus=i.statusId,0!==i.dateOfBirth&&null!=i.dateOfBirth){this.dateOfBirth=this.createEmployeeForm.get("dateOfBirth").value;var n=new Date(this.createEmployeeForm.get("dateOfBirth").value);this.minDoj=new Date(n.getFullYear()+18,n.getMonth(),n.getDate())}if(i.employeePhotoName){var l=i.employeePhotoName.split(".");this.empViewPhoto=i.empViewPhoto&&l?"data:image/"+l[l.length-1]+";base64,"+i.empViewPhoto:null}else this.empViewPhoto=null}if(!this.departmentalDetails.controls.dateOfRetirement.value){var p=this.createEmployeeForm.controls.dateOfBirth.value;0!==p&&""!==p&&null!=p&&this.dobOnChange(new Date(p))}this.onPhChange(),this.onNationChange(),this.onMaritalStatusChange(),"view"===this.action&&this.createEmployeeForm.disable()}if(null!=e.pvuEmployeAddressDto){var u=e.pvuEmployeAddressDto;this.createEmployeeForm.patchValue({curAddress1:0!=u.curAddress1?u.curAddress1.toUpperCase():"",curAddress2:0!=u.curAddress2?u.curAddress2:"",curState:0!==u.curState&&"0"!==u.curState?u.curState:"",curDistrict:0!==u.curDistrict&&"0"!==u.curDistrict?u.curDistrict:"",curTaluka:0!==u.curTaluka&&"0"!==u.curTaluka?u.curTaluka:"",curCity:0!=u.curCity?u.curCity:"",curPinCode:0!=u.curPinCode?u.curPinCode:"",curOfficeDist:0!==u.curOfficeDist&&"0"!==u.curOfficeDist?u.curOfficeDist:"",isPerAddCurAdd:1===u.isPerAddCurAdd,perAddress1:0!=u.perAddress1?u.perAddress1.toUpperCase():"",perAddress2:0!=u.perAddress2?u.perAddress2:"",perState:0!==u.perState&&"0"!==u.perState?u.perState:"",perDistrict:0!==u.perDistrict&&"0"!==u.perDistrict?u.perDistrict:"",perTaluka:0!==u.perTaluka&&"0"!==u.perTaluka?u.perTaluka:"",perCity:0!=u.perCity?u.perCity:"",perPinCode:0!=u.perPinCode?u.perPinCode:"",isNatAddCurAddPerAdd:1===u.isNatAddCurAddPerAdd?"sameAsCurrentAddr":2===u.isNatAddCurAddPerAdd?"sameAsPermanentAddr":"",natAddress1:0!=u.natAddress1?u.natAddress1.toUpperCase():"",natAddress2:0!=u.natAddress2?u.natAddress2:"",natState:0!==u.natState&&"0"!==u.natState?u.natState:"",natDistrict:0!==u.natDistrict&&"0"!==u.natDistrict?u.natDistrict:"",natTaluka:0!==u.natTaluka&&"0"!==u.natTaluka?u.natTaluka:"",natCity:0!=u.natCity?u.natCity:"",natPinCode:0!=u.natPinCode?u.natPinCode:""}),this.sameAsCurrentAddr=1===u.isPerAddCurAdd,this.empAddressId=u.empAddressId,this.getDistricts(u.curState,"cur"),this.getTalukas(u.curDistrict,"cur"),this.getDistricts(u.perState,"per"),this.getTalukas(u.perDistrict,"per"),this.getDistricts(u.natState,"nat"),this.getTalukas(u.natDistrict,"nat"),this.getDistricts(this.gujaratId,""),this.getTalukas(this.departmentalDetails.controls.districtId.value,"")}if(null!=e.pvuEmployeNomineeDto){var d=e.pvuEmployeNomineeDto;d&&(this.relationshipCtrl=[],d.forEach(function(e){e.isOtherRelation=121===e.relationship||127===e.relationship,e.nomineeShare=e.nomineeShare?e.nomineeShare:"",a.relationshipCtrl.push(new s.g)}),this.dataSourceNominee.data=d)}"reset"===t&&r.a.resetValidation(this.createEmployeeForm),this.approvedStatus&&"view"===this.action&&this.getAllEmployeeEvents()},e.prototype.getSixthPayDesignationList=function(){var e=this;this.pvuService.getSixPayDesignation().subscribe(function(t){t&&t.result&&200===t.status?e.empDesignationAsOnList=t.result:e.toastr.error(t.message)},function(t){e.toastr.error(t)})},e.prototype.getLookUpInfoData=function(){var e=this,t=this;this.pvuService.getLookUpInfoData().subscribe(function(t){if(t&&t.result){if(e.curStateList=t.result.lstSDTData,e.perStateList=t.result.lstSDTData,e.natStateList=t.result.lstSDTData,e.salutationList=t.result.lstLuLookUp.SalutationType,e.genderList=t.result.lstLuLookUp.Gender_Type,e.maritalStatusList=t.result.lstLuLookUp.Marital_Status,e.categoryList=t.result.lstLuLookUp.Category,e.bloodGroupList=t.result.lstLuLookUp.Blood_Type,e.curOfficeDistList=t.result.lstLuLookUp.Distance_from_office,e.marriedRelationshipList=t.result.lstLuLookUp.Married_Relationship,e.unmerriedRelationshipList=t.result.lstLuLookUp.Unmarried_Relationship,e.ifscCodeList=t.result.bankIfsc,e.accountTypeList=p.cloneDeep(t.result.lstLuLookUp.BankAccountType),e.accountTypeList&&1===e.accountTypeList.length&&e.accountTypeList[0].lookupInfoId&&e.bankDetailsForm.controls.accountType.setValue(e.accountTypeList[0].lookupInfoId),e.degreeList=p.cloneDeep(t.result.schoolDegree),e.dataSourceQualification.data[0].courseNameList=p.cloneDeep(t.result.course),e.allCourseNameList=p.cloneDeep(t.result.course),e.allCourseNameList&&e.allCourseNameList.forEach(function(t){t&&1===t.isCCCExempted&&e.cccExemptedArray.push(t.id)}),e.deptExamStatusList=p.cloneDeep(t.result.lstLuLookUp.Status),e.cccExamStatusList=p.cloneDeep(t.result.lstLuLookUp.Status),e.langExamStatusList=p.cloneDeep(t.result.lstLuLookUp.Status),e.deptExamBodyList=p.cloneDeep(t.result.lstLuLookUp.Dept_Examination_Body),e.cccExamNameList=p.cloneDeep(t.result.lstLuLookUp.CCC_Exam_Name),e.npaAmountList=p.cloneDeep(t.result.lstLuLookUp.ConditionCheck),e.isSuspendedList=p.cloneDeep(t.result.lstLuLookUp.ConditionCheck),e.phStatusList=p.cloneDeep(t.result.lstLuLookUp.ConditionCheck),e.empServiceContinuationList=p.cloneDeep(t.result.lstLuLookUp.ConditionCheck),e.isSuspendedList){var a=e.isSuspendedList.filter(function(e){return e.lookupInfoName.toLowerCase()==="No".toLowerCase()})[0];a&&e.departmentalDetails.controls.suspended.setValue(a.lookupInfoId)}e.cccExamBodyList=t.result.cccExamBody,e.langNameList=t.result.lstLuLookUp.Language,e.langTypeList=t.result.lstLuLookUp.Lang_Exam_Type,e.departmentalCategoryList=t.result.deptCategory,e.empDesignationList=p.cloneDeep(t.result.designation),e.empDesignationAsOnList=p.cloneDeep(t.result.designation),e.applicablePayCommList=p.sortBy(t.result.lstLuLookUp.Dept_Pay_Commission,"lookupInfoName"),e.deptEmpStatusList=t.result.lstLuLookUp.Dept_Emp_Status,e.empPayTypeData=p.cloneDeep(t.result.lstLuLookUp.Employee_PayType),e.empPayTypeList=t.result.lstLuLookUp.Employee_PayType,e.empClassList=t.result.lstLuLookUp.Dept_Class,e.empTypeData=p.cloneDeep(t.result.lstLuLookUp.Emp_Type),e.empTypeList=p.cloneDeep(t.result.lstLuLookUp.Emp_Type),e.employementTypeList=t.result.lstLuLookUp.Employment_Type,e.phTypeList=t.result.lstLuLookUp.Divyang_Sub_Category,e.passingYearListData=p.cloneDeep(t.result.yearOfPassing),e.passingYearList=p.cloneDeep(t.result.yearOfPassing),e.nationalityList=t.result.lstLuLookUp.Nationality,e.adminDepartment=p.cloneDeep(t.result.administrativeDepartment),e.parentAdminDeptList=p.sortBy(t.result.administrativeDepartment,"name"),e.hodData=t.result.hodDepartment,e.fixPayList=t.result.lstLuLookUp.Fix_Pay_Value,e.parentHeadDeptList=t.result.hodDepartment,e.statusData=t.result.lstLuLookUp.Status_id,e.saveDraftStatusId=e.getStatusId("Saved as Draft"),e.dataSourceQualification.data&&e.dataSourceQualification.data.length&&e.dataSourceQualification.data.forEach(function(a,i){e.dataSourceQualification.data[i].courseNameList=p.cloneDeep(t.result.course)});var i=e.curStateList.filter(function(e){return e.name.toUpperCase()==="Gujarat".toUpperCase()});if(i&&i[0]&&(e.gujaratId=i[0].id),!e.action||"edit"!==e.action&&"view"!==e.action){e.isSaveDraftVisible=!0;var o=e.nationalityList.filter(function(e){return e.lookupInfoName.toUpperCase()==="Indian".toUpperCase()});o&&o[0].lookupInfoId&&e.createEmployeeForm.patchValue({nationality:o[0].lookupInfoId}),e.getDistricts(e.gujaratId,""),e.getTalukas(e.departmentalDetails.controls.districtId.value,""),e.loader=!1}else{var s={id:e.empId};"edit"===e.action?e.getEmployeeByID(s):"view"===e.action&&(e.getEmployeeByID(s),e.getQualificationDetail(s),e.getDeptDetail(s))}}},function(a){e.loader=!1,t.toastr.error(a)})},e.prototype.onMaritalStatusChange=function(){var e=this.createEmployeeForm.controls.maritalStatus.value;if(e&&this.maritalStatusList&&this.maritalStatusList.length>0){var t=this.maritalStatusList.filter(function(t){return t.lookupInfoId===e})[0];t&&(this.relationshipList=t.lookupInfoName.toLowerCase()==="Unmarried".toLowerCase()?p.cloneDeep(this.unmerriedRelationshipList):p.cloneDeep(this.marriedRelationshipList),this.dataSourceNominee.data&&this.dataSourceNominee.data.forEach(function(e){e.isOtherRelation=!1,e.otherRelationship="",e.relationship=""}))}},e.prototype.getDistricts=function(e,t){if("cur"===t)""!==e&&this.curStateList&&this.curStateList.length>0&&((a=this.curStateList.filter(function(t){return t.id===e}))&&1===a.length&&(this.curDistrictList=a[0].districts),this.curTalukaList=[]);else if("per"===t)""!==e&&this.perStateList&&this.perStateList.length>0&&((a=this.perStateList.filter(function(t){return t.id===e}))&&1===a.length&&(this.perDistrictList=a[0].districts),this.perTalukaList=[]);else if("nat"===t)""!==e&&this.natStateList&&this.natStateList.length>0&&((a=this.natStateList.filter(function(t){return t.id===e}))&&1===a.length&&(this.natDistrictList=a[0].districts),this.natTalukaList=[]);else if(e===this.gujaratId){var a;this.curStateList&&(a=this.curStateList.filter(function(t){return t.id===e}))&&1===a.length&&(this.districtList=a[0].districts)}},e.prototype.resetDistTalCity=function(e,t){"cur"===t?""!==e&&this.curStateList&&this.curStateList.length>0&&(this.createEmployeeForm.patchValue({curDistrict:"",curTaluka:"",curCity:""}),this.createEmployeeForm.controls.curDistrict.markAsUntouched(),this.createEmployeeForm.controls.curTaluka.markAsUntouched(),this.createEmployeeForm.controls.curCity.markAsUntouched(),this.createEmployeeForm.controls.curDistrict.updateValueAndValidity(),this.createEmployeeForm.controls.curTaluka.updateValueAndValidity(),this.createEmployeeForm.controls.curCity.updateValueAndValidity()):"per"===t?""!==e&&this.perStateList&&this.perStateList.length>0&&(this.createEmployeeForm.patchValue({perDistrict:"",perTaluka:"",perCity:""}),this.createEmployeeForm.controls.perDistrict.markAsUntouched(),this.createEmployeeForm.controls.perTaluka.markAsUntouched(),this.createEmployeeForm.controls.perCity.markAsUntouched(),this.createEmployeeForm.controls.perDistrict.updateValueAndValidity(),this.createEmployeeForm.controls.perTaluka.updateValueAndValidity(),this.createEmployeeForm.controls.perCity.updateValueAndValidity()):"nat"===t&&""!==e&&this.natStateList&&this.natStateList.length>0&&(this.createEmployeeForm.patchValue({natDistrict:"",natTaluka:"",natCity:""}),this.createEmployeeForm.controls.natDistrict.markAsUntouched(),this.createEmployeeForm.controls.natTaluka.markAsUntouched(),this.createEmployeeForm.controls.natCity.markAsUntouched(),this.createEmployeeForm.controls.natDistrict.updateValueAndValidity(),this.createEmployeeForm.controls.natTaluka.updateValueAndValidity(),this.createEmployeeForm.controls.natCity.updateValueAndValidity())},e.prototype.getTalukas=function(e,t){if("cur"===t)this.curDistrictList&&""!==e&&this.curDistrictList.length>0&&(a=this.curDistrictList.filter(function(t){return t.id===e}))&&1===a.length&&(this.curTalukaList=a[0].taluka);else if("per"===t)this.perDistrictList&&""!==e&&this.perDistrictList.length>0&&(a=this.perDistrictList.filter(function(t){return t.id===e}))&&1===a.length&&(this.perTalukaList=a[0].taluka);else if("nat"===t)this.natDistrictList&&""!==e&&this.natDistrictList.length>0&&(a=this.natDistrictList.filter(function(t){return t.id===e}))&&1===a.length&&(this.natTalukaList=a[0].taluka);else if(""===t){var a;this.districtList&&(a=this.districtList.filter(function(t){return t.id===e}))&&1===a.length&&(this.talukaList=a[0].taluka)}},e.prototype.resetTalCity=function(e,t){"cur"===t?""!==e&&this.curDistrictList&&this.curDistrictList.length>0&&this.createEmployeeForm.patchValue({curTaluka:"",curCity:""}):"per"===t?""!==e&&this.perDistrictList&&this.perDistrictList.length>0&&this.createEmployeeForm.patchValue({perTaluka:"",perCity:""}):"nat"===t&&""!==e&&this.natDistrictList&&this.natDistrictList.length>0&&this.createEmployeeForm.patchValue({natTaluka:"",natCity:""})},e.prototype.getAllEmployeeEvents=function(){var e=this,t=this;this.pvuService.getAllEvents({pageIndex:0,pageElement:250,jsonArr:[{key:"in_emp_id",value:""+this.empId}]}).subscribe(function(a){a&&a.result&&a.result.result&&a.result.result.length>0?(e.eventsClm.next(e.displayedEventsColumns),t.dataSourceEvents=new n.o(a.result.result),t.dataSourceEvents.paginator=e.paginator,t.dataSourceEvents.sort=e.sort):(e.eventsClm.next(["noData"]),e.dataSourceEvents=new n.o(["noData"]))},function(e){t.toastr.error(e)})},e.prototype.getQualificationDetail=function(e){var t=this,a=this;this.pvuService.getQualificationDetail(e).subscribe(function(e){e&&e.result&&200===e.status&&t.setQualificationDetail(e.result)},function(e){a.toastr.error(e)})},e.prototype.disableFixPay=function(){this.createFixPayDetail.disable(),this.createFixPayDetail.patchValue({fixPayValue:"",effDate:""}),r.a.resetValidation(this.createFixPayDetail)},e.prototype.set7thPayDetailsValidation=function(){this.create7thPayDetails.controls.payLevel.setValidators(s.x.required),this.create7thPayDetails.controls.payLevel.updateValueAndValidity(),this.create7thPayDetails.controls.cellId.setValidators(s.x.required),this.create7thPayDetails.controls.cellId.updateValueAndValidity(),this.create7thPayDetails.controls.dateOfNextIncrement.setValidators(s.x.required),this.create7thPayDetails.controls.dateOfNextIncrement.updateValueAndValidity(),this.create7thPayDetails.controls.dateOfBenefitEffective.setValidators(s.x.required),this.create7thPayDetails.controls.dateOfBenefitEffective.updateValueAndValidity(),this.create7thPayDetails.updateValueAndValidity()},e.prototype.clear7thPayDetailsValidation=function(){this.create7thPayDetails.controls.payLevel.clearValidators(),this.create7thPayDetails.controls.cellId.clearValidators(),this.create7thPayDetails.controls.dateOfNextIncrement.clearValidators(),this.create7thPayDetails.controls.dateOfBenefitEffective.clearValidators(),this.create7thPayDetails.updateValueAndValidity()},e.prototype.set6thPayDetailsValidation=function(){this.create6thPayDetails.controls.revisedPayBand.setValidators(s.x.required),this.create6thPayDetails.controls.revisedPayBand.updateValueAndValidity(),this.create6thPayDetails.controls.gradePay.setValidators(s.x.required),this.create6thPayDetails.controls.gradePay.updateValueAndValidity(),this.create6thPayDetails.controls.payBandValue.setValidators(s.x.required),this.create6thPayDetails.controls.payBandValue.updateValueAndValidity(),this.create6thPayDetails.controls.incrementAmount.setValidators(s.x.required),this.create6thPayDetails.controls.incrementAmount.updateValueAndValidity(),this.create6thPayDetails.controls.effDate.setValidators(s.x.required),this.create6thPayDetails.controls.effDate.updateValueAndValidity(),this.create6thPayDetails.controls.dateOfNextIncrement.setValidators(s.x.required),this.create6thPayDetails.controls.dateOfNextIncrement.updateValueAndValidity(),this.create6thPayDetails.updateValueAndValidity()},e.prototype.clear6thPayDetailsValidation=function(){this.create6thPayDetails.controls.revisedPayBand.clearValidators(),this.create6thPayDetails.controls.gradePay.clearValidators(),this.create6thPayDetails.controls.payBandValue.clearValidators(),this.create6thPayDetails.controls.incrementAmount.clearValidators(),this.create6thPayDetails.controls.effDate.clearValidators(),this.create6thPayDetails.controls.dateOfNextIncrement.clearValidators(),this.create6thPayDetails.updateValueAndValidity()},e.prototype.set5thPayDetailsValidation=function(){this.create5thPayDetails.controls.payScale.setValidators(s.x.required),this.create5thPayDetails.controls.payScale.updateValueAndValidity(),this.create5thPayDetails.controls.basicPay.setValidators(s.x.required),this.create5thPayDetails.controls.basicPay.updateValueAndValidity(),this.create5thPayDetails.controls.effectiveDate.setValidators(s.x.required),this.create5thPayDetails.controls.effectiveDate.updateValueAndValidity(),this.create5thPayDetails.controls.dateOfNextIncrement.setValidators(s.x.required),this.create5thPayDetails.controls.dateOfNextIncrement.updateValueAndValidity(),this.create5thPayDetails.updateValueAndValidity()},e.prototype.clear5thPayDetailsValidation=function(){this.create5thPayDetails.controls.payScale.clearValidators(),this.create5thPayDetails.controls.basicPay.clearValidators(),this.create5thPayDetails.controls.effectiveDate.clearValidators(),this.create5thPayDetails.controls.dateOfNextIncrement.clearValidators(),this.create5thPayDetails.updateValueAndValidity()},e.prototype.set4thPayDetailsValidation=function(){this.create4thPayDetails.controls.payScale.setValidators(s.x.required),this.create4thPayDetails.controls.payScale.updateValueAndValidity(),this.create4thPayDetails.controls.basicPay.setValidators(s.x.required),this.create4thPayDetails.controls.basicPay.updateValueAndValidity(),this.create4thPayDetails.controls.effectiveDate.setValidators(s.x.required),this.create4thPayDetails.controls.effectiveDate.updateValueAndValidity(),this.create4thPayDetails.updateValueAndValidity()},e.prototype.clear4thPayDetailsValidation=function(){this.create4thPayDetails.controls.payScale.clearValidators(),this.create4thPayDetails.controls.basicPay.clearValidators(),this.create4thPayDetails.controls.effectiveDate.clearValidators(),this.create4thPayDetails.updateValueAndValidity()},e.prototype.payCommissionChange=function(){var e=this.departmentalDetails.get("payCommissionJoiningTime").value;r.a.resetValidation(this.create4thPayDetails),r.a.resetValidation(this.create5thPayDetails),r.a.resetValidation(this.create6thPayDetails),r.a.resetValidation(this.create7thPayDetails),this.isJoiningFixPay=!1,this.isJoining1stPay=!1,this.isJoining2ndPay=!1,this.isJoining3rdPay=!1,this.isJoining4thPay=!1,this.isJoining5thPay=!1,this.isJoining6thPay=!1,this.isJoining7thPay=!1,this.resetJoiningPayForm(),152===e?(this.create4thPayDetails.disable(),this.create5thPayDetails.disable(),this.create6thPayDetails.enable(),this.create7thPayDetails.enable(),this.disableFixPay(),this.reset4thPayForm(),this.reset5thPayForm(),this.isJoining7thPay=!0):151===e?(this.create4thPayDetails.disable(),this.create5thPayDetails.disable(),this.create6thPayDetails.enable(),this.create7thPayDetails.enable(),this.disableFixPay(),this.reset4thPayForm(),this.reset5thPayForm(),this.isJoining6thPay=!0):150===e?(this.create4thPayDetails.disable(),this.create5thPayDetails.enable(),this.create6thPayDetails.enable(),this.create7thPayDetails.enable(),this.disableFixPay(),this.reset4thPayForm(),this.isJoining5thPay=!0):149===e||148===e||339===e||338===e?(this.create4thPayDetails.enable(),this.create5thPayDetails.enable(),this.create6thPayDetails.enable(),this.create7thPayDetails.enable(),this.disableFixPay(),this.setRegularPayValue(this.payData),this.isJoining4thPay=149===e,this.isJoining3rdPay=148===e,this.isJoining2ndPay=339===e,this.isJoining1stPay=338===e):341===e&&(this.create4thPayDetails.disable(),this.create5thPayDetails.disable(),this.create6thPayDetails.disable(),this.create7thPayDetails.disable(),this.clearRegularPayValue(),this.isJoiningFixPay=!0,this.empPayTypeList=p.cloneDeep(this.empPayTypeData).filter(function(e){return 156!==e.lookupInfoId}),156===this.departmentalDetails.get("empPayType").value&&this.departmentalDetails.controls.empPayType.setValue(""),this.createFixPayDetail.enable(),this.payData&&this.payData.pvuEmployeFixPayDetailsDto&&this.createFixPayDetail.patchValue({fixPayValue:this.payData.pvuEmployeFixPayDetailsDto.fixPayValue,effDate:this.dateFormating(this.payData.pvuEmployeFixPayDetailsDto.effDate)})),341!==e&&(this.empPayTypeList=p.cloneDeep(this.empPayTypeData).filter(function(e){return 157!==e.lookupInfoId}),157===this.departmentalDetails.get("empPayType").value&&this.departmentalDetails.controls.empPayType.setValue(""))},e.prototype.resetJoiningPayForm=function(){this.joiningFixPayDetail.patchValue({joinFixPayValue:""}),this.joining1stPayDetail.patchValue({join1stScale:"",join1stBasicPay:""}),this.joining2ndPayDetail.patchValue({join2ndScale:"",join2ndBasicPay:""}),this.joining3rdPayDetail.patchValue({join3rdScale:"",join3rdBasicPay:""}),this.joining4thPayDetail.patchValue({join4thScale:"",join4thBasicPay:""}),this.joining5thPayDetail.patchValue({join5thScale:"",join5thBasicPay:""}),this.joining6thPayDetail.patchValue({join6thPayBand:"",join6thPayBandValue:"",join6thGradePay:"",join6thBasicPay:""}),this.joining7thPayDetail.patchValue({join7thPayLevel:"",join7thCellId:"",join7thBasicPay:""}),r.a.resetValidation(this.joiningFixPayDetail),r.a.resetValidation(this.joining1stPayDetail),r.a.resetValidation(this.joining2ndPayDetail),r.a.resetValidation(this.joining3rdPayDetail),r.a.resetValidation(this.joining4thPayDetail),r.a.resetValidation(this.joining5thPayDetail),r.a.resetValidation(this.joining6thPayDetail),r.a.resetValidation(this.joining7thPayDetail)},e.prototype.clearRegularPayValue=function(){this.create4thPayDetails.patchValue({payScale:"",basicPay:"",effectiveDate:""}),this.fourthPayId=0,this.fourthBasicPayError=!1,this.create5thPayDetails.patchValue({payScale:"",basicPay:"",effectiveDate:"",dateOfNextIncrement:""}),this.fifthPayId=0,this.fifthBasicPayError=!1,this.create6thPayDetails.patchValue({empDesignationAsOn:"",empOtherDesignation:"",preRevisedPayScale:"",preRevisedBasicPay:"",revisedPayBand:"",gradePay:"",payBandValue:"",dateOfPreRevisedNextIncrement:"",dateOfOption:"",dateOfStagnational:"",incrementAmount:"",effDate:"",dateOfNextIncrement:""}),this.getPayGrade(),this.sixpayId=0,this.sixthBasicPayError=!1,this.calculateBasicPay(),this.create7thPayDetails.patchValue({payLevel:"",cellId:"",basicPay:"",dateOfNextIncrement:"",dateOfBenefitEffective:""}),this.sevenPayId=0,r.a.resetValidation(this.create4thPayDetails),r.a.resetValidation(this.create5thPayDetails),r.a.resetValidation(this.create6thPayDetails),r.a.resetValidation(this.create7thPayDetails)},e.prototype.setRegularPayValue=function(e){e&&null!=e.pvuEmployefourthPayDetailDto&&(this.create4thPayDetails.patchValue({payScale:e.pvuEmployefourthPayDetailDto.payScale,basicPay:e.pvuEmployefourthPayDetailDto.basicPay,effectiveDate:this.dateFormating(e.pvuEmployefourthPayDetailDto.effectiveDate)}),this.fourthPayId=e.pvuEmployefourthPayDetailDto.fourthPayId),e&&null!=e.pvuEmployefivePayDetailDto&&(this.create5thPayDetails.patchValue({payScale:e.pvuEmployefivePayDetailDto.payScale,basicPay:e.pvuEmployefivePayDetailDto.basicPay,effectiveDate:this.dateFormating(e.pvuEmployefivePayDetailDto.effectiveDate),dateOfNextIncrement:this.dateFormating(e.pvuEmployefivePayDetailDto.dateOfNextIncrement)}),this.fifthPayId=e.pvuEmployefivePayDetailDto.fifthPayId),e&&null!=e.pvuEmployeSixPayDetailDto&&(this.create6thPayDetails.patchValue({empDesignationAsOn:e.pvuEmployeSixPayDetailDto.empDesignationAsOn,empOtherDesignation:e.pvuEmployeSixPayDetailDto.empOtherDesignation,preRevisedPayScale:e.pvuEmployeSixPayDetailDto.preRevisedPayScale,preRevisedBasicPay:e.pvuEmployeSixPayDetailDto.preRevisedBasicPay,revisedPayBand:e.pvuEmployeSixPayDetailDto.revisedPayBand,gradePay:e.pvuEmployeSixPayDetailDto.gradePay,payBandValue:e.pvuEmployeSixPayDetailDto.payBandValue,dateOfPreRevisedNextIncrement:this.dateFormating(e.pvuEmployeSixPayDetailDto.dateOfPreRevisedNextIncrement),dateOfOption:this.dateFormating(e.pvuEmployeSixPayDetailDto.dateOfOption),dateOfStagnational:this.dateFormating(e.pvuEmployeSixPayDetailDto.dateOfStagnational),incrementAmount:e.pvuEmployeSixPayDetailDto.incrementAmount,effDate:this.dateFormating(e.pvuEmployeSixPayDetailDto.effDate),dateOfNextIncrement:this.dateFormating(e.pvuEmployeSixPayDetailDto.dateOfNextIncrement)}),this.getPayGrade(),this.sixpayId=e.pvuEmployeSixPayDetailDto.sixpayId,this.calculateBasicPay()),e&&null!=e.pvuEmployeSevenPayDetailDto&&(this.create7thPayDetails.patchValue({payLevel:e.pvuEmployeSevenPayDetailDto.payLevel,cellId:e.pvuEmployeSevenPayDetailDto.cellId,basicPay:e.pvuEmployeSevenPayDetailDto.basicPay,dateOfNextIncrement:this.dateFormating(e.pvuEmployeSevenPayDetailDto.dateOfNextIncrement),dateOfBenefitEffective:this.dateFormating(e.pvuEmployeSevenPayDetailDto.dateOfBenefitEffective)}),this.sevenPayId=e.pvuEmployeSevenPayDetailDto.sevenPayId)},e.prototype.validate3rdBasicPayRange=function(e){var t,a,i,o,s=e.value;if(this.join3rdBasicPayError=!1,a=this.joining3rdPayDetail.get("join3rdBasicPay").value,this.join3rdScaleList&&(t=this.join3rdScaleList.filter(function(e){return e.id===s}))&&t[0]&&t[0].scaleValue){var n=t[0].scaleValue.split("-");i=n[0],o=n[n.length-1]}""===a||+a>=+i&&+a<=+o||(this.join3rdBasicPayError=!0)},e.prototype.validate4thBasicPayRange=function(e,t){var a,i,o,s,n=e.value;if(this.fourthBasicPayError=!1,this.join4thBasicPayError=!1,"current"===t?i=this.create4thPayDetails.get("basicPay").value:"join"===t&&(i=this.joining4thPayDetail.get("join4thBasicPay").value),this.fourPayScaleList&&(a=this.fourPayScaleList.filter(function(e){return e.id===n}))&&a[0]&&a[0].scaleValue){var r=a[0].scaleValue.split("-");o=r[0],s=r[r.length-1]}""===i||+i>=+o&&+i<=+s||("current"===t?this.fourthBasicPayError=!0:"join"===t&&(this.join4thBasicPayError=!0))},e.prototype.validate5thBasicPayRange=function(e,t){var a,i,o,s,n=e.value;if(this.fifthBasicPayError=!1,this.join5thBasicPayError=!1,"current"===t?i=this.create5thPayDetails.get("basicPay").value:"join"===t&&(i=this.joining5thPayDetail.get("join5thBasicPay").value),this.fivePayScaleList&&(a=this.fivePayScaleList.filter(function(e){return e.id===n}))&&a[0]&&a[0].scaleValue){var r=a[0].scaleValue.split("-");o=r[0],s=r[r.length-1]}""===i||+i>=+o&&+i<=+s||("current"===t?this.fifthBasicPayError=!0:"join"===t&&(this.join5thBasicPayError=!0))},e.prototype.validate6thPreRevisedRange=function(e,t){var a,i,o,s,n=e.value;this.sixthBasicPayError=!1,this.join6thBasicPayError=!1,"current"===t?(i=this.create6thPayDetails.get("payBandValue").value,this.sixPayGrade&&(a=this.sixPayGrade.filter(function(e){return e.id===n}))&&a[0]&&a[0].startingValue&&a[0].endValue&&(o=a[0].startingValue?a[0].startingValue:0,s=a[0].endValue?a[0].endValue:0)):"join"===t&&(i=this.joining6thPayDetail.get("join6thPayBandValue").value,this.join6thPayBandList&&(a=this.join6thPayBandList.filter(function(e){return e.id===n}))&&a[0]&&a[0].startingValue&&a[0].endValue&&(o=a[0].startingValue?a[0].startingValue:0,s=a[0].endValue?a[0].endValue:0)),""===i||+i>=+o&&+i<=+s||("current"===t?this.sixthBasicPayError=!0:"join"===t&&(this.join6thBasicPayError=!0))},e.prototype.resetTab=function(e){var t=this;this.dialog.open(m.a,{width:"360px",data:o.b.RESET}).afterClosed().subscribe(function(a){if("yes"===a)switch(e){case 1:t.resetPerDetailTab();break;case 2:t.resetQualificationTab();break;case 3:t.resetDeptTab();break;case 4:t.resetPayDetailTab()}})},e.prototype.resetPerDetailForm=function(){this.createEmployeeForm.patchValue({empId:this.empId,salutation:"",employeeName:"",employeeMiddleName:"",employeeSurname:"",gender:"",emailID:"",dateOfBirth:"",mobileNo:"",fatherName:"",motherName:"",maritalStatus:"",category:"",religion:"",caste:"",bloodGroup:"",phStatus:"",phType:"",otherPhCategory:"",dateOfMedFitnessCert:"",height:"",identificationMark:"",electionCardNo:"",aadhaarNo:"",panNo:"",passportNo:"",passportExpiryDate:"",buckleNo:"",curAddress1:"",curAddress2:"",curState:"",curDistrict:"",curTaluka:"",curCity:"",curPinCode:"",curOfficeDist:"",perAddress1:"",perAddress2:"",perState:"",perDistrict:"",perTaluka:"",perCity:"",perPinCode:"",natAddress1:"",natAddress2:"",natState:"",natDistrict:"",natTaluka:"",natCity:"",natPinCode:""}),r.a.resetValidation(this.createEmployeeForm);var e=[];e.push({empNomineeId:"0",relationship:"",otherRelationship:"",nomineeName:"",nomineeAddress:"",nomineeAge:"",nomineeShare:"",photoOfNominee:"",genNomiForm:"",npsNomiForm:"",fileBrowseNomi:!0,fileBrowseGenForm:!0,fileBrowseNpsForm:!0,isOtherRelation:!1,nomineePhotoName:"",genNomineeFormName:"",npsNomineeFormName:""}),this.relationshipCtrl=[new s.g],this.dataSourceNominee.data=e},e.prototype.resetPerDetailTab=function(){this.empId&&0!==this.empId?this.getEmployeeByID({id:this.empId},"reset"):this.resetPerDetailForm()},e.prototype.resetQualificationTab=function(){this.empId&&0!==this.empId?this.getQualificationDetail({id:this.empId}):(this.resetQualPanel(),this.resetDeptPanel(),this.resetCCCPanel(),this.resetLangPanel())},e.prototype.resetQualPanel=function(){var e=[];e.push({empQualiId:0,degree:0,courseName:"",passingYear:"",schoolCollege:"",universityBoard:"",percentageCGPA:"",remarks:""}),this.degreeCtrl=[new s.g],this.courseCtrl=[new s.g],this.passingYearCtrl=[new s.g],this.dataSourceQualification.data=e},e.prototype.resetDeptPanel=function(){var e=[];e.push({empDeptExamDetailId:0,deptExamName:"",examBody:0,deptHodName:0,otherDeptHodName:"",dateOfPassing:"",examStatus:0,examAttempts:"",remarks:""}),this.examBodyCtrl=[new s.g],this.deptHodNameCtrl=[new s.g],this.deptExamStatusCtrl=[new s.g],this.dataSourceDeptExam.data=e},e.prototype.resetCCCPanel=function(){var e=[];e.push({empCCCExamDetailId:0,cccExamName:0,examBody:0,dateOfExam:"",dateOfPassing:"",examStatus:0,certificateNo:"",remarks:""}),this.cccExamNameCtrl=[new s.g],this.cccExamBodyCtrl=[new s.g],this.cccExamStatusCtrl=[new s.g],this.dataSourceSpclExam.data=e},e.prototype.resetLangPanel=function(){var e=[];e.push({empLangExamId:0,langName:0,examBody:"",examType:0,dateOfPassing:"",seatNo:"",examStatus:0,remarks:""}),this.langNameCtrl=[new s.g],this.langExamTypeCtrl=[new s.g],this.langExamStatusCtrl=[new s.g],this.dataSourceLangExam.data=e},e.prototype.resetDeptTab=function(){this.empId&&0!==this.empId?this.getDeptDetail({id:this.empId}):this.resetDeptTabForm()},e.prototype.resetDeptTabForm=function(){this.departmentalDetails.patchValue({dateOfJoiningGOG:"",payCommissionJoiningTime:"",dateOfRetirement:"",empStatus:"",deputationStartDate:"",deputationEndDate:"",empPayType:"",designationId:"",empClass:"",empType:"",departmentalCategory:"",station:"",taluka:"",parentHeadDeptId:"",isNPA:"",hodNameId:"",gpfNo:"",pranAccNo:"",ppoNo:"",deathTerminationDate:"",ppanNo:""}),r.a.resetValidation(this.departmentalDetails),this.previousEmployementDetails.patchValue({employementType:"",deptName:"",officeName:"",officeAdd:"",empDesignationHist:"",fromDate:"",toDate:"",lastPayDrawn:"",empServiceContinuation:"",orderNoDate:""}),r.a.resetValidation(this.previousEmployementDetails),this.dataSource.data=[]},e.prototype.resetPayDetailTab=function(){this.empId&&0!==this.empId?this.getPayDetails({id:this.empId}):(this.resetFixPayForm(),this.reset4thPayForm(),this.reset5thPayForm(),this.reset6thPayForm(),this.reset7thPayForm(),this.resetJoiningPayForm(),this.resetBankDetails())},e.prototype.resetFixPayForm=function(){this.createFixPayDetail.patchValue({fixPayValue:"",effDate:""}),r.a.resetValidation(this.createFixPayDetail)},e.prototype.reset4thPayForm=function(){this.create4thPayDetails.patchValue({payScale:"",basicPay:"",effectiveDate:""}),r.a.resetValidation(this.create4thPayDetails)},e.prototype.reset5thPayForm=function(){this.create5thPayDetails.patchValue({payScale:"",basicPay:"",effectiveDate:"",dateOfNextIncrement:""}),r.a.resetValidation(this.create5thPayDetails)},e.prototype.reset6thPayForm=function(){this.create6thPayDetails.patchValue({empDesignationAsOn:"",empOtherDesignation:"",preRevisedPayScale:"",preRevisedBasicPay:"",revisedPayBand:"",gradePay:"",payBandValue:"",basicPay:"",dateOfPreRevisedNextIncrement:"",dateOfOption:"",dateOfStagnational:"",incrementAmount:"",effDate:"",dateOfNextIncrement:""}),r.a.resetValidation(this.create6thPayDetails)},e.prototype.reset7thPayForm=function(){this.create7thPayDetails.patchValue({payLevel:"",cellId:"",basicPay:"",dateOfNextIncrement:"",dateOfBenefitEffective:""}),r.a.resetValidation(this.create7thPayDetails)},e.prototype.setQualificationDetail=function(e){var t=this;this.cccExemptedFlag=!1,e.pvuEmployeQualificationDto&&e.pvuEmployeQualificationDto.length>0?(this.courseCtrl=[],this.degreeCtrl=[],this.passingYearCtrl=[],e.pvuEmployeQualificationDto.forEach(function(e){if(e.isOtherCourseName=251===e.courseName||252===e.courseName||253===e.courseName,e.courseNameList=p.cloneDeep(t.allCourseNameList),t.onChangeSchoolDegree({value:e.degree},e),t.passingYearList){var a=t.passingYearList.filter(function(t){return t.id===e.passingYear});a&&1!==a.length&&(e.passingYear="")}t.courseCtrl.push(new s.g),t.degreeCtrl.push(new s.g),t.passingYearCtrl.push(new s.g),t.cccExemptedArray&&0!==t.cccExemptedArray.length&&-1!==t.cccExemptedArray.indexOf(e.courseName)&&(t.cccExemptedFlag=!0)}),this.dataSourceQualification=new n.o(e.pvuEmployeQualificationDto)):this.resetQualPanel(),e.exemptedDeptExamFlag?e.exemptedDeptExam&&(this.dataSourceDeptExam.data[0]=e.exemptedDeptExam,e.exemptedDeptExam.examStatus===this.getExamStatusId("Exempted","dept")?(this.exemptDept=!0,this.disableFieldDept=!0,this.isDeptExamApplicable=!0,this.isDepExemptedStatus=!0):(this.applicableDept=!0,this.disableFieldDept=!1,this.isDeptExamApplicable=!0,this.isDepExemptedStatus=!1),this.dataSourceDeptExam.data.forEach(function(e,a){e.dateOfPassing=t.dateFormating(e.dateOfPassing),e.examAttempts=e.examAttempts?e.examAttempts:""}),this.setExambody()):e.pvuEmployeDeptExamDetailsDto&&e.pvuEmployeDeptExamDetailsDto.length>0?(this.examBodyCtrl=[],this.deptHodNameCtrl=[],this.deptExamStatusCtrl=[],this.dataSourceDeptExam.data=e.pvuEmployeDeptExamDetailsDto,e.pvuEmployeDeptExamDetailsDto[0].examStatus===this.getExamStatusId("Exempted","dept")?(this.exemptDept=!0,this.disableFieldDept=!0,this.isDeptExamApplicable=!0,this.isDepExemptedStatus=!0):(this.applicableDept=!0,this.disableFieldDept=!1,this.isDeptExamApplicable=!0,this.isDepExemptedStatus=!1),this.dataSourceDeptExam.data.forEach(function(e,a){e.dateOfPassing=t.dateFormating(e.dateOfPassing),e.examAttempts=e.examAttempts?e.examAttempts:"",t.examBodyCtrl.push(new s.g),t.deptHodNameCtrl.push(new s.g),t.deptExamStatusCtrl.push(new s.g)}),this.setExambody()):this.resetDeptPanel(),e.exemptedCccExamFlag?e.exemptedCccExam&&(this.dataSourceSpclExam.data[0]=e.exemptedCccExam,e.exemptedCccExam.examStatus===this.getExamStatusId("Exempted","ccc")?(this.exemptCCC=!0,this.applicableCCC=!1,this.disableFieldCCC=!0,this.isCCCExamApplicable=!0,this.isCccExemptedStatus=!0):(this.exemptCCC=!1,this.applicableCCC=!0,this.disableFieldCCC=!1,this.isCCCExamApplicable=!0,this.isCccExemptedStatus=!1),this.dataSourceSpclExam.data.forEach(function(e,a){e.dateOfExam=t.dateFormating(t.dataSourceSpclExam.data[a].dateOfExam),e.dateOfPassing=t.dateFormating(t.dataSourceSpclExam.data[a].dateOfPassing)})):e.pvuEmployeCCCExamDetailDto&&e.pvuEmployeCCCExamDetailDto.length>0?(this.cccExamNameCtrl=[],this.cccExamBodyCtrl=[],this.cccExamStatusCtrl=[],this.dataSourceSpclExam.data=e.pvuEmployeCCCExamDetailDto,e.pvuEmployeCCCExamDetailDto[0].examStatus===this.getExamStatusId("Exempted","ccc")?(this.exemptCCC=!0,this.disableFieldCCC=!0,this.isCCCExamApplicable=!0,this.isCccExemptedStatus=!0):(this.applicableCCC=!0,this.disableFieldCCC=!1,this.isCCCExamApplicable=!0,this.isCccExemptedStatus=!1),this.dataSourceSpclExam.data.forEach(function(e,a){e.dateOfExam=t.dateFormating(t.dataSourceSpclExam.data[a].dateOfExam),e.dateOfPassing=t.dateFormating(t.dataSourceSpclExam.data[a].dateOfPassing),t.cccExamNameCtrl.push(new s.g),t.cccExamBodyCtrl.push(new s.g),t.cccExamStatusCtrl.push(new s.g)})):this.resetCCCPanel(),e.pvuEmployeLangExamDto&&e.pvuEmployeLangExamDto.length>0?(this.langNameCtrl=[],this.langExamTypeCtrl=[],this.langExamStatusCtrl=[],this.dataSourceLangExam.data=e.pvuEmployeLangExamDto,this.dataSourceLangExam.data.forEach(function(e,a){e.dateOfPassing=t.dateFormating(t.dataSourceLangExam.data[a].dateOfPassing),t.langNameCtrl.push(new s.g),t.langExamTypeCtrl.push(new s.g),t.langExamStatusCtrl.push(new s.g)})):this.resetLangPanel()},e.prototype.getCtrl=function(e,t){return e[t]},e.prototype.getHODList=function(){var e=this.departmentalDetails.get("parentHeadDeptId").value;if(e&&this.parentAdminDeptList){var t=this.parentAdminDeptList.filter(function(t){return t.id===e})[0];t&&t.code&&"DP52"===t.code?(this.isNpaVisible=!0,this.departmentalDetails.controls.isNPA.setValidators(s.x.required),this.departmentalDetails.controls.isNPA.updateValueAndValidity()):(this.isNpaVisible=!1,this.departmentalDetails.controls.isNPA.setValue(""),this.departmentalDetails.controls.isNPA.clearValidators(),this.departmentalDetails.controls.isNPA.updateValueAndValidity())}e&&this.hodData&&(this.parentHeadDeptList=this.hodData.filter(function(t){return t.parentId===e}),0===this.parentHeadDeptList.length?(this.isHodRequired=!1,this.departmentalDetails.controls.hodNameId.clearValidators(),this.departmentalDetails.controls.hodNameId.updateValueAndValidity()):(this.isHodRequired=!0,this.departmentalDetails.controls.hodNameId.setValidators(s.x.required),this.departmentalDetails.controls.hodNameId.updateValueAndValidity()),this.departmentalDetails.controls.hodNameId.setValue(""))},e.prototype.setExambody=function(){var e=this;this.dataSourceDeptExam.data.forEach(function(t,a){switch(t.examBody){case 133:t.deptHodNameList=p.cloneDeep(e.adminDepartment),t.disabledeptHOD=!1;break;case 134:t.deptHodNameList=p.cloneDeep(e.hodData),t.disabledeptHOD=!1;break;case 135:case 136:t.disabledeptHOD=!0,t.deptHodName=0;break;case 137:t.disabledeptHOD=!1,t.deptHodNameList="","add"===e.action&&(t.otherDeptHodName="")}})},e.prototype.getDeptDetail=function(e){var t,a=this,i=this;this.pvuService.getDepartmentalDetail(e).subscribe(function(e){if(e&&e.result&&200===e.status)if(a.loader=!1,null!==(t=e.result.pvuEmployeDepartmentDto)){var i;a.departmentId=t.departmentId,a.departmentCategoryIdSelected=t.departmentalCategory,"view"===a.action&&a.getPayMasters(),t.suspended?a.isSuspendedList&&(i=a.isSuspendedList.filter(function(e){return e.lookupInfoName.toLowerCase()==="Yes".toLowerCase()})[0])&&a.departmentalDetails.controls.suspended.setValue(i.lookupInfoId):a.isSuspendedList&&(i=a.isSuspendedList.filter(function(e){return e.lookupInfoName.toLowerCase()==="No".toLowerCase()})[0])&&a.departmentalDetails.controls.suspended.setValue(i.lookupInfoId),a.setDeptDetail(t),e.result.pvuEmployeHistoryDto&&0===e.result.pvuEmployeHistoryDto.length?(a.prevEmpHistory=!1,a.isEmployeementApplicable=!1):(a.prevEmpHistory=!0,a.isEmployeementApplicable=!0,a.dataSource.data=e.result.pvuEmployeHistoryDto,a.dataSource.data.forEach(function(e){if(a.employementTypeList){var t=a.employementTypeList.filter(function(t){return t.lookupInfoId===e.employementType})[0];t&&(e.employementTypeName=t.lookupInfoName)}if(a.empServiceContinuationList){var i=a.empServiceContinuationList.filter(function(t){return t.lookupInfoId===e.empServiceContinuation})[0];i&&(e.empServiceContinuationName=i.lookupInfoName)}}),a.listshow=!0)}else{var o=a.createEmployeeForm.controls.dateOfBirth.value;0!==o&&""!==o&&null!=o&&a.dobOnChange(new Date(o)),a.prevEmpHistory=!1,a.isEmployeementApplicable=!1,a.resetDeptTabForm()}else a.loader=!1},function(e){a.loader=!1,i.toastr.error(e)})},e.prototype.setDeptDetail=function(e){if(this.departmentalDetails.patchValue({dateOfJoiningGOG:this.dateFormating(e.dateOfJoiningGOG),payCommissionJoiningTime:0!==e.payCommissionJoiningTime?e.payCommissionJoiningTime:"",empStatus:0!==e.empStatus&&""!==e.empStatus&&null!=e.empStatus?e.empStatus:"",empPayType:0!==e.empPayType&&""!==e.empPayType&&null!=e.empPayType?e.empPayType:"",designationId:0!==e.designationId&&""!==e.designationId&&null!=e.designationId?e.designationId:"",districtId:0!==e.districtId&&""!==e.districtId&&null!=e.districtId?e.districtId:"",cardexNo:e.cardexNo,presentOffice:this.currentPost.officeDetail.officeName,subOffice:0!==e.subOffice&&""!==e.subOffice&&null!=e.subOffice?e.subOffice:"",ddoCode:e.ddoCode,officeAddNum:this.getOfficeAdd(),empClass:0!==e.empClass&&""!==e.empClass&&null!=e.empClass?e.empClass:"",empType:0!==e.empType&&""!==e.empType&&null!=e.empType?e.empType:"",departmentalCategory:0!==e.departmentalCategory&&""!==e.departmentalCategory&&null!=e.departmentalCategory?e.departmentalCategory:"",station:e.station,taluka:0!==e.taluka&&""!==e.taluka&&null!=e.taluka?e.taluka:"",parentHeadDeptId:0!==e.parentHeadDeptId&&""!==e.parentHeadDeptId&&null!=e.parentHeadDeptId?e.parentHeadDeptId:"",isNPA:0!==e.isNPA&&""!==e.isNPA&&null!=e.isNPA?e.isNPA:"",hodNameId:0!==e.hodNameId&&""!==e.hodNameId&&null!=e.hodNameId?e.hodNameId:"",gpfNo:e.gpfNo,pranAccNo:e.pranAccNo,ppoNo:e.ppoNo,dateOfRetirement:this.dateFormating(e.dateOfRetirement),deathTerminationDate:this.dateFormating(e.deathTerminationDate),ppanNo:e.ppanNo}),this.departmentalDetails.controls.dateOfJoiningGOG.value){var t=new Date(this.departmentalDetails.controls.dateOfJoiningGOG.value);this.joiningDateGog=new Date(t.getFullYear(),t.getMonth(),t.getDate())}var a={};if(a.target={value:new Date(this.departmentalDetails.controls.dateOfJoiningGOG.value)},this.departmentalDetails.controls.dateOfRetirement.value)this.onEmpClassChange();else{var i=this.createEmployeeForm.controls.dateOfBirth.value;0!==i&&""!==i&&null!=i?this.dobOnChange(new Date(i)):this.onEmpClassChange()}this.onDOJSelect(a),this.payCommissionChange(),this.getHODList(),this.departmentalDetails.patchValue({empType:0!==e.empType&&""!==e.empType&&null!=e.empType?e.empType:"",isNPA:0!==e.isNPA&&""!==e.isNPA&&null!=e.isNPA?e.isNPA:"",hodNameId:0!==e.hodNameId&&""!==e.hodNameId&&null!=e.hodNameId?e.hodNameId:""}),(e.deputationStartDate||e.deputationEndDate)&&(this.isDeputation=!0,this.departmentalDetails.patchValue({deputationStartDate:this.dateFormating(e.deputationStartDate),deputationEndDate:this.dateFormating(e.deputationEndDate)}))},e.prototype.dateFormating=function(e){if(0!==e&&""!==e&&null!=e){var t;return t=-1!==e.indexOf("T")?e.split("T")[0].split("-"):-1!==e.indexOf(" ")?e.split(" ")[0].split("-"):e.split("-"),new Date(t[0],Number(t[1])-1,t[2])}return""},e.prototype.setMinEffectiveDate=function(){this.minDate4th=this.joiningDateGog>this.minDate4th?new Date(this.joiningDateGog):new Date(1986,0,1),this.minDate5th=this.joiningDateGog>this.minDate5th?new Date(this.joiningDateGog):new Date(1996,0,1),this.minDate6th=this.joiningDateGog>this.minDate6th?new Date(this.joiningDateGog):new Date(2006,0,1),this.minDate7th=this.joiningDateGog>this.minDate7th?new Date(this.joiningDateGog):new Date(2016,0,1)},e.prototype.getOfficeAdd=function(){var e=this.storageService.get("userOffice"),t="";return e.addrLine1.trim()&&(t=e.addrLine1.trim()),e.addrLine2.trim()&&(t?(","!==t[t.length-1]&&(t+=","),t+=" "+e.addrLine2.trim()):t+=e.addrLine2),e.phoneNo.trim()&&(t?(","!==t[t.length-1]&&(t+=","),t+=" "+e.phoneNo.trim()):t+=e.phoneNo.trim()),e.mobileNo.trim()&&(t?(","!==t[t.length-1]&&(t+=","),t+=" "+e.mobileNo.trim()):t+=e.mobileNo.trim()),t},e.prototype.createForm=function(){this.createEmployeeForm=this.fb.group({officeName:[""],empId:[0],caseNo:[""],employeeCode:[""],salutation:[""],employeeName:["",[s.x.required,r.a.charWithSpaceValidationName]],employeeMiddleName:["",r.a.charWithSpaceValidationName],employeeSurname:["",r.a.charWithSpaceValidationName],gender:["",s.x.required],nationality:["",s.x.required],emailID:["",[s.x.compose([s.x.pattern("(?!.*?\\.\\.)(?!.*?\\-\\-)[a-zA-Z0-9.\\-_]{1,}@[a-zA-Z.-]{2,}[.]{1}[a-zA-Z]{2,}")])]],dateOfBirth:["",s.x.required],mobileNo:["",[s.x.required,r.a.mobileNoValidator]],fatherName:["",[s.x.required,r.a.charWithSpaceValidationFatherName]],motherName:["",[s.x.required,r.a.charWithSpaceValidationName]],maritalStatus:["",s.x.required],category:["",s.x.required],religion:["",s.x.required],caste:["",s.x.required],bloodGroup:[""],phStatus:["",s.x.required],phType:[],otherPhCategory:[""],dateOfMedFitnessCert:[""],height:["",[s.x.required,r.a.minHeightValidation]],identificationMark:["",s.x.required],electionCardNo:["",r.a.electionNoValidation],aadhaarNo:["",r.a.aadharNoValidation],panNo:["",[s.x.required,r.a.panCardValidation]],passportNo:["",r.a.passportValidation],passportExpiryDate:[""],buckleNo:[""],curAddress1:["",s.x.required],curAddress2:[""],curState:["",s.x.required],curDistrict:["",s.x.required],curTaluka:["",s.x.required],curCity:["",s.x.required],curPinCode:["",[s.x.required,r.a.pincodeValidation]],curOfficeDist:["",s.x.required],perAddress1:["",s.x.required],perAddress2:[""],perState:["",s.x.required],perDistrict:["",s.x.required],perTaluka:["",s.x.required],perCity:["",s.x.required],perPinCode:["",[s.x.required,r.a.pincodeValidation]],natAddress1:["",s.x.required],natAddress2:[""],natState:["",s.x.required],natDistrict:["",s.x.required],natTaluka:["",s.x.required],natCity:["",s.x.required],natPinCode:["",[s.x.required,r.a.pincodeValidation]],isNatAddCurAddPerAdd:[""],isPerAddCurAdd:[""]}),this.createFixPayDetail=this.fb.group({fixPayValue:["",s.x.required],effDate:["",s.x.required]}),this.create4thPayDetails=this.fb.group({payScale:["",s.x.required],basicPay:["",s.x.required],effectiveDate:["",s.x.required]}),this.create5thPayDetails=this.fb.group({payScale:["",s.x.required],basicPay:["",s.x.required],effectiveDate:["",s.x.required],dateOfNextIncrement:["",s.x.required]}),this.create6thPayDetails=this.fb.group({empDesignationAsOn:[""],empOtherDesignation:[""],preRevisedPayScale:[""],preRevisedBasicPay:[""],revisedPayBand:["",s.x.required],gradePay:["",s.x.required],payBandValue:["",s.x.required],basicPay:[],dateOfPreRevisedNextIncrement:[""],dateOfOption:[""],dateOfStagnational:[""],incrementAmount:["",s.x.required],effDate:["",s.x.required],dateOfNextIncrement:["",s.x.required]}),this.create7thPayDetails=this.fb.group({payLevel:["",s.x.required],cellId:["",s.x.required],basicPay:[""],dateOfNextIncrement:["",s.x.required],dateOfBenefitEffective:["",s.x.required]}),this.create6thPayDetails.patchValue({preRevisedBasicPay:""}),this.departmentalDetails=this.fb.group({dateOfJoiningGOG:new s.g("",s.x.required),payCommissionJoiningTime:new s.g("",s.x.required),empStatus:new s.g("",s.x.required),deputationStartDate:new s.g,deputationEndDate:new s.g,suspended:new s.g(""),empPayType:new s.g("",s.x.required),designationId:new s.g("",s.x.required),districtId:new s.g("",s.x.required),cardexNo:new s.g(""),presentOffice:new s.g(""),subOffice:new s.g(""),ddoCode:new s.g,officeAddNum:new s.g(""),empClass:new s.g("",s.x.required),empType:new s.g("",s.x.required),departmentalCategory:new s.g("",s.x.required),station:new s.g("",s.x.required),taluka:new s.g("",s.x.required),parentHeadDeptId:new s.g("",s.x.required),isNPA:new s.g(""),hodNameId:new s.g("",s.x.required),gpfNo:new s.g(""),pranAccNo:new s.g(""),ppoNo:new s.g(""),dateOfRetirement:new s.g("",s.x.required),deathTerminationDate:new s.g(""),ppanNo:new s.g("")}),this.previousEmployementDetails=this.fb.group({employementType:["",s.x.required],deptName:["",s.x.required],officeName:["",s.x.required],officeAdd:["",s.x.required],empDesignationHist:["",s.x.required],fromDate:["",s.x.required],toDate:["",s.x.required],lastPayDrawn:["",s.x.required],empServiceContinuation:["",s.x.required],orderNoDate:[""]})},e.prototype.loadMaxDateOfExam=function(e){return null!==e.dateOfPassing&&0!==e.dateOfPassing&&""!==e.dateOfPassing?e.dateOfPassing:this.maxDOJ},e.prototype.patchDepartmentDetail=function(){this.createEmployeeForm.patchValue({officeName:this.currentPost.officeDetail.officeName}),this.departmentalDetails.patchValue({districtId:this.currentPost.officeDetail.districtId,cardexNo:this.currentPost.officeDetail.cardexno,ddoCode:this.currentPost.officeDetail.ddoNo,presentOffice:this.currentPost.officeDetail.officeName,officeAddNum:this.getOfficeAdd()}),this.presentOfficeId=this.currentPost.officeDetail.officeId},e.prototype.showOtherPHCategory=function(){return 113===this.createEmployeeForm.get("phType").value?(this.createEmployeeForm.controls.otherPhCategory.setValidators([s.x.required]),this.createEmployeeForm.controls.otherPhCategory.updateValueAndValidity(),this.isPhLevelRequired=!0,!0):(this.isPhLevelRequired=!1,this.createEmployeeForm.controls.otherPhCategory.setValidators(null),this.createEmployeeForm.controls.otherPhCategory.updateValueAndValidity(),!1)},e.prototype.dobOnChange=function(e){var t,a=this;t=e.value?e.value:e,new Date(t.getFullYear()+18,t.getMonth(),t.getDate())<=new Date||(this.toastr.error(o.b.AGE_ERROR),this.createEmployeeForm.patchValue({dateOfBirth:""})),this.dateOfBirth=this.createEmployeeForm.get("dateOfBirth").value;var i=p.cloneDeep(this.createEmployeeForm.get("dateOfBirth").value),s=(i=this.convertDateOnly(i)).split("-");if(s&&3===s.length&&(this.formattedDateOfBirth=new Date(s[0],s[1],s[2])),this.departmentalDetails.controls.dateOfRetirement.patchValue(new Date(t.getFullYear()+60,t.getMonth()+1,0)),this.onEmpClassChange(),this.minDoj=new Date(t.getFullYear()+18,t.getMonth(),t.getDate()),this.passingYearListData&&(this.passingYearList=this.passingYearListData.filter(function(e){return Number(e.name)>=Number(t.getFullYear())}),this.dataSourceQualification&&this.dataSourceQualification.data&&this.dataSourceQualification.data.length>0)){var r=p.cloneDeep(this.dataSourceQualification.data);r.forEach(function(e){if(a.passingYearList){var t=a.passingYearList.filter(function(t){return t.id===e.passingYear});t&&1!==t.length&&(e.passingYear="")}}),this.dataSourceQualification=new n.o(r)}},e.prototype.onEmpClassChange=function(){var e=this,t=this.empClassList.filter(function(t){return t.lookupInfoId===e.departmentalDetails.controls.empClass.value})[0];if(this.createEmployeeForm.controls.dateOfBirth.value)if(t&&165===t.lookupInfoId){var a=new Date(this.createEmployeeForm.controls.dateOfBirth.value);this.departmentalDetails.controls.dateOfRetirement.setValue(new Date(a.getFullYear()+60,a.getMonth()+1,0))}else a=new Date(this.createEmployeeForm.controls.dateOfBirth.value),this.departmentalDetails.controls.dateOfRetirement.setValue(new Date(a.getFullYear()+58,a.getMonth()+1,0));this.empTypeData&&0!==this.empTypeData.length&&(this.empTypeList=!t||162!==t.lookupInfoId&&163!==t.lookupInfoId?!t||164!==t.lookupInfoId&&165!==t.lookupInfoId?p.cloneDeep(this.empTypeData):this.empTypeData.filter(function(e){return 168===e.lookupInfoId}):this.empTypeData.filter(function(e){return 167===e.lookupInfoId}),this.departmentalDetails.controls.empType.setValue(""))},e.prototype.calculateBasicPay=function(){var e=this,t=0,a=this.create6thPayDetails.controls.payBandValue.value;if(this.gradePayList&&""!==this.create6thPayDetails.controls.gradePay.value){var i=this.gradePayList.findIndex(function(t){return t.id===e.create6thPayDetails.controls.gradePay.value});t=this.gradePayList[i]&&this.gradePayList[i].gradePayValue?this.gradePayList[i].gradePayValue:0}this.create6thPayDetails.controls.basicPay.patchValue(+a+(isNaN(t)?0:+t)),this.calculateIncrementAmt(this.create6thPayDetails.controls.basicPay.value)},e.prototype.calculateIncrementAmt=function(e){var t=10*Math.ceil(3*+e/100/10);this.create6thPayDetails.get("incrementAmount").setValue(t)},e.prototype.calJoining6thBasicPay=function(){var e=this,t=0,a=this.joining6thPayDetail.controls.join6thPayBandValue.value;if(this.join6thGradePayList&&""!==this.joining6thPayDetail.controls.join6thGradePay.value){var i=this.join6thGradePayList.findIndex(function(t){return t.id===e.joining6thPayDetail.controls.join6thGradePay.value});t=this.join6thGradePayList[i]&&this.join6thGradePayList[i].gradePayValue?this.join6thGradePayList[i].gradePayValue:0}this.joining6thPayDetail.controls.join6thBasicPay.patchValue(+a+(isNaN(t)?0:+t))},e.prototype.onDOJSelect=function(e){e.target.value<new Date("04/01/2005")?(this.showGPF=!0,this.showPRAN=!1):(this.showGPF=!1,this.showPRAN=!0);var t=new Date(this.departmentalDetails.controls.dateOfJoiningGOG.value);this.joiningDateGog=new Date(t.getFullYear(),t.getMonth(),t.getDate()),this.setMinEffectiveDate()},e.prototype.dateVal=function(){this.minDate=new Date(this.previousEmployementDetails.controls.fromDate.value),this.maxDate=this.previousEmployementDetails.controls.toDate.value},e.prototype.dateValStatus=function(){this.statusMinDate=this.departmentalDetails.controls.deputationStartDate.value,this.statusMaxDate=this.departmentalDetails.controls.deputationEndDate.value},e.prototype.convertDateFormat=function(e){return""!==e&&void 0!==e?(e=new Date(e),this.datepipe.transform(e,"dd-MM-yyyy 00:00:00").toString()):""},e.prototype.convertDateOnly=function(e){return""!==e&&null!=e?(e=new Date(e),this.datepipe.transform(e,"yyyy-MM-dd").toString()):""},e.prototype.onSavePersonalDetail=function(e){var t=this,a=this,i=!0;this.nomineeHighlight=!1;var s=!1;if(this.isPersonalSaveDisabled=!0,"DRAFT"===e){if(s=!0,this.createEmployeeForm.controls.employeeName.updateValueAndValidity(),!this.createEmployeeForm.controls.employeeName.value)return this.createEmployeeForm.controls.employeeName.markAsTouched(),this.toastr.error(o.b.EMPLOYEE_NAME),void(this.isPersonalSaveDisabled=!1)}else r.a.validateAllFormFields(this.createEmployeeForm);if("SUBMIT"===e&&this.duplicatePanNo)this.isPersonalSaveDisabled=!1;else if(s||this.createEmployeeForm.valid){var n=new FormData;Object.keys(this.createEmployeeForm.value).forEach(function(e){if(t.createEmployeeForm.controls.hasOwnProperty(e)){var a=t.createEmployeeForm.value[e];"cur"!==e.substring(0,3)&&"nat"!==e.substring(0,3)&&"per"!==e.substring(0,3)||"nationality"===e?"isNatAddCurAddPerAdd"===e?n.append("pvuEmployeAddressDto."+e,"sameAsCurrentAddr"===a?"1":"sameAsPermanentAddr"===a?"2":"0"):"isPerAddCurAdd"===e?n.append("pvuEmployeAddressDto."+e,a?"1":"0"):"dateOfBirth"!==e&&"dateOfMedFitnessCert"!==e&&"passportExpiryDate"!==e&&n.append("pvuEmployeDto."+e,a||"0"):n.append("pvuEmployeAddressDto."+e,a||"0")}}),n.append("formAction","DRAFT"),n.append("pvuEmployeAddressDto.statusId",this.getStatusId("Saved as Draft")),n.append("pvuEmployeAddressDto.empAddressId",this.empAddressId.toString()?this.empAddressId.toString():"0"),n.append("pvuEmployeDto.officeId",this.currentPost.officeDetail.officeId),n.append("pvuEmployeDto.dateOfBirth",""!==this.createEmployeeForm.get("dateOfBirth").value&&null!==this.createEmployeeForm.get("dateOfBirth").value?this.convertDateFormat(this.createEmployeeForm.get("dateOfBirth").value):""),n.append("pvuEmployeDto.dateOfMedFitnessCert",""!==this.createEmployeeForm.get("dateOfMedFitnessCert").value&&null!==this.createEmployeeForm.get("dateOfMedFitnessCert").value?this.convertDateFormat(this.createEmployeeForm.get("dateOfMedFitnessCert").value):""),n.append("pvuEmployeDto.passportExpiryDate",""!==this.createEmployeeForm.get("passportExpiryDate").value&&null!==this.createEmployeeForm.get("passportExpiryDate").value?this.convertDateFormat(this.createEmployeeForm.get("passportExpiryDate").value):""),n.append("pvuEmployeDto.statusId",this.getStatusId("Saved as Draft"));var l=p.cloneDeep(this.dataSourceNominee.data),u=0,d=!0,c=!1;if(l.forEach(function(e,a){s||(+e.nomineeShare&&e.relationship&&e.nomineeName&&e.nomineeAddress&&e.nomineeAge||(t.nomineeHighlight=!0,i=!1),e.npsNomiForm||e.npsNomineePhoto&&e.npsNomineeFormName||(i=!1,c=!0),121!==e.relationship&&127!==e.relationship||void 0!==e.otherRelationship&&null!=e.otherRelationship&&""!==e.otherRelationship||(t.nomineeHighlight=!0,d=!1)),delete e.fileBrowseGenForm,delete e.fileBrowseNpsForm,delete e.fileBrowseNomi,e.photoOfNominee&&e.photoOfNominee.type&&e.photoOfNominee.name&&n.append("pvuEmployeNomineeDto["+a+"].nomineePhotoAttachment.attachment[0]",e.photoOfNominee?e.photoOfNominee:"",e.photoOfNominee.name?e.photoOfNominee.name:""),n.append("pvuEmployeNomineeDto["+a+"].nomineePhotoAttachment.fileSize",e.photoOfNominee?t.bytesToKB(e.photoOfNominee.size):"0"),n.append("pvuEmployeNomineeDto["+a+"].nomineePhotoAttachment.format",e.photoOfNominee&&e.photoOfNominee.type?e.photoOfNominee.type:"0"),n.append("pvuEmployeNomineeDto["+a+"].nomineePhotoAttachment.menuId",t.attachmentData?t.attachmentData.menuId:"0"),n.append("pvuEmployeNomineeDto["+a+"].nomineePhotoAttachment.uploadDirectoryPath",t.attachmentData?t.attachmentData.uploadDirectoryPath:""),e.nomineePhoto&&e.nomineePhotoName&&(n.append("pvuEmployeNomineeDto["+a+"].nomineePhoto",e.nomineePhoto?e.nomineePhoto:""),n.append("pvuEmployeNomineeDto["+a+"].nomineePhotoName",e.nomineePhotoName?e.nomineePhotoName:"")),e.genNomiForm&&e.genNomiForm.type&&e.genNomiForm.name&&n.append("pvuEmployeNomineeDto["+a+"].genNomineePhotoAttachment.attachment[0]",e.genNomiForm?e.genNomiForm:"",e.genNomiForm.name?e.genNomiForm.name:""),n.append("pvuEmployeNomineeDto["+a+"].genNomineePhotoAttachment.fileSize",e.genNomiForm?t.bytesToKB(e.genNomiForm.size):"0"),n.append("pvuEmployeNomineeDto["+a+"].genNomineePhotoAttachment.format",e.genNomiForm&&e.genNomiForm.type?e.genNomiForm.type:"0"),n.append("pvuEmployeNomineeDto["+a+"].genNomineePhotoAttachment.menuId",t.attachmentData?t.attachmentData.menuId:"0"),n.append("pvuEmployeNomineeDto["+a+"].genNomineePhotoAttachment.uploadDirectoryPath",t.attachmentData?t.attachmentData.uploadDirectoryPath:""),e.genNomineePhoto&&e.genNomineeFormName&&(n.append("pvuEmployeNomineeDto["+a+"].genNomineePhoto",e.genNomineePhoto?e.genNomineePhoto:""),n.append("pvuEmployeNomineeDto["+a+"].genNomineeFormName",e.genNomineeFormName?e.genNomineeFormName:"")),e.npsNomiForm&&e.npsNomiForm.type&&e.npsNomiForm.name&&n.append("pvuEmployeNomineeDto["+a+"].npsNomineePhotoAttachment.attachment[0]",e.npsNomiForm?e.npsNomiForm:"",e.npsNomiForm.name?e.npsNomiForm.name:""),n.append("pvuEmployeNomineeDto["+a+"].npsNomineePhotoAttachment.fileSize",e.npsNomiForm?t.bytesToKB(e.npsNomiForm.size):"0"),n.append("pvuEmployeNomineeDto["+a+"].npsNomineePhotoAttachment.format",e.npsNomiForm&&e.npsNomiForm.type?e.npsNomiForm.type:"0"),n.append("pvuEmployeNomineeDto["+a+"].npsNomineePhotoAttachment.menuId",t.attachmentData?t.attachmentData.menuId:"0"),n.append("pvuEmployeNomineeDto["+a+"].npsNomineePhotoAttachment.uploadDirectoryPath",t.attachmentData?t.attachmentData.uploadDirectoryPath:""),e.npsNomineePhoto&&e.npsNomineeFormName&&(n.append("pvuEmployeNomineeDto["+a+"].npsNomineePhoto",e.npsNomineePhoto?e.npsNomineePhoto:""),n.append("pvuEmployeNomineeDto["+a+"].npsNomineeFormName",e.npsNomineeFormName?e.npsNomineeFormName:"")),n.append("pvuEmployeNomineeDto["+a+"].statusId",t.getStatusId("Saved as Draft")),n.append("pvuEmployeNomineeDto["+a+"].nomineeAddress",""!==e.nomineeAddress?e.nomineeAddress:""),n.append("pvuEmployeNomineeDto["+a+"].nomineeAge",""!==e.nomineeAge?e.nomineeAge:""),n.append("pvuEmployeNomineeDto["+a+"].nomineeName",""!==e.nomineeName?e.nomineeName:""),n.append("pvuEmployeNomineeDto["+a+"].nomineeShare",""!==e.nomineeShare?e.nomineeShare:"0"),n.append("pvuEmployeNomineeDto["+a+"].otherRelationship",""!==e.otherRelationship?e.otherRelationship:""),n.append("pvuEmployeNomineeDto["+a+"].relationship",""!==e.relationship?e.relationship:"0"),u+=+e.nomineeShare,n.append("pvuEmployeNomineeDto["+a+"].empNomineeId",""!==e.empNomineeId?e.empNomineeId:"0")}),c&&!s)return this.toastr.error(o.b.NOMINEE_ATTACH),this.isPersonalSaveDisabled=!1,!1;if(u>100&&!s)return a.toastr.error(o.b.NOMINEE_SHARE_GREATER),this.isPersonalSaveDisabled=!1,!1;if(u<100&&!s)return a.toastr.error(o.b.NOMINEE_SHARE_LESS),this.isPersonalSaveDisabled=!1,!1;if(!d&&!s)return a.toastr.error(o.b.OTHER_RELATION),this.isPersonalSaveDisabled=!1,!1;this.fileData&&n.append("pvuEmployeDto.photoAttachment[0].attachment[0]",this.fileData?this.fileData:"",this.fileData.name?this.fileData.name:""),n.append("pvuEmployeDto.photoAttachment[0].fileSize",this.fileData?this.bytesToKB(this.fileData.size):"0"),n.append("pvuEmployeDto.photoAttachment[0].format",this.fileData?this.fileData.type:"0"),n.append("pvuEmployeDto.photoAttachment[0].menuId",this.attachmentData?this.attachmentData.menuId:"0"),n.append("pvuEmployeDto.photoAttachment[0].uploadDirectoryPath",this.attachmentData?this.attachmentData.uploadDirectoryPath:""),this.empPhotoKey&&this.empPhotoName&&(n.append("pvuEmployeDto.employeePhoto",this.empPhotoKey?this.empPhotoKey:""),n.append("pvuEmployeDto.employeePhotoName",this.empPhotoName?this.empPhotoName:"")),s||i?this.pvuService.savePersonalDetail(n).subscribe(function(i){i&&200===i.status?(t.isPersonalSaveDisabled=!1,i.result&&(a.toastr.success(i.message),t.empId=i.result.pvuEmployeDto.empId,t.setEmployeeData(i.result,null),t.isTabDisabled=!0,t.fileData=null,"DRAFT"!==e&&(t.selectedIndex=1,"edit"===t.action&&t.getQualificationDetail({id:t.empId})))):(t.isPersonalSaveDisabled=!1,a.toastr.error(i.message))},function(e){t.isPersonalSaveDisabled=!1,a.toastr.error(e)}):(this.isPersonalSaveDisabled=!1,a.toastr.error(o.a.VALIDATION.TOASTR))}else this.isPersonalSaveDisabled=!1,a.toastr.error(o.a.VALIDATION.TOASTR)},e.prototype.getStatusId=function(e){var t=this.statusData.filter(function(t){return t.lookupInfoName===e});if(this.transStatus){if(t&&t[0]&&t[0].lookupInfoId===this.transStatus)return t[0].lookupInfoId}else if(t&&t[0])return t[0].lookupInfoId;return this.transStatus},e.prototype.gotoPrevious=function(e){this.selectedIndex=+e},e.prototype.typeConverting=function(e,t){var a={};for(var i in e)if(e.hasOwnProperty(i)){var o=void 0;if(t.hasOwnProperty(i)&&void 0!==e[i]){var s=t[i];"string"===s&&""!==e[i]&&null!=e[i]?o=e[i].toString():"number"===s&&""!==e[i]&&null!=e[i]&&(o=Number(e[i])),a[i]=o}}return a},e.prototype.hasSevenPayData=function(e){return!!(e.payLevel&&0!==e.payLevel||e.cellId&&0!==e.cellId||0!==e.basicPay&&""!==e.basicPay&&null!==e.basicPay||e.dateOfNextIncrement&&0!==e.dateOfNextIncrement||e.dateOfBenefitEffective&&0!==e.dateOfBenefitEffective)},e.prototype.hasSixPayData=function(e){return!!(e.empDesignationAsOn&&0!==e.empDesignationAsOn||e.empOtherDesignation&&null!==e.empOtherDesignation||e.preRevisedPayScale&&0!==e.preRevisedPayScale||e.preRevisedBasicPay&&e.preRevisedBasicPay>0||e.revisedPayBand&&0!==e.revisedPayBand||e.gradePay&&0!==e.gradePay||e.payBandValue&&e.payBandValue>0||e.basicPay&&e.basicPay>0||e.dateOfPreRevisedNextIncrement&&0!==e.dateOfPreRevisedNextIncrement||e.dateOfOption&&0!==e.dateOfOption||e.dateOfStagnational&&0!==e.dateOfStagnational||e.incrementAmount&&e.incrementAmount>0||e.effDate&&0!==e.effDate||e.dateOfNextIncrement&&0!==e.dateOfNextIncrement)},e.prototype.hasFifthPayData=function(e){return!!(e.payScale&&0!==e.payScale||0!==e.basicPay&&""!==e.basicPay&&null!==e.basicPay||e.effectiveDate&&0!==e.effectiveDate&&null!==e.effectiveDate)},e.prototype.hasFourthPayData=function(e){return!!(e.payScale&&0!==e.payScale||0!==e.basicPay&&""!==e.basicPay&&null!==e.basicPay||e.effectiveDate&&0!==e.effectiveDate&&null!==e.effectiveDate)},e.prototype.payDetailsErrorMessage=function(){this.toastr.error(o.a.VALIDATION.TOASTR),this.isPaySaveDisabled=!1},e.prototype.onSavePayDetail=function(e){var t=this;this.isPaySaveDisabled=!0;var a=this,i=this.departmentalDetails.get("payCommissionJoiningTime").value,s=this.create7thPayDetails.getRawValue(),n=this.create6thPayDetails.getRawValue(),l=this.create5thPayDetails.getRawValue(),p=this.create4thPayDetails.getRawValue(),u=null,d=null,c=null,m=null,h=!1;if("DRAFT"===e&&(h=!0),341!==i||h||(r.a.validateAllFormFields(this.createFixPayDetail),r.a.validateAllFormFields(this.joiningFixPayDetail),this.createFixPayDetail.valid&&this.joiningFixPayDetail.valid))if(152!==i||h||(r.a.validateAllFormFields(this.create7thPayDetails),r.a.validateAllFormFields(this.create6thPayDetails),r.a.validateAllFormFields(this.joining7thPayDetail),this.create7thPayDetails.valid&&this.create6thPayDetails.valid&&this.joining7thPayDetail.valid)){if(151===i&&!h){if(r.a.validateAllFormFields(this.create6thPayDetails),r.a.validateAllFormFields(this.joining6thPayDetail),!this.create6thPayDetails.valid||!this.joining6thPayDetail.valid)return void this.payDetailsErrorMessage();if(this.hasSevenPayData(s)){if(r.a.validateAllFormFields(this.create7thPayDetails),!this.create7thPayDetails.valid)return void this.payDetailsErrorMessage()}else this.reset7thPayForm()}if(150===i&&!h){if(r.a.validateAllFormFields(this.create5thPayDetails),r.a.validateAllFormFields(this.joining5thPayDetail),!this.create5thPayDetails.valid||!this.joining5thPayDetail.valid)return void this.payDetailsErrorMessage();if(this.hasSixPayData(n)){if(r.a.validateAllFormFields(this.create6thPayDetails),!this.create6thPayDetails.valid)return void this.payDetailsErrorMessage()}else this.reset6thPayForm();if(this.hasSevenPayData(s)){if(r.a.validateAllFormFields(this.create7thPayDetails),!this.create7thPayDetails.valid)return void this.payDetailsErrorMessage()}else this.reset7thPayForm()}if((149===i||148===i||339===i||338===i)&&!h){if(r.a.validateAllFormFields(this.create4thPayDetails),r.a.validateAllFormFields(this.create5thPayDetails),!this.create4thPayDetails.valid||!this.create5thPayDetails.valid)return void this.payDetailsErrorMessage();if(this.hasSixPayData(n)){if(r.a.validateAllFormFields(this.create6thPayDetails),!this.create6thPayDetails.valid)return void this.payDetailsErrorMessage()}else this.reset6thPayForm();if(this.hasSevenPayData(s)){if(r.a.validateAllFormFields(this.create7thPayDetails),!this.create7thPayDetails.valid)return void this.payDetailsErrorMessage()}else this.reset7thPayForm();if(149===i){if(r.a.validateAllFormFields(this.joining4thPayDetail),!this.joining4thPayDetail.valid)return void this.payDetailsErrorMessage()}else if(148===i){if(r.a.validateAllFormFields(this.joining3rdPayDetail),!this.joining3rdPayDetail.valid)return void this.payDetailsErrorMessage()}else if(339===i){if(r.a.validateAllFormFields(this.joining2ndPayDetail),!this.joining2ndPayDetail.valid)return void this.payDetailsErrorMessage()}else if(338===i&&(r.a.validateAllFormFields(this.joining1stPayDetail),!this.joining1stPayDetail.valid))return void this.payDetailsErrorMessage()}var y={joinPayCommId:i,empId:this.empId};this.joiningPayId&&(y.joiningPayId=this.joiningPayId),341===i?y.payScale=this.joiningFixPayDetail.get("joinFixPayValue").value:338===i?(y.payScale=this.joining1stPayDetail.get("join1stScale").value,y.basicPay=Number(this.joining1stPayDetail.get("join1stBasicPay").value)):339===i?(y.payScale=this.joining2ndPayDetail.get("join2ndScale").value,y.basicPay=Number(this.joining2ndPayDetail.get("join2ndBasicPay").value)):148===i?(y.payScale=this.joining3rdPayDetail.get("join3rdScale").value,y.basicPay=Number(this.joining3rdPayDetail.get("join3rdBasicPay").value)):149===i?(y.payScale=this.joining4thPayDetail.get("join4thScale").value,y.basicPay=Number(this.joining4thPayDetail.get("join4thBasicPay").value)):150===i?(y.payScale=this.joining5thPayDetail.get("join5thScale").value,y.basicPay=Number(this.joining5thPayDetail.get("join5thBasicPay").value)):151===i?(y.payBandId=this.joining6thPayDetail.get("join6thPayBand").value,y.payBandValue=Number(this.joining6thPayDetail.get("join6thPayBandValue").value),y.gradePayId=this.joining6thPayDetail.get("join6thGradePay").value,y.basicPay=Number(this.joining6thPayDetail.get("join6thBasicPay").value)):152===i&&(y.payLevelId=this.joining7thPayDetail.get("join7thPayLevel").value,y.cellId=this.joining7thPayDetail.get("join7thCellId").value,y.basicPay=Number(this.joining7thPayDetail.get("join7thBasicPay").value));var f=null;if(h||(r.a.validateAllFormFields(this.bankDetailsForm),this.bankDetailsForm.valid)){var D=this.bankDetailsForm.getRawValue();if(D.bankAccNo1!==D.bankAccNo2)return this.toastr.error(o.a.VALIDATION.ACCOUNT_NOT_MATCH),void(this.isPaySaveDisabled=!1);f={accountType:D.accountType,bankAddress:D.bankAddress,bankName:D.bankName,empId:this.empId,ifscCode:D.ifscCode,accountNo:D.bankAccNo2},this.bankId&&(f.id=this.bankId);var g,v=this.createFixPayDetail.value;if(v.fixPayValue=this.createFixPayDetail.get("fixPayValue").value,v.effDate=""!==this.createFixPayDetail.get("effDate").value?this.convertDateOnly(this.createFixPayDetail.get("effDate").value):"",v.empId=this.empId,v.fixPayId=this.fixPayId,!this.hasFourthPayData(p)||149!==i&&148!==i&&339!==i&&338!==i?m=null:((m=this.typeConverting(this.create4thPayDetails.value,this.payDetailType.pvuEmployefourthPayDetailDto)).empId=this.empId,m.statusId=this.getStatusId("Saved as Draft"),m.effectiveDate=this.convertDateOnly(m.effectiveDate),m.fourthPayId=this.fourthPayId),!this.hasFifthPayData(l)||150!==i&&149!==i&&148!==i&&339!==i&&338!==i?c=null:((c=this.typeConverting(this.create5thPayDetails.value,this.payDetailType.pvuEmployefivePayDetailDto)).empId=this.empId,c.statusId=this.getStatusId("Saved as Draft"),c.effectiveDate=this.convertDateOnly(c.effectiveDate),c.dateOfNextIncrement=this.convertDateOnly(c.dateOfNextIncrement),c.fifthPayId=this.fifthPayId),this.hasSixPayData(n)?((d=this.typeConverting(this.create6thPayDetails.value,this.payDetailType.pvuEmployeSixPayDetailDto)).empId=this.empId,d.dateOfOption=this.convertDateOnly(d.dateOfOption),d.statusId=this.getStatusId("Saved as Draft"),d.dateOfPreRevisedNextIncrement=this.convertDateOnly(d.dateOfPreRevisedNextIncrement),d.dateOfStagnational=this.convertDateOnly(d.dateOfStagnational),d.effDate=this.convertDateOnly(d.effDate),d.dateOfNextIncrement=this.convertDateOnly(d.dateOfNextIncrement),d.sixpayId=this.sixpayId):d=null,this.hasSevenPayData(s)?((u=this.typeConverting(this.create7thPayDetails.value,this.payDetailType.pvuEmployeSevenPayDetailDto)).empId=this.empId,u.statusId=this.getStatusId("Saved as Draft"),u.dateOfBenefitEffective=this.convertDateOnly(u.dateOfBenefitEffective),u.dateOfNextIncrement=this.convertDateOnly(u.dateOfNextIncrement),u.sevenPayId=this.sevenPayId):u=null,g={pvuEmployeFixPayDetailsDto:341===i?v:null,pvuEmployefourthPayDetailDto:341!==i?m:null,pvuEmployefivePayDetailDto:341!==i?c:null,pvuEmployeSixPayDetailDto:341!==i?d:null,pvuEmployeSevenPayDetailDto:341!==i?u:null,pvuEmployeeJoiningPayDto:y||null,pvuEmpBankDetailDto:f||null},"SUBMIT"===e&&(this.fourthBasicPayError||this.fifthBasicPayError||this.sixthBasicPayError||this.join4thBasicPayError||this.join5thBasicPayError||this.join6thBasicPayError))return this.toastr.error(this.errorMessages.ERR_BASIC_PAY),void(this.isPaySaveDisabled=!1);this.pvuService.savePayDetail(g).subscribe(function(i){200===i.status?(t.patchPayDetail(i.result),a.toastr.success(i.message),t.isPaySaveDisabled=!1,"SUBMIT"===e&&t.openWorkFlowPopUp()):(t.isPaySaveDisabled=!1,a.toastr.error(i.message))},function(e){t.isPaySaveDisabled=!1,a.toastr.error(e)})}else this.payDetailsErrorMessage()}else this.payDetailsErrorMessage();else this.payDetailsErrorMessage()},e.prototype.updateQualRemarks=function(e,t){this.dataSourceQualification.data[t].remarks=e.target.value,this.dataSourceQualification=new n.o(this.dataSourceQualification.data)},e.prototype.updateDeptRemarks=function(e,t){this.dataSourceDeptExam.data[t].remarks=e.target.value,this.dataSourceDeptExam=new n.o(this.dataSourceDeptExam.data)},e.prototype.updateCccRemarks=function(e,t){this.dataSourceSpclExam.data[t].remarks=e.target.value,this.dataSourceSpclExam=new n.o(this.dataSourceSpclExam.data)},e.prototype.updateLangRemarks=function(e,t){this.dataSourceLangExam.data[t].remarks=e.target.value,this.dataSourceLangExam=new n.o(this.dataSourceLangExam.data)},e.prototype.saveQualificationDetails=function(e){var t=this;this.isQualSaveDisabled=!0;var a=!0,i=this,s=!1;if(this.qualHighlight=!1,this.deptHighlight=!1,this.cccHighlight=!1,this.langHighlight=!1,"DRAFT"===e&&(s=!0),this.dataSourceQualification.data.forEach(function(e){e&&250!==e.degree&&(e.universityBoard&&e.degree&&e.passingYear||(s||(t.qualHighlight=!0),a=!1),e.isOtherCourseName&&""===e.otherCourseName&&(s||(t.qualHighlight=!0),a=!1))}),!this.exemptDept&&!this.applicableDept)return this.toastr.error("Please Select the Departmental Exam Details"),void(this.isQualSaveDisabled=!1);if(this.dataSourceDeptExam.data.forEach(function(e){e.examStatus!==t.getExamStatusId("Exempted","dept")?(e.deptExamName&&e.examBody&&""!==e.dateOfPassing&&e.examAttempts&&"0"!==e.examAttempts||(s||(t.deptHighlight=!0),a=!1),e.disabledeptHOD||(137===e.examBody?""===e.otherDeptHodName&&(s||(t.deptHighlight=!0),a=!1):e.deptHodName||(s||(t.deptHighlight=!0),a=!1)),""!==e.dateOfPassing&&null!=e.dateOfPassing&&(e.dateOfPassing=t.convertDateOnly(e.dateOfPassing))):e.remarks.trim()||(s||(t.deptHighlight=!0),a=!1)}),!this.exemptCCC&&!this.applicableCCC)return this.toastr.error("Please Select the CCC/ CCC+ Exam Details"),void(this.isQualSaveDisabled=!1);if(this.dataSourceSpclExam.data.forEach(function(e){e.examStatus!==t.getExamStatusId("Exempted","ccc")?(e.cccExamName&&e.examBody&&e.dateOfPassing&&e.dateOfExam&&e.examStatus&&""!==e.certificateNo||(s||(t.cccHighlight=!0),a=!1),""!==e.dateOfExam&&null!==e.dateOfExam&&(e.dateOfExam=t.convertDateOnly(e.dateOfExam)),""!==e.dateOfPassing&&null!==e.dateOfPassing&&(e.dateOfPassing=t.convertDateOnly(e.dateOfPassing))):e.remarks.trim()||(s||(t.cccHighlight=!0),a=!1)}),this.dataSourceLangExam.data.forEach(function(e){e.langName&&e.examBody&&e.examStatus&&e.examType&&e.dateOfPassing&&""!==e.seatNo||(s||(t.langHighlight=!0),a=!1),""!==e.dateOfPassing&&null!=e.dateOfPassing&&(e.dateOfPassing=t.convertDateOnly(e.dateOfPassing))}),!a&&!s)return this.toastr.error(o.a.VALIDATION.TOASTR),void(this.isQualSaveDisabled=!1);if(s||a){var n=[],r=[];this.dataSourceDeptExam.data.forEach(function(e){var t=p.cloneDeep(e);delete t.deptHodNameList,n.push(t)}),this.dataSourceQualification.data.forEach(function(e){var t=p.cloneDeep(e);delete t.courseNameList,r.push(t)});var l={exemptedDeptExamFlag:this.isDepExemptedStatus,exemptedDeptExam:this.isDepExemptedStatus?p.cloneDeep(n[0]):null,exemptedCccExamFlag:this.isCccExemptedStatus,exemptedCccExam:this.isCccExemptedStatus?p.cloneDeep(this.dataSourceSpclExam.data[0]):null,pvuEmployeQualificationDto:p.cloneDeep(r),pvuEmployeDeptExamDetailsDto:this.isDepExemptedStatus?null:p.cloneDeep(n),pvuEmployeCCCExamDetailDto:this.isCccExemptedStatus?null:p.cloneDeep(this.dataSourceSpclExam.data),pvuEmployeLangExamDto:p.cloneDeep(this.dataSourceLangExam.data)};l.exemptedDeptExam?(l.exemptedDeptExam.statusId=this.getStatusId("Saved as Draft"),l.exemptedDeptExam.empId=this.empId):l.exemptedDeptExam=null,l.exemptedCccExam?(l.exemptedCccExam.statusId=this.getStatusId("Saved as Draft"),l.exemptedCccExam.empId=this.empId):l.exemptedCccExam=null,l.pvuEmployeQualificationDto&&l.pvuEmployeQualificationDto.length>0?l.pvuEmployeQualificationDto.forEach(function(e){e.statusId=t.getStatusId("Saved as Draft"),e.empId=t.empId}):l.pvuEmployeQualificationDto=null,l.pvuEmployeDeptExamDetailsDto&&l.pvuEmployeDeptExamDetailsDto.length>0?l.pvuEmployeDeptExamDetailsDto.forEach(function(e){e.statusId=t.getStatusId("Saved as Draft"),e.empId=t.empId}):l.pvuEmployeDeptExamDetailsDto=null,l.pvuEmployeCCCExamDetailDto&&l.pvuEmployeCCCExamDetailDto.length>0?l.pvuEmployeCCCExamDetailDto.forEach(function(e){e.statusId=t.getStatusId("Saved as Draft"),e.empId=t.empId}):l.pvuEmployeCCCExamDetailDto=null,l.pvuEmployeLangExamDto&&l.pvuEmployeLangExamDto.length>0?l.pvuEmployeLangExamDto.forEach(function(e){e.statusId=t.getStatusId("Saved as Draft"),e.empId=t.empId}):l.pvuEmployeLangExamDto=null,"edit"===this.action?this.pvuService.updateQualificationDetail(l).subscribe(function(a){a&&a.result&&200===a.status?(i.toastr.success(a.message),t.isQualSaveDisabled=!1,t.setQualificationDetail(a.result),"DRAFT"!==e&&(t.selectedIndex=2)):(t.isQualSaveDisabled=!1,i.toastr.error(a.message))},function(e){t.isQualSaveDisabled=!1,i.toastr.error(e)}):this.pvuService.saveQualificationDetails(l).subscribe(function(a){a&&a.result&&200===a.status?(i.toastr.success(a.message),t.isQualSaveDisabled=!1,t.setQualificationDetail(a.result),"DRAFT"!==e&&(t.selectedIndex=2)):(t.isQualSaveDisabled=!1,i.toastr.error(a.message))},function(e){t.isQualSaveDisabled=!1,i.toastr.error(e)})}else this.isQualSaveDisabled=!1,this.toastr.error(o.a.VALIDATION.TOASTR)},e.prototype.saveDeptDetails=function(e){var t=this;this.isDeptSaveDisabled=!0;var a=!0,i=this,s=!1;if("DRAFT"===e&&(s=!0),s||p.each(this.departmentalDetails.controls,function(e){e.updateValueAndValidity(),"INVALID"===e.status&&(e.markAsTouched({onlySelf:!0}),a=!1)}),s||a){var n={pvuEmployeDepartmentDto:p.cloneDeep(this.departmentalDetails.value),pvuEmployeHistoryDto:p.cloneDeep(this.dataSource.data)};if(n.pvuEmployeDepartmentDto.dateOfJoiningGOG=this.convertDateOnly(this.departmentalDetails.controls.dateOfJoiningGOG.value),n.pvuEmployeDepartmentDto.dateOfRetirement=this.convertDateOnly(this.departmentalDetails.controls.dateOfRetirement.value),n.pvuEmployeDepartmentDto.deputationStartDate=this.convertDateOnly(this.departmentalDetails.controls.deputationStartDate.value),n.pvuEmployeDepartmentDto.deputationEndDate=this.convertDateOnly(this.departmentalDetails.controls.deputationEndDate.value),n.pvuEmployeDepartmentDto.deathTerminationDate=this.convertDateOnly(this.departmentalDetails.controls.deathTerminationDate.value),this.isSuspendedList){var r=this.isSuspendedList.filter(function(e){return e.lookupInfoName.toLowerCase()==="Yes".toLowerCase()})[0];n.pvuEmployeDepartmentDto.suspended=!!r&&n.pvuEmployeDepartmentDto.suspended===r.lookupInfoId}n.pvuEmployeDepartmentDto.presentOffice=this.presentOfficeId,n.pvuEmployeDepartmentDto.empId=this.empId,n.pvuEmployeDepartmentDto.statusId=this.getStatusId("Saved as Draft"),n.pvuEmployeHistoryDto.forEach(function(e){e.empId=t.empId}),"edit"===this.action?(null!==n.pvuEmployeDepartmentDto&&(n.pvuEmployeDepartmentDto.departmentId=this.departmentId),this.pvuService.saveDepartmentalDetails(n).subscribe(function(a){if(a&&a.result&&200===a.status){i.toastr.success(a.message),t.isDeptSaveDisabled=!1,a.result.pvuEmployeHistoryDto&&a.result.pvuEmployeHistoryDto.length>0?(t.prevEmpHistory=!0,t.dataSource.data=a.result.pvuEmployeHistoryDto,t.dataSource.data.forEach(function(e){if(t.employementTypeList){var a=t.employementTypeList.filter(function(t){return t.lookupInfoId===e.employementType})[0];a&&(e.employementTypeName=a.lookupInfoName)}if(t.empServiceContinuationList){var i=t.empServiceContinuationList.filter(function(t){return t.lookupInfoId===e.empServiceContinuation})[0];i&&(e.empServiceContinuationName=i.lookupInfoName)}}),t.listshow=!0,t.prevEmpHistory=!1):t.prevEmpHistory=!1;var o=a.result.pvuEmployeDepartmentDto;null!==o&&(t.departmentId=o.departmentId,t.departmentCategoryIdSelected=o.departmentalCategory,t.payCommissionChange()),t.getPayMasters(),"DRAFT"!==e&&(t.selectedIndex=3)}else t.isDeptSaveDisabled=!1,i.toastr.error(a.message)},function(e){t.isDeptSaveDisabled=!1,i.toastr.error(e)})):(this.departmentId&&(n.pvuEmployeDepartmentDto.departmentId=this.departmentId),this.pvuService.saveDepartmentalDetails(n).subscribe(function(a){if(a&&a.result&&200===a.status){i.toastr.success(a.message),t.isDeptSaveDisabled=!1,a.result.pvuEmployeHistoryDto&&a.result.pvuEmployeHistoryDto.length>0?(t.prevEmpHistory=!0,t.dataSource.data=a.result.pvuEmployeHistoryDto,t.dataSource.data.forEach(function(e){if(t.employementTypeList){var a=t.employementTypeList.filter(function(t){return t.lookupInfoId===e.employementType})[0];a&&(e.employementTypeName=a.lookupInfoName)}if(t.empServiceContinuationList){var i=t.empServiceContinuationList.filter(function(t){return t.lookupInfoId===e.empServiceContinuation})[0];i&&(e.empServiceContinuationName=i.lookupInfoName)}}),t.listshow=!0,t.prevEmpHistory=!1):t.prevEmpHistory=!1;var o=a.result.pvuEmployeDepartmentDto;null!==o&&(t.departmentId=o.departmentId,t.departmentCategoryIdSelected=o.departmentalCategory,t.payCommissionChange()),t.getPayMasters(),"DRAFT"!==e&&(t.selectedIndex=3)}else t.isDeptSaveDisabled=!1,i.toastr.error(a.message)},function(e){t.isDeptSaveDisabled=!1,i.toastr.error(e)}))}else this.isDeptSaveDisabled=!1,i.toastr.error(o.a.VALIDATION.TOASTR)},e.prototype.decimalKeyPress=function(e){var t=String.fromCharCode(e.charCode?e.charCode:e.which),a=e.target.value;if(!/^\d+(\.\d{0,2})?$/.test(a+=t))return e.preventDefault(),!1},e.prototype.percentKeyPress=function(e){var t=String.fromCharCode(e.charCode?e.charCode:e.which),a=e.target.value;if(!/^[1-9]{1}\d{0,1}(\.\d{0,2})?$|^(100)(\.[0]{1,2})?$/.test(a+=t))return e.preventDefault(),!1},e.prototype.decimalPoint=function(e,t){e[t]=isNaN(e[t])||""===e[t]?"":Number(e[t]).toFixed(2)},e.prototype.integerKeyPress=function(e){var t=String.fromCharCode(e.charCode?e.charCode:e.which);return-1!=="$Backspace$Delete$Home$Tab$ArrowLeft$ArrowRight$ArrowUp$ArrowDown$End$".indexOf("$"+e.key+"$")||(e.target.value.length>5?(e.preventDefault(),!1):!!/^\d{0,5}?$/.test(t)||(e.preventDefault(),!1))},e.prototype.onClick=function(e){if("view"===this.action)return!1;var t=!1;this.sameAsCurrentAddr=!e;var a=this.createEmployeeForm.get("nationality").value,i=this.findArrayIndex(this.nationalityList,"lookupInfoId",a);(i.lookupInfoName.indexOf("Nepal")>=0||i.lookupInfoName.indexOf("Bhutan")>=0)&&(t=!0),this.sameAsCurrentAddr?(this.getDistricts(this.createEmployeeForm.value.curState,"per"),this.getTalukas(this.createEmployeeForm.value.curDistrict,"per"),this.createEmployeeForm.patchValue({perAddress1:this.createEmployeeForm.value.curAddress1.toUpperCase(),perAddress2:this.createEmployeeForm.value.curAddress2.toUpperCase(),perState:t?"":this.createEmployeeForm.value.curState,perDistrict:t?"":this.createEmployeeForm.value.curDistrict,perTaluka:t?"":this.createEmployeeForm.value.curTaluka,perCity:t?"":this.createEmployeeForm.value.curCity,perPinCode:t?"":this.createEmployeeForm.value.curPinCode})):this.createEmployeeForm.patchValue({perAddress1:"",perAddress2:"",perState:"",perDistrict:"",perTaluka:"",perCity:"",perPinCode:""})},e.prototype.onClickAdd=function(){var e=!1;if("sameAsCurrentAddr"===this.createEmployeeForm.value.isNatAddCurAddPerAdd){this.getDistricts(this.createEmployeeForm.value.curState,"nat"),this.getTalukas(this.createEmployeeForm.value.curDistrict,"nat");var t=this.createEmployeeForm.get("nationality").value,a=this.findArrayIndex(this.nationalityList,"lookupInfoId",t);(a.lookupInfoName.indexOf("Nepal")>=0||a.lookupInfoName.indexOf("Bhutan")>=0)&&(e=!0),this.createEmployeeForm.patchValue({natAddress1:this.createEmployeeForm.value.curAddress1.toUpperCase(),natAddress2:this.createEmployeeForm.value.curAddress2.toUpperCase(),natState:e?"":this.createEmployeeForm.value.curState,natDistrict:e?"":this.createEmployeeForm.value.curDistrict,natTaluka:e?"":this.createEmployeeForm.value.curTaluka,natCity:e?"":this.createEmployeeForm.value.curCity,natPinCode:e?"":this.createEmployeeForm.value.curPinCode})}else"sameAsPermanentAddr"===this.createEmployeeForm.value.isNatAddCurAddPerAdd&&(this.getDistricts(this.createEmployeeForm.value.perState,"nat"),this.getTalukas(this.createEmployeeForm.value.perDistrict,"nat"),this.createEmployeeForm.patchValue({natAddress1:this.createEmployeeForm.value.perAddress1.toUpperCase(),natAddress2:this.createEmployeeForm.value.perAddress2.toUpperCase(),natState:this.createEmployeeForm.value.perState,natDistrict:this.createEmployeeForm.value.perDistrict,natTaluka:this.createEmployeeForm.value.perTaluka,natCity:this.createEmployeeForm.value.perCity,natPinCode:this.createEmployeeForm.value.perPinCode}))},e.prototype.addQualification=function(){var e=this;if(this.dataSourceQualification&&this.dataSourceQualification.data){if(1===this.dataSourceQualification.data.length&&250===this.dataSourceQualification.data[0].degree)return this.toastr.error("You can not select Illiterate with any other degree"),!1;this.dataSourceQualification.data.forEach(function(t,a){e.dataSourceQualification.data.length===a+1&&(t&&250!==t.degree?t&&t.degree&&t.passingYear&&t.universityBoard?e.addEmptyRowInQualification():e.dataSourceQualification&&e.dataSourceQualification.data&&e.toastr.error(o.a.VALIDATION.TOASTR):e.addEmptyRowInQualification())})}},e.prototype.addEmptyRowInQualification=function(){var e=this.dataSourceQualification.data;e.push({empQualiId:0,degree:0,courseName:"",isOtherCourseName:!1,otherCourseName:"",passingYear:"",schoolCollege:"",universityBoard:"",percentageCGPA:"",remarks:""}),this.dataSourceQualification.data=e,this.courseCtrl.push(new s.g),this.degreeCtrl.push(new s.g),this.passingYearCtrl.push(new s.g)},e.prototype.deleteQualification=function(e,t){var a=this;this.dialog.open(m.a,{width:"360px",data:o.b.DELETE}).afterClosed().subscribe(function(i){"yes"===i&&(e?a.pvuService.deleteQualExam({id:e,activeStatus:0}).subscribe(function(e){e&&200===e.status&&(e.message&&a.toastr.success(e.message),a.dataSourceQualification.data.splice(t,1),a.courseCtrl.splice(t,1),a.degreeCtrl.splice(t,1),a.passingYearCtrl.splice(t,1),a.dataSourceQualification=new n.o(a.dataSourceQualification.data))},function(e){a.toastr.error(e)}):(a.dataSourceQualification.data.splice(t,1),a.courseCtrl.splice(t,1),a.degreeCtrl.splice(t,1),a.passingYearCtrl.splice(t,1),a.dataSourceQualification=new n.o(a.dataSourceQualification.data)))})},e.prototype.addDeptExam=function(){var e=this;this.dataSourceDeptExam&&this.dataSourceDeptExam.data&&this.dataSourceDeptExam.data.forEach(function(t,a){if(e.dataSourceDeptExam.data.length===a+1&&t&&t.deptExamName&&t.examBody&&t.dateOfPassing&&t.examStatus&&t.examAttempts){var i=e.dataSourceDeptExam.data;i.push({empDeptExamDetailId:0,deptExamName:"",examBody:0,deptHodName:0,otherDeptHodName:"",dateOfPassing:"",examStatus:e.getExamStatusId("Pass","dept"),examAttempts:"",remarks:"",disabledeptHOD:!1}),e.examBodyCtrl.push(new s.g),e.deptHodNameCtrl.push(new s.g),e.deptExamStatusCtrl.push(new s.g),e.dataSourceDeptExam.data=i}else e.dataSourceDeptExam&&e.dataSourceDeptExam.data&&e.dataSourceDeptExam.data.length===a+1&&e.toastr.error(o.a.VALIDATION.TOASTR)})},e.prototype.deleteDeptExam=function(e,t){var a=this;this.dialog.open(m.a,{width:"360px",data:o.b.DELETE}).afterClosed().subscribe(function(i){"yes"===i&&(e?a.pvuService.deleteDeptExam({id:e,activeStatus:0}).subscribe(function(e){e&&200===e.status&&(e.message&&a.toastr.success(e.message),a.dataSourceDeptExam.data.splice(t,1),a.examBodyCtrl.splice(t,1),a.deptHodNameCtrl.splice(t,1),a.deptExamStatusCtrl.splice(t,1),a.dataSourceDeptExam=new n.o(a.dataSourceDeptExam.data))},function(e){a.toastr.error(e)}):(a.dataSourceDeptExam.data.splice(t,1),a.examBodyCtrl.splice(t,1),a.deptHodNameCtrl.splice(t,1),a.deptExamStatusCtrl.splice(t,1),a.dataSourceDeptExam=new n.o(a.dataSourceDeptExam.data)))})},e.prototype.nomineeShareBlur=function(e){if(this.dataSourceNominee&&this.dataSourceNominee.data&&this.dataSourceNominee.data.length>0){var t=0;if(this.dataSourceNominee.data.forEach(function(e){t+=Number(e.nomineeShare)}),t>100)return e.nomineeShare="",this.toastr.error(o.b.NOM_PER_ERR),e}},e.prototype.addNominee=function(){var e=this;if(this.dataSourceNominee&&this.dataSourceNominee.data){var t=0;this.dataSourceNominee.data.forEach(function(a,i){if(t+=Number(a.nomineeShare),e.dataSourceNominee.data.length===i+1&&a&&a.relationship&&a.nomineeName&&a.nomineeAddress&&a.nomineeAge&&a.nomineeShare&&!a.fileBrowseNpsForm)if(t<100){e.nomineeHighlight=!1;var n=e.dataSourceNominee.data;n.push({empNomineeId:"0",relationship:"",otherRelationship:"",nomineeName:"",nomineeAddress:"",nomineeAge:"",nomineeShare:"",photoOfNominee:"",genNomiForm:"",npsNomiForm:"",fileBrowseNpsForm:!0,fileBrowseNomi:!0,fileBrowseGenForm:!0,isOtherRelation:!1,nomineePhotoName:"",genNomineeFormName:"",npsNomineeFormName:""}),e.relationshipCtrl.push(new s.g),e.dataSourceNominee.data=n}else e.toastr.error(o.b.NOMINEE_SHARE_GREATER);else e.dataSourceNominee.data.length===i+1&&e.toastr.error(o.a.VALIDATION.TOASTR_NOMINEE)})}},e.prototype.deleteNominee=function(e,t){var a=this;this.dialog.open(m.a,{width:"360px",data:o.b.DELETE}).afterClosed().subscribe(function(i){"yes"===i&&(e&&0!==e?a.pvuService.deleteNominee({id:e,activeStatus:0}).subscribe(function(e){e&&200===e.status&&(e.message&&a.toastr.success(e.message),a.dataSourceNominee.data.splice(t,1),a.relationshipCtrl.splice(t,1),a.dataSourceNominee=new n.o(a.dataSourceNominee.data))},function(e){a.toastr.error(e)}):(a.dataSourceNominee.data.splice(t,1),a.relationshipCtrl.splice(t,1),a.dataSourceNominee=new n.o(a.dataSourceNominee.data)))})},e.prototype.addSpclExam=function(){var e=this;this.dataSourceSpclExam&&this.dataSourceSpclExam.data&&this.dataSourceSpclExam.data.forEach(function(t,a){if(e.dataSourceSpclExam.data.length===a+1&&t&&t.cccExamName&&t.examBody&&t.dateOfExam&&t.dateOfPassing&&t.examStatus&&t.certificateNo){var i=e.dataSourceSpclExam.data;i.push({empCCCExamDetailId:0,cccExamName:0,examBody:0,dateOfExam:"",dateOfPassing:"",examStatus:e.getExamStatusId("Pass","ccc"),certificateNo:"",remarks:""}),e.cccExamNameCtrl.push(new s.g),e.cccExamBodyCtrl.push(new s.g),e.cccExamStatusCtrl.push(new s.g),e.dataSourceSpclExam.data=i}else e.dataSourceSpclExam&&e.dataSourceSpclExam.data&&e.dataSourceSpclExam.data.length===a+1&&e.toastr.error(o.a.VALIDATION.TOASTR)})},e.prototype.deleteSpclExam=function(e,t){var a=this;this.dialog.open(m.a,{width:"360px",data:o.b.DELETE}).afterClosed().subscribe(function(i){"yes"===i&&(e?a.pvuService.deleteCCCExam({id:e,activeStatus:0}).subscribe(function(e){e&&200===e.status&&(e.message&&a.toastr.success(e.message),a.dataSourceSpclExam.data.splice(t,1),a.cccExamNameCtrl.splice(t,1),a.cccExamBodyCtrl.splice(t,1),a.cccExamStatusCtrl.splice(t,1),a.dataSourceSpclExam=new n.o(a.dataSourceSpclExam.data))},function(e){a.toastr.error(e)}):(a.dataSourceSpclExam.data.splice(t,1),a.cccExamNameCtrl.splice(t,1),a.cccExamBodyCtrl.splice(t,1),a.cccExamStatusCtrl.splice(t,1),a.dataSourceSpclExam=new n.o(a.dataSourceSpclExam.data)))})},e.prototype.addLangExam=function(){var e=this;this.dataSourceLangExam&&this.dataSourceLangExam.data&&this.dataSourceLangExam.data.forEach(function(t,a){if(e.dataSourceLangExam.data.length===a+1&&t&&t.langName&&t.examBody&&t.examType&&t.dateOfPassing&&t.seatNo&&t.examStatus){var i=e.dataSourceLangExam.data;i.push({empLangExamId:0,langName:0,examBody:"",examType:0,dateOfPassing:"",seatNo:"",examStatus:0,remarks:""}),e.langNameCtrl.push(new s.g),e.langExamTypeCtrl.push(new s.g),e.langExamStatusCtrl.push(new s.g),e.dataSourceLangExam.data=i}else e.dataSourceLangExam&&e.dataSourceLangExam.data&&e.dataSourceLangExam.data.length===a+1&&e.toastr.error(o.a.VALIDATION.TOASTR)})},e.prototype.deleteLangExam=function(e,t){var a=this;this.dialog.open(m.a,{width:"360px",data:o.b.DELETE}).afterClosed().subscribe(function(i){"yes"===i&&(e?a.pvuService.deleteLangExam({id:e,activeStatus:0}).subscribe(function(e){e&&200===e.status&&(e.message&&a.toastr.success(e.message),a.dataSourceLangExam.data.splice(t,1),a.langNameCtrl.splice(t,1),a.langExamTypeCtrl.splice(t,1),a.langExamStatusCtrl.splice(t,1),a.dataSourceLangExam=new n.o(a.dataSourceLangExam.data))},function(e){a.toastr.error(e)}):(a.dataSourceLangExam.data.splice(t,1),a.langNameCtrl.splice(t,1),a.langExamTypeCtrl.splice(t,1),a.langExamStatusCtrl.splice(t,1),a.dataSourceLangExam=new n.o(a.dataSourceLangExam.data)))})},e.prototype.onEmplPhotoSelection=function(e){var t=this,a=!1,i=!1;if(e.target&&e.target.files&&["jpg","jpeg","png"].forEach(function(o){if(o.toLowerCase()===e.target.files[0].name.split(".").pop().toLowerCase()){var s=e.target.files[0].size/Math.pow(1024,1);a=!0,s<=300&&(i=!0,t.fileData=e.target.files[0],t.fileDetailsEmp=!0)}}),!a)return this.empPhoto.nativeElement.value="",this.toastr.error(this.errorMessages.UPLOAD_PHOTO_TYPE_ERR),this.fileBrowseEmp=!1,void(this.fileData=null);i||(this.empPhoto.nativeElement.value="",this.toastr.error(this.errorMessages.EMPL_PHOTO_SIZE_ERR),this.fileBrowseEmp=!1,this.fileData=null)},e.prototype.openFileSelector1=function(){this.el.nativeElement.querySelector("#fileBrowse-emp").click()},e.prototype.onCourseNameSelect=function(e){var t=this,a=this.cccExemptedFlag;return this.cccExemptedFlag=!1,this.dataSourceQualification&&this.dataSourceQualification.data&&this.dataSourceQualification.data.length>0&&this.cccExemptedArray&&0!==this.cccExemptedArray.length?p.cloneDeep(this.dataSourceQualification.data).forEach(function(e){-1!==t.cccExemptedArray.indexOf(e.courseName)&&(t.cccExemptedFlag=!0)}):this.cccExemptedFlag=!1,this.cccExemptedFlag&&!a?this.onClickCCCExamExempted({value:"Exempted"}):this.cccExemptedFlag||this.onClickCCCExamExempted({value:"Pass"}),251===e.courseName||252===e.courseName||253===e.courseName?(e.isOtherCourseName=!0,!0):(e.isOtherCourseName=!1,e.otherCourseName="",!1)},e.prototype.onClickDeptExamExempted=function(e){var t=this;if("Exempted"===e.value){var a=[];a.push({deptExamName:"",examBody:0,deptHodName:0,otherDeptHodName:"",dateOfPassing:"",examStatus:0,examAttempts:"",remarks:""}),this.examBodyCtrl=[new s.g],this.deptHodNameCtrl=[new s.g],this.deptExamStatusCtrl=[new s.g],this.dataSourceDeptExam.data=a,this.dataSourceDeptExam.data.forEach(function(a){a.examStatus=t.getExamStatusId(e.value,"dept")}),this.dataSourceDeptExam=new n.o(this.dataSourceDeptExam.data),this.disableFieldDept=!0,this.isDeptExamApplicable=!0,this.isDepExemptedStatus=!0,this.exemptDept=!0,this.applicableDept=!1}else this.dataSourceDeptExam.data.forEach(function(a){a.examStatus=t.getExamStatusId(e.value,"dept"),a.remarks="",a.examAttempts=""}),this.dataSourceDeptExam=new n.o(this.dataSourceDeptExam.data),this.disableFieldDept=!1,this.isDeptExamApplicable=!0,this.isDepExemptedStatus=!1,this.exemptDept=!1,this.applicableDept=!0},e.prototype.getExamStatusId=function(e,t){return"dept"===t&&""!==e&&this.deptExamStatusList&&this.deptExamStatusList.length>0?this.deptExamStatusList.filter(function(t){if(t.lookupInfoName===e)return t.lookupInfoId})[0].lookupInfoId:"ccc"===t&&""!==e&&this.cccExamStatusList&&this.cccExamStatusList.length>0?this.cccExamStatusList.filter(function(t){if(t.lookupInfoName===e)return t.lookupInfoId})[0].lookupInfoId:void 0},e.prototype.onDeptExamBodySelect=function(e){if(""!==e.examBody&&this.deptExamBodyList&&this.deptExamBodyList.length>0){var t=this.deptExamBodyList.filter(function(t){if(t.lookupInfoId===e.examBody&&"Other"===t.lookupInfoName)return t.lookupInfoId});if(!t||0===t.length)return!1;if(e.examBody===t[0].lookupInfoId)return!0}},e.prototype.onClickCCCExamExempted=function(e){var t=this;if("Exempted"===e.value){var a=[];a.push({cccExamName:0,examBody:0,dateOfExam:"",dateOfPassing:"",examStatus:0,certificateNo:"",remarks:""}),this.cccExamNameCtrl=[new s.g],this.cccExamBodyCtrl=[new s.g],this.cccExamStatusCtrl=[new s.g],this.dataSourceSpclExam.data=a,this.dataSourceSpclExam.data.forEach(function(a){a.examStatus=t.getExamStatusId(e.value,"ccc")}),this.dataSourceSpclExam=new n.o(this.dataSourceSpclExam.data),this.disableFieldCCC=!0,this.isCCCExamApplicable=!0,this.isCccExemptedStatus=!0,this.exemptCCC=!0,this.applicableCCC=!1}else this.dataSourceSpclExam.data.forEach(function(a){a.examStatus=t.getExamStatusId(e.value,"ccc"),a.remarks=""}),this.dataSourceSpclExam=new n.o(this.dataSourceSpclExam.data),this.disableFieldCCC=!1,this.isCCCExamApplicable=!0,this.isCccExemptedStatus=!1,this.exemptCCC=!1,this.applicableCCC=!0},e.prototype.onClickEmployeement=function(){var e=this;"view"!==this.action&&(this.isEmployeementApplicable||this.dataSource&&this.dataSource.data&&this.dataSource.data.length>0&&this.dialog.open(m.a,{width:"360px",data:o.b.IS_APPLICABLE_UNCHECK_MSG}).afterClosed().subscribe(function(t){"yes"===t?(e.isEmployeementApplicable=!1,e.prevEmpHistory=!1,e.dataSource=new n.o):"no"===t&&(e.isEmployeementApplicable=!0,e.prevEmpHistory=!0,e.dataSource=new n.o(e.dataSource.data))}))},e.prototype.onNomineePhotoSelection=function(e,t,a){var i=this,o=!1,s=!1;return e.target&&e.target.files&&["jpg","jpeg","png"].forEach(function(t){if(t.toLowerCase()===e.target.files[0].name.split(".").pop().toLowerCase()){var a=e.target.files[0].size/Math.pow(1024,1);o=!0,a<=1024&&(s=!0,i.dataSourceNominee.data[i.photoOfNomineeIndex].photoOfNominee=e.target.files[0],i.dataSourceNominee.data[i.photoOfNomineeIndex].fileBrowseNomi=!1)}}),o?s?void(this.dataSourceNominee=new n.o(this.dataSourceNominee.data)):(this.nomPhoto.nativeElement.value="",this.toastr.error(this.errorMessages.UPLOAD_PHOTO_SIZE_ERR),this.dataSourceNominee.data[this.photoOfNomineeIndex].fileBrowseNomi=!1,void(this.dataSourceNominee=new n.o(this.dataSourceNominee.data))):(this.nomPhoto.nativeElement.value="",this.toastr.error(this.errorMessages.UPLOAD_NOM_PHOTO_TYPE_ERR),this.dataSourceNominee.data[this.photoOfNomineeIndex].fileBrowseNomi=!1,void(this.dataSourceNominee=new n.o(this.dataSourceNominee.data)))},e.prototype.removeSelectedNomineeFile=function(e,t,a){var i=p.cloneDeep(this.dataSourceNominee.data);i.forEach(function(t,i){a===i&&("PHOTO"===e?(t.photoOfNominee="",t.nomineePhoto="",t.nomineePhotoName=""):"GEN"===e?(t.genNomiForm="",t.genNomineePhoto="",t.genNomineeFormName=""):"NPS"===e&&(t.npsNomiForm="",t.npsNomineePhoto="",t.npsNomineeFormName=""))}),this.dataSourceNominee=new n.o(i)},e.prototype.removeSelectedEmplPhoto=function(){this.fileData=null,this.empPhotoKey="",this.empPhotoName="",this.fileDetailsEmp=!1,this.empPhoto.nativeElement.value=""},e.prototype.clearDate=function(e,t){e.get(t).setValue("")},e.prototype.bytesToKB=function(e){if(0!==e)return isNaN(e)?"0":Math.round(e/1024).toString()},e.prototype.openFileSelector2=function(e){this.photoOfNomineeIndex=e,this.el.nativeElement.querySelector("#fileBrowse-nominee").click()},e.prototype.onFileGenForm=function(e,t){var a=this,i=!1,o=!1;return e.target&&e.target.files&&["jpg","jpeg","png","pdf"].forEach(function(t){if(t.toLowerCase()===e.target.files[0].name.split(".").pop().toLowerCase()){var s=e.target.files[0].size/Math.pow(1024,1);i=!0,s<=1024&&(o=!0,a.dataSourceNominee.data[a.genNomiFormIndex].genNomiForm=e.target.files[0],a.dataSourceNominee.data[a.genNomiFormIndex].fileBrowseGenForm=!1)}}),i?o?void(this.dataSourceNominee=new n.o(this.dataSourceNominee.data)):(this.npsNomForm.nativeElement.value="",this.toastr.error(this.errorMessages.UPLOAD_PHOTO_SIZE_ERR),this.dataSourceNominee.data[this.genNomiFormIndex].fileBrowseGenForm=!1,void(this.dataSourceNominee=new n.o(this.dataSourceNominee.data))):(this.npsNomForm.nativeElement.value="",this.toastr.error(this.errorMessages.UPLOAD_NPS_NOM_FORM_TYPE_ERR),this.dataSourceNominee.data[this.genNomiFormIndex].fileBrowseGenForm=!1,void(this.dataSourceNominee=new n.o(this.dataSourceNominee.data)))},e.prototype.openFileGenForm=function(e){this.genNomiFormIndex=e,this.el.nativeElement.querySelector("#fileBrowse-genform").click()},e.prototype.onFileNpsForm=function(e,t){var a=this,i=!1,o=!1;return e.target&&e.target.files&&["jpg","jpeg","png","pdf"].forEach(function(t){if(t.toLowerCase()===e.target.files[0].name.split(".").pop().toLowerCase()){var s=e.target.files[0].size/Math.pow(1024,1);i=!0,s<=1024&&(o=!0,a.dataSourceNominee.data[a.npsNomiFormIndex].npsNomiForm=e.target.files[0],a.dataSourceNominee.data[a.npsNomiFormIndex].fileBrowseNpsForm=!1)}}),i?o?void(this.dataSourceNominee=new n.o(this.dataSourceNominee.data)):(this.nomDeclForm.nativeElement.value="",this.toastr.error(this.errorMessages.UPLOAD_PHOTO_SIZE_ERR),this.dataSourceNominee.data[this.npsNomiFormIndex].fileBrowseNpsForm=!1,void(this.dataSourceNominee=new n.o(this.dataSourceNominee.data))):(this.nomDeclForm.nativeElement.value="",this.toastr.error(this.errorMessages.UPLOAD_NOM_DECL_FORM_TYPE_ERR),this.dataSourceNominee.data[this.npsNomiFormIndex].fileBrowseNpsForm=!1,void(this.dataSourceNominee=new n.o(this.dataSourceNominee.data)))},e.prototype.openFileNpsForm=function(e){this.npsNomiFormIndex=e,this.el.nativeElement.querySelector("#fileBrowse-npsform").click(e)},e.prototype.onPhChange=function(){var e=this.createEmployeeForm.get("phStatus").value,t=this.findArrayIndex(this.phStatusList,"lookupInfoId",e);t&&t.lookupInfoName.toLowerCase()==="Yes".toLowerCase()?(this.phCategory=!0,this.createEmployeeForm.controls.phType.setValidators([s.x.required])):(this.phCategory=!1,this.createEmployeeForm.controls.phType.setValidators(null)),this.createEmployeeForm.controls.phType.updateValueAndValidity()},e.prototype.findArrayIndex=function(e,t,a){var i=e.findIndex(function(e){return e[t]===a});return e[i]},e.prototype.onNationChange=function(){var e=this.createEmployeeForm.get("nationality").value,t=this.findArrayIndex(this.nationalityList,"lookupInfoId",e),a=["natState","natDistrict","natTaluka","natCity","natPinCode","perState","perDistrict","perTaluka","perCity","perPinCode"];t?t.lookupInfoName.indexOf("Nepal")>=0||t.lookupInfoName.indexOf("Bhutan")>=0?this.enableDisableForm("disable",a):this.enableDisableForm("enable",a):this.enableDisableForm("disable",a),this.updateFromCurrentAddress()},e.prototype.onRelationshipChange=function(e){e.isOtherRelation=121===e.relationship||127===e.relationship},e.prototype.onCellChange=function(){this.calculate7thPay()},e.prototype.calculate7thPay=function(){var e,t=this;if(this.cellIdList&&this.cellIdList.length>0){var a=this.cellIdList.filter(function(e){return e.id===t.create7thPayDetails.get("cellId").value});a&&1===a.length&&(e=a[0].cellId)}var i={request:{cellId:e,payLevelId:this.create7thPayDetails.get("payLevel").value}};this.pvuService.get7thCPCBasicPay(i).subscribe(function(e){e&&200===e.status&&e.result&&e.result.cellValue?t.create7thPayDetails.get("basicPay").setValue(e.result.cellValue):(t.create7thPayDetails.get("basicPay").setValue("0"),t.toastr.error(o.b.BASIC_NOT_CALCULATED))},function(e){t.toastr.error(e)})},e.prototype.get7thCPCBasicPay=function(){var e=this;if(this.payLevelList){var t=this.payLevelList.filter(function(t){return t.id===e.create7thPayDetails.get("payLevel").value})[0];t&&(this.cellIdList=p.cloneDeep(t.cells),this.create7thPayDetails.get("cellId").setValue(""),this.create7thPayDetails.get("basicPay").setValue(0))}},e.prototype.calcJoining7thBasicPay=function(){var e,t=this;if(this.join7thCellIdList&&this.join7thCellIdList.length>0){var a=this.join7thCellIdList.filter(function(e){return e.id===t.joining7thPayDetail.get("join7thCellId").value});a&&1===a.length&&(e=a[0].cellId)}var i={request:{cellId:e,payLevelId:this.joining7thPayDetail.get("join7thPayLevel").value}};this.pvuService.get7thCPCBasicPay(i).subscribe(function(e){e&&200===e.status&&e.result&&e.result.cellValue?t.joining7thPayDetail.get("join7thBasicPay").setValue(e.result.cellValue):(t.joining7thPayDetail.get("join7thBasicPay").setValue("0"),t.toastr.error(o.b.BASIC_NOT_CALCULATED))},function(e){t.toastr.error(e)})},e.prototype.get7thCellId=function(){var e=this;if(this.join7thPayLevelList){var t=this.join7thPayLevelList.filter(function(t){return t.id===e.joining7thPayDetail.get("join7thPayLevel").value})[0];t&&(this.join7thCellIdList=p.cloneDeep(t.cells),this.joining7thPayDetail.get("join7thCellId").setValue(""),this.joining7thPayDetail.get("join7thBasicPay").setValue(0))}},e.prototype.setCityVillage=function(e,t){var a=t.source.selected._element.nativeElement.innerText.trim();this.createEmployeeForm.get(e).setValue(a)},e.prototype.passportExpiryMand=function(){""!==this.createEmployeeForm.get("passportNo").value?this.isPassDateRequired=!0:(this.createEmployeeForm.controls.passportExpiryDate.setValue(""),this.isPassDateRequired=!1)},e.prototype.enableDisableForm=function(e,t){var a=this;t.forEach(function(t){"disable"===e?(a.createEmployeeForm.get(t).setValue(""),a.createEmployeeForm.controls[t].disable()):a.createEmployeeForm.controls[t].enable()})},e.prototype.onEmpStatusChange=function(e){if(""!==e.value&&this.deptEmpStatusList&&this.deptEmpStatusList.length>0){var t=this.deptEmpStatusList.filter(function(t){if(t.lookupInfoId===e.value&&"On Deputation"===t.lookupInfoName)return t.lookupInfoId});t&&0!==t.length?e.value===t[0].lookupInfoId&&(this.isDeputation=!0,this.departmentalDetails.controls.deputationStartDate.setValidators([s.x.required]),this.departmentalDetails.controls.deputationEndDate.setValidators([s.x.required])):(this.isDeputation=!1,this.departmentalDetails.patchValue({deputationStartDate:"",deputationEndDate:""}),this.departmentalDetails.controls.deputationStartDate.setValidators(null),this.departmentalDetails.controls.deputationEndDate.setValidators(null)),this.departmentalDetails.controls.deputationStartDate.updateValueAndValidity(),this.departmentalDetails.controls.deputationEndDate.updateValueAndValidity()}},e.prototype.onEmpServiceChange=function(e){2===e.value?(this.serviceOrderNo=!0,this.previousEmployementDetails.controls.orderNoDate.setValidators([s.x.required])):(this.serviceOrderNo=!1,this.previousEmployementDetails.controls.orderNoDate.setValidators(null)),this.previousEmployementDetails.controls.orderNoDate.updateValueAndValidity()},e.prototype.setDataSourceAttributes=function(){this.dataSourceEvents.paginator=this.paginator,this.dataSourceEvents.sort=this.sort},e.prototype.addEmployeementHistory=function(e){var t=this;if(!this.previousEmployementDetails.invalid){var a=this.dataSource.data,i=void 0,s=void 0;this.employementTypeList&&(i=this.employementTypeList.filter(function(e){return e.lookupInfoId===t.previousEmployementDetails.controls.employementType.value})[0]),this.empServiceContinuationList&&(s=this.empServiceContinuationList.filter(function(e){return e.lookupInfoId===t.previousEmployementDetails.get("empServiceContinuation").value})[0]),a.push({empId:this.empId,employementType:this.previousEmployementDetails.controls.employementType.value,employementTypeName:i&&i.lookupInfoName?i.lookupInfoName:"",deptName:this.previousEmployementDetails.controls.deptName.value,officeName:this.previousEmployementDetails.controls.officeName.value,officeAdd:this.previousEmployementDetails.controls.officeAdd.value,empDesignationHist:this.previousEmployementDetails.controls.empDesignationHist.value,fromDate:this.previousEmployementDetails.controls.fromDate.value,toDate:this.previousEmployementDetails.controls.toDate.value,lastPayDrawn:this.previousEmployementDetails.controls.lastPayDrawn.value,empServiceContinuation:this.previousEmployementDetails.controls.empServiceContinuation.value,empServiceContinuationName:s&&s.lookupInfoName?s.lookupInfoName:"",orderNoDate:this.previousEmployementDetails.controls.orderNoDate.value,employeHistroyId:null}),this.dataSource.data=a,this.listshow=!0,this.previousEmployementDetails.reset(),e.resetForm();var n=new Date(this.createEmployeeForm.controls.dateOfBirth.value);return this.minDate=new Date(n.getFullYear(),n.getMonth(),n.getDate()),this.maxDate="",!0}this.toastr.error(o.a.VALIDATION.TOASTR),p.each(this.previousEmployementDetails.controls,function(e){"INVALID"===e.status&&e.markAsTouched({onlySelf:!0})})},e.prototype.convertUppercase=function(e){return e.target.value&&(e.target.value=e.target.value.toUpperCase()),e},e.prototype.onTabChange=function(e){this.selectedIndex=+e},e.prototype.redirectViewPanDetail=function(){var e=this.createEmployeeForm.get("panNo").value;this.dialog.open(u.a,{width:"1024px",height:"600px",data:{panNo:e}}).afterClosed().subscribe(function(e){})},e.prototype.onChangeSchoolDegree=function(e,t){if(250===e.value&&this.dataSourceQualification&&this.dataSourceQualification.data&&this.dataSourceQualification.data.length>1){this.toastr.error("You can not select Illiterate with any other degree");var a=p.cloneDeep(this.dataSourceQualification.data);return a.forEach(function(e){e&&250===e.degree&&(e.degree=0)}),this.dataSourceQualification=new n.o(a),!0}e&&e.value&&(-1===[245,247,248].indexOf(e.value)?(t.courseName="",t.otherCourseName="",t.enabledCourseName=!0,this.onCourseNameSelect(t)):(t.enabledCourseName=!1,this.allCourseNameList&&(t.courseNameList=this.allCourseNameList.filter(function(t){return t.parentId===e.value}))))},e.prototype.clearCourse=function(e){e.courseName=0,e.isOtherCourseName=!1,e.otherCourseName=""},e.prototype.onChangeExamBody=function(e,t){if(e&&e.value)switch(t.deptHodName="",e.value){case 133:t.deptHodNameList=p.cloneDeep(this.adminDepartment),t.disabledeptHOD=!1;break;case 134:t.deptHodNameList=p.cloneDeep(this.hodData),t.disabledeptHOD=!1;break;case 135:case 136:t.disabledeptHOD=!0,t.deptHodName="";break;case 137:t.disabledeptHOD=!1,t.deptHodNameList="",t.otherDeptHodName=""}},e.prototype.checkDuplicatePAN=function(e){var t=this;e.target.value&&this.pvuService.checkDuplicatePAN({fieldValue:e.target.value}).subscribe(function(e){t.duplicatePanNo=!(!e||!0!==e.result)},function(e){})},e.prototype.editEmpHistory=function(e,t){this.previousEmployementDetails.patchValue({employementType:e.employementType,deptName:e.deptName,officeName:e.officeName,officeAdd:e.officeAdd,empDesignationHist:e.empDesignationHist,fromDate:""!==e.fromDate&&null!=e.fromDate?this.convertDateOnly(e.fromDate):"",toDate:""!==e.toDate&&null!=e.toDate?this.convertDateOnly(e.toDate):"",lastPayDrawn:e.lastPayDrawn,empServiceContinuation:e.empServiceContinuation,orderNoDate:e.orderNoDate}),this.employeHistroyId=t},e.prototype.deleteEmpHistory=function(e,t){var a=this;this.dialog.open(m.a,{width:"360px",data:o.b.DELETE}).afterClosed().subscribe(function(i){"yes"===i&&(e?a.pvuService.deletePrevHistory({id:e,activeStatus:0}).subscribe(function(e){e&&200===e.status&&(e.message&&a.toastr.success(e.message),a.dataSource.data.splice(t,1),a.dataSource=new n.o(a.dataSource.data))},function(e){a.toastr.error(e)}):(a.dataSource.data.splice(t,1),a.dataSource=new n.o(a.dataSource.data)))})},e.prototype.deleteEmpPhoto=function(){var e=this;this.dialog.open(m.a,{width:"360px",data:o.b.DELETE_EMPLOYEE_PHOTO}).afterClosed().subscribe(function(t){"yes"===t&&e.pvuService.deleteEmpPhoto({id:e.empId}).subscribe(function(t){t&&200===t.status?t.message&&(e.toastr.success(t.message),e.fileData=null,e.empPhotoKey="",e.empPhotoName="",e.fileDetailsEmp=!1,e.empPhoto.nativeElement.value=""):e.toastr.error(t.message)},function(t){e.toastr.error(t)})})},e.prototype.deleteNomineeAttachment=function(e,t){var a=this;this.dialog.open(m.a,{width:"360px",data:o.b.DELETE_ATTACHMENT}).afterClosed().subscribe(function(i){if("yes"===i){var o={request:{}};o.request[e]=t.empNomineeId,a.pvuService.deleteNomineeAttachment(o).subscribe(function(i){if(i&&200===i.status){if(i.message)return a.toastr.success(i.message),"PHOTO"===e?(t.nomineePhoto="",t.nomineePhotoName=""):"GEN"===e?(t.genNomineePhoto="",t.genNomineeFormName=""):"NPS"===e&&(t.npsNomineePhoto="",t.npsNomineeFormName=""),t}else a.toastr.error(i.message)},function(e){a.toastr.error(e)})}})},e.prototype.downloadAttachFile=function(e,t){var a=this;this.httpClient.post(""+c.a.baseUrl+d.a.EMPLOYEE_CREATION.PERSONAL_DETAIL.DOWNLOADATTACHMENT,{fieldValue:e}).subscribe(function(e){if(e){var a=e.result,i=t.split("."),o=i[i.length-1],s=void 0;"pdf"===o.toLowerCase()?s="application/pdf":"png"===o.toLowerCase()?s="image/png":"jpg"===o.toLowerCase()?s="image/jpg":"jpeg"===o.toLowerCase()&&(s="image/jpeg");var n=new Uint8Array(atob(a.image).split("").map(function(e){return e.charCodeAt(0)})),r=new Blob([n],{type:s});if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(r);else{var l=window.URL.createObjectURL(r);window.open(l,"_blank")}}},function(e){a.toastr.error(e)})},e.prototype.openWorkFlowPopUp=function(){var e=this;this.dialog.open(i.a,{width:"2700px",height:"600px",data:{empId:this.empId,officeId:this.presentOfficeId}}).afterClosed().subscribe(function(t){"yes"===t&&e.router.navigate("edit"===e.action?["/dashboard/pvu/employee-creation"]:["/dashboard"],{skipLocationChange:!0})})},e.prototype.viewWorkflowHistory=function(){this.dialog.open(h.a,{width:"2700px",height:"600px",data:{empId:this.empId,heading:"Employee Creation"}}).afterClosed().subscribe(function(e){})},e.prototype.goToListing=function(){this.router.navigate(["/dashboard/pvu/employee-creation"],{skipLocationChange:!0})},e.prototype.goToDashboard=function(){var e=this;this.dialogOpen?this.dialog.closeAll():this.dialog.open(m.a,{width:"360px",data:o.b.CLOSE}).afterClosed().subscribe(function(t){if("yes"===t){var a=e.routeService.getPreviousUrl();e.router.navigate([a.toString()],{skipLocationChange:!0})}})},e.prototype.getTitleNameDataSorce=function(e,t,a,i){if(e&&e.length>0){var o=e.filter(function(e){return e[a]===t});if(o&&1===o.length)return o[0][i]}return""},e.prototype.getTitleName=function(e,t,a,i,o){if(e){var s=e.get(a).value;if(t&&t.length>0){var n=t.filter(function(e){return e[i]===s});if(n&&1===n.length)return n[0][o]}}return""},e.prototype.updateFromCurrentAddress=function(){var e=this.createEmployeeForm.getRawValue(),t=!1,a=this.createEmployeeForm.get("nationality").value,i=this.findArrayIndex(this.nationalityList,"lookupInfoId",a);(i.lookupInfoName.indexOf("Nepal")>=0||i.lookupInfoName.indexOf("Bhutan")>=0)&&(t=!0),e.isPerAddCurAdd&&(this.getDistricts(e.curState,"per"),this.getTalukas(e.curDistrict,"per"),this.createEmployeeForm.patchValue({perAddress1:e.curAddress1,perAddress2:e.curAddress2,perState:t?"":e.curState,perDistrict:t?"":e.curDistrict,perTaluka:t?"":e.curTaluka,perCity:t?"":e.curCity,perPinCode:t?"":e.curPinCode})),"sameAsCurrentAddr"===e.isNatAddCurAddPerAdd?(this.getDistricts(e.curState,"nat"),this.getTalukas(e.curDistrict,"nat"),this.createEmployeeForm.patchValue({natAddress1:e.curAddress1,natAddress2:e.curAddress2,natState:t?"":e.curState,natDistrict:t?"":e.curDistrict,natTaluka:t?"":e.curTaluka,natCity:t?"":e.curCity,natPinCode:t?"":e.curPinCode})):"sameAsPermanentAddr"===e.isNatAddCurAddPerAdd&&this.updateFromPermanentAddress()},e.prototype.updateFromPermanentAddress=function(){var e=this.createEmployeeForm.getRawValue();"sameAsPermanentAddr"===e.isNatAddCurAddPerAdd&&(this.getDistricts(e.perState,"nat"),this.getTalukas(e.perDistrict,"nat"),this.createEmployeeForm.patchValue({natAddress1:e.perAddress1,natAddress2:e.perAddress2,natState:e.perState,natDistrict:e.perDistrict,natTaluka:e.perTaluka,natCity:e.perCity,natPinCode:e.perPinCode}))},e}()},jcmO:function(e,t,a){"use strict";a.d(t,"a",function(){return o});var i=a("CcnG"),o=function(){function e(){this.empiD=0,this.empiD=0}return Object.defineProperty(e.prototype,"empID",{get:function(){return this.empiD},set:function(e){this.empiD=e},enumerable:!0,configurable:!0}),e.ngInjectableDef=i.V({factory:function(){return new e},token:e,providedIn:"root"}),e}()},lknc:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var i={EMPLOYEE_CREATION:{LINK:"/dashboard/pvu/employee-creation/add",LIST_LINK:"/dashboard/pvu/employee-creation"},ROP:{WF_APPROVE_CODE:"1007",WF_REJECT_CODE:"1016",WF_FORWORD_PVU_CODE:"1014",WF_AUTHORIZE_CODE:"1019",WF_RETURN_CODE:"1013",APPROVER_CUR_WF_ROLE:3,CREATOR_WF_ROLE_CODE:"1000",VERIFIER_WF_ROLE_CODE:"1001",APPROVER_WF_ROLE_CODE:"1002",AUDITOR_WF_ROLE_CODE:"1005",PVU_APPROVER_WF_ROLE_CODE:"1006"}}},nopv:function(e,t,a){"use strict";a.d(t,"b",function(){return i}),a.d(t,"c",function(){return o}),a.d(t,"a",function(){return s}),a.d(t,"d",function(){return n});var i={HIGHER_PAY_SCALE:"Higher_Pay_Scale",TIKU_PAY:"Tiku_Pay",ASSURED_CARREER_PROGRESSION:"Assured_Career_Progression",STEPPING_UP:"Stepping_Up",SELECTION_GRADE:"Selection_Grade",SHETTY_PAY:"Shetty_Pay",CARREER_ADVANCEMENT_SCHEME:"Career_Advancement_Scheme",SENIOR_SCALE_PVU:"Senior_Scale_PVU",CHANGE_OF_SCALE_PVU:"Change_of_Scale_PVU"},o={MANDATORY_FIELDS:"Please fill mandatory fields for save as draft!",POST_CONSIGMENT_ERROR:"Please enter post consignment number",STEPPING_JNR_ERROR:"Please fetch junior details by pressing enter or tab button on junior employee number field!",EMPLOYEE_NOT_SEARCHED:"Please fetch employee details by pressing enter or tab button on employee number field!",PAY_COMMISSION:"Please select Pay Commission",ORDER_NO:"Please Enter Order Number",ORDER_DATE:"Please Enter Order Date",PAY_BAND:"Please Select Pay Band",GRADE_PAY:"Please Select Grade Pay",GRADE:"Please Select Grade Pay",PAY_LEVEL:"Please Select Pay Level",PAY_SCALE:"Please Select Pay Scale",CELL_ID:"Please Select Cell Id",INCREMENT_AMT:"Please Select Option",OPTION_AVAILED:"Please Select Option availed or Not",OPTION_DATE:"Please Select Option date",OPTION_TYPE:"Please Select Type",BENEFIT_EFFECTIVE_DATE:"Please select Benefit Effective Date",DATE_OF_NEXT_INCREMENT:"Please Select Date of Next Increment",EVENT_ORDER_DATE:"Please Select Event Order Date",CLASS:"Please Select Class",DESIGNATION:"Please Select Designation",PAY_BAND_VALUE:"Please Select Pay Band Value",PAY_BAND_MIN_MAX:"Please Enter between selected pay band",BASIC_PAY:"Please Select Basic Pay",EVENT_ORDER_NUMBER:"Please Select Event Order Number",DATE_OF_JOINING:"Please Select Date of Joining",EVENT_EFFECTIVE_DATE:"Please Select Event Effective Date",OFFICE_NAME:"Please Enter Office Name",SCALE:"Please Select Scale",REMARKS:"Please Enter Remarks",ERR_APPROVER_REMARKS:"Please Enter Authorizer Remarks",ERR_AUDITOR_REMARKS:"Please Enter Auditor Remarks",ERR_VERIFIER_REMARKS:"Please Enter Verifier Remarks",ERR_APPROVERI_REMARKS:"Please Enter Authorizer Class I Remarks",RETURN_REASON:"Please Select Return Reason",PROMOTION_FOR:"Please Select Promotion Porgo For",PROMOTION_DATE:" Please Select Promotion Date",PROMOTION_FORGO_DATE:"Please Select Promotion Forgo Date",HIGHER_GRADE:"Please Select Higher Grade",JOIN_PROMOTIONAL_POST:"Please Select Join Promotional Post",JOINING_DATE:"Please Select  Joining Date",DATE_MIN:"Please enter date greater than ",DATE_MAX:"Please enter date lesser than ",BASIC_PAY_MIN:"Please enter basic pay greater than ",BASIC_PAY_MAX:"Please enter basic pay lesser than ",EMP_NO_MAX:"Employee number should be of 10 digits!",REVISED_BASIC_PAY:"Please Select Revised Basic Pay",REVISED_BASIC_PAY_VALUE:"Please Select Revised Basic Pay Value",TIKU_PAY_TYPE:"Please Select Tiku Pay Type",ADHOC:"Please Select Adhoc",FROM_DATE:"Please Select From date",TO_DATE:"Please Select To Date",ADHOC_CONTINIOUS_SERVICES:"Please Select Adhoc Continious Services",GPSC_EXAM_PASSED:"Please Select Gpsc Exam Passed",GPSC_EXAM_PASSED_DATE:"Please Select Gpsc Exam Passed Date",EMP_NO:"Please fill Employee Number",TYPE:"Please Select Option",DOJ_REGULAR_SERVICE_DATE:"Please Select Date of Joining in Regular Service",HIGHER_PAY_TYPE:"Please Select Type",OPTION_EMP_TYPE:"Please Select Employee Type",SALUTATION:"Please select Option",EMPLOYEE_NAME:"Please Enter Employee Name",GENDER:"Please select Gender",NATIONALITY:"Please select Nationality",EMPLOYEE_MOBILENO:"Please Enter Employee Mobile No.",EMPLOYEE_EMAIL:"Please Enter Email ID",FATHERS_NAME:"Please Enter Employee Father Name",MOTHER_NAME:"Please Enter Employee Mother Name",MARITAL_STATUS:"Please Select Employee Marital Status",CATEGORY:"Please select Category",RELIGION:"Please Enter Religion",CASTE:"Please Enter Caste",PH_STATUS:"Please select Divyang (PH) Status",PH_TYPE:"Please select PH Type",IDENTIFICATION_MARK:"Please Enter Identification Mark",HEIGHT:"Please Enter Height",PAN_NO:"Please Enter Permanent Account No.(PAN)",STATE:"Please select State",DISTRICT:"Please select District",TALUKA:"Please select Taluka",CITY_VILLAGE:"Please Enter City/ Village",PIN_CODE:"Please Enter Pincode",OFFICE_DISTANCE:"Please select Distance from Office",EMP_CATEGORY:"Please select Employee Type",EMP_STATUS:"Please select Type of Employement",EMP_TYPE:"Please select Employee PayType",PARENT_ADMIN_DEPT:"Please select Parent Administrative Department",HEAD_OF_DEPT:"Please select Head of Department",EMP_CLASS:"Please select Employee Class",DEPARTMENTAL_CATEGORY:"Please select Departmental Category",STATION:"Please Enter Station",DEPT_NAME:"Please Enter Department Name",OFFICE_ADD:"Please Enter Office Address",EMP_DESIGNATION_HIST:"Please select Employee Designation",LAST_PAY_DRAWN:"Please Enter Last Pay Drawn",IS_SERVICE_CONTINUE:"Please select Option",ORDER_NO_DATE:"Please Enter Order No & Date",REASON_FOR_SUSPENSION:"Please select Reason for Suspension",SUSPENSION_START_DATE:"Please select Suspension Start Date",SUSPENSION_END_DATE:"Please select Suspension End Date",SUSPENSION_CLOSURE_DATE:"Please select Suspension Closure Date",DESCRIPTION:"Please fill Description",CLOSURE:"Please select Closure",TYPE_OF_PUNISHMENT:"Please fill Type of Punishment",SUSPENSION_EFFECTIVE_DATE:"Please select Suspension Effective Date",SUSPENSION_EVENT_DATE:"Please select Suspension Event Date",SUSPENSION_ORDER_NO:"Please fill Supension Order Number",SUSPENSION_ORDER_DATE:"Please select Suspension Order Date",CAS_Type:"Please select Career Advancement Scheme Type",UNIVERSITY_APPROVED_LECTURER:"Please fill University Approved Lecturer",ORIENTATION_COURSE:"Please select Orientation Course Attended",ORIENTATION_DATE:"Please select Orientation Date",REFRESHER_COURSE:"Please select Refresher Course Attended",REFRESHER_DATE:"Please select Refresher Course Date",JUNIOR_EMP_NO:"Please Enter Employee Number",EVENT_DATE:"Please Select Event Order Date",EVENT_ORD_NUMBER:"Please Enter Event Order Number",LEAVE_START:"Please Select Leave Start Date",LEAVE_END:"Please Select Leave End Date",SUB_TYPE:"Please Select Leave End Date",CARDEX_NO:"Please Select Cardex Number",DDO_NO:"Please Select DDO Number",FORENOON_AFTERNOON:"Please Select Forenoon/ Afternoon",DECLINED_PROMOTION:"Please Select Option",DESIGNATION_TXT:"Please Enter Designation",ACP_TYPE:"Please Select Type",REG_PROMOTION:"Please select declined regular promotion on any personal ground",WORKFLOW:{CLOSE:"Do you want to Processed ?",WF_USER_LIST_EMPTY:"Workflow user not mapped!",VALIDATION:{TOASTR:"Please fill all the details",TOASTR_NOMINEE:"Please fill nominee details",TOASTR_REQUIRED:"Please fill required details",TOASTR_SAVE:"Data saved successfully",OTHER_REASON:"Please Enter Other Reason",TOASTR_UPDATE:"Data updated successfully"}}},s={EMPLOYEE_DETAILS:"pvu/get-regular-common-detail",EMPLOYEE_EXAM_DETAILS:"pvu/get-employee-exams",PVU_EVENTS:"pvu/pvu-events",GET:"301",CREATE:"101",UPDATE:"401",DESIGNATIONS:"pvu/designations",PAY_MASTERS:"pvu/pay-masters",PAY_COMM:"pvu/paycommision",HIGHER_PAY_SCALE_APIs:{CHECK_ELIGIBILITY:"pvu/employehigherpayscaleevent/eligible/higher/pay",CHECK_FOR_DATE_NXT_INCR:"pvu/check-employee-eligible",CAL_SEVEN_BASIC:"pvu/seven/basic/pay",CAL_SIX_BASIC:"pvu/six/basic/pay"},Assured_Career_Progression:{SIXTH_PAY_MASTERS:"pvu/assured-career-progression/sixthPayScalVal/301",CHECK_ELIGIBILITY:"pvu/assured-career-progression/employeedetail/301"},CAREER_ADVANCEMENT_SCHEME:{CURRENT_DETAILS:"pvu/careeradvancevent/getCurtDetail",CHECK_FOR_DATE_NXT_INCR:"pvu/check-employee-eligible",CAL_SEVEN_BASIC:"pvu/seven/basic/pay",CAL_SIX_BASIC:"pvu/six/basic/pay"},TIKU_PAY_APIs:{CHECK_ELIGIBILITY:"pvu/tikupay/getEmployeeCurrentDetail",CHECK_FOR_DATE_NXT_INCR:"pvu/check-employee-eligible",CAL_SEVEN_BASIC:"pvu/seven/basic/pay",CAL_SIX_BASIC:"pvu/six/basic/pay"},SELECTION_GRADE_APIs:{CAL_SEVEN_BASIC:"pvu/selectiongrade/seven/basic/cell"},LIST:{GET_LOOKUP_DATA:"pvu/get-all-lookup",LIST_DATA:{Higher_Pay_Scale:"pvu/employehigherpayscaleevent/ddo-wf-listing",Tiku_Pay:"pvu/tikupay/tikupay-ddo-list",Assured_Career_Progression:"pvu/assured-career-progression/acp-ddo-list",Stepping_Up:"pvu/event/steppingup/ddo-wf-listing",Selection_Grade:"pvu/selectiongrade/ddo-wf-listing",Shetty_Pay:"pvu/employeshettypay/speventsearch/201",Career_Advancement_Scheme:"pvu/careeradvancevent/ddo-wf-listing",Senior_Scale_PVU:"pvu/senior-scale/ddo-wf-listing",Change_of_Scale_PVU:"pvu/csevent/common-details-cspvu-ddo"},WORKFLOW_STATUS:"common/workflow/getWfStatus/201"},DELETE_TRANSACTION:{Higher_Pay_Scale:"",Tiku_Pay:"pvu/tikupay/501",Assured_Career_Progression:"pvu/assured-career-progression/501",Stepping_Up:"pvu/event/steppingup/501",Selection_Grade:"pvu/selectiongrade/501",Shetty_Pay:"pvu/employeshettypay/501",Career_Advancement_Scheme:"pvu/careeradvancevent/501",Senior_Scale_PVU:"",Change_of_Scale_PVU:""},ATTACHMENT_PREFIX:{Higher_Pay_Scale:"pvu/employehigherpayscaleevent",Tiku_Pay:"pvu/tikupay",Assured_Career_Progression:"pvu/assured-career-progression",Stepping_Up:"pvu/event/steppingup",Selection_Grade:"pvu/selectiongrade",Shetty_Pay:"pvu/employeshettypay",Career_Advancement_Scheme:"pvu/careeradvancevent",Senior_Scale_PVU:"pvu/senior-scale",Change_of_Scale_PVU:"pvu/csevent"},CRUD:{Higher_Pay_Scale:"pvu/employehigherpayscaleevent/",Tiku_Pay:"pvu/tikupay/",Assured_Career_Progression:"pvu/assured-career-progression/",Stepping_Up:"pvu/event/steppingup/",Selection_Grade:"pvu/selectiongrade/",Shetty_Pay:"pvu/employeshettypay/",Career_Advancement_Scheme:"pvu/careeradvancevent/",Senior_Scale_PVU:"pvu/senior-scale/",Change_of_Scale_PVU:"pvu/csevent/"},LOOK_UP:{Higher_Pay_Scale:"pvu/employehigherpayscaleevent/get-all-lookup",Tiku_Pay:"pvu/tikupay/tikupay_lookup",Assured_Career_Progression:"pvu/assured-career-progression/get-all-lookup",Stepping_Up:"pvu/event/steppingup/create_lookup",Senior_Scale_PVU:"senior-scale/",Change_of_Scale_PVU:"pvu/csevent/pvu/getAllLookup",Shetty_Pay:"",Career_Advancement_Scheme:"pvu/careeradvancevent/getAllLookup"},SHETTY_PAY_API:{CHECK_ELG_SP:"pvu/employeshettypay/check-emp-eligible-sp"},STEPPING_UP_API:{VALIDATE_EMPLOYEE:"pvu/event/steppingup/chkCondition"},PVU_WORKFLOW:{INWARD:{INWARD_LOOKUP:"pvu/pvu-inward/lookup/201",GET_INWARDS:{Higher_Pay_Scale:"pvu/employehigherpayscaleevent/higherpay-inward/201",Tiku_Pay:"pvu/tikupay/tikupay-inward/201",Assured_Career_Progression:"pvu/assured-career-progression/acp-inward/201",Stepping_Up:"pvu/event/steppingup/steppingup-inward/201",Selection_Grade:"pvu/selectiongrade/selection-inward/201",Shetty_Pay:"pvu/employeshettypay/inward-list/501",Career_Advancement_Scheme:"pvu/careeradvancevent/careerAdvance-inward/201",Senior_Scale_PVU:"pvu/senior-scale/ssp-inward/201",Change_of_Scale_PVU:"pvu/csevent/csp-inward/201"},RECEIVE:{Higher_Pay_Scale:"pvu/employehigherpayscaleevent/receive-inward",Tiku_Pay:"pvu/tikupay/receive-inward",Assured_Career_Progression:"pvu/assured-career-progression/receive-inward",Stepping_Up:"pvu/event/steppingup/receive-inward",Selection_Grade:"pvu/selectiongrade/receive-inward",Shetty_Pay:"pvu/employeshettypay/receive-inward",Career_Advancement_Scheme:"pvu/careeradvancevent/generateInwardNumber/201",Senior_Scale_PVU:"pvu/senior-scale/receive-inward",Change_of_Scale_PVU:"pvu/csevent/receive-inward"},SUBMIT:{Higher_Pay_Scale:"pvu/employehigherpayscaleevent/submit-inward",Tiku_Pay:"pvu/tikupay/submit-inward",Assured_Career_Progression:"pvu/assured-career-progression/submit-inward",Stepping_Up:"pvu/event/steppingup/submit-inward",Selection_Grade:"pvu/selectiongrade/submit-inward",Shetty_Pay:"pvu/employeshettypay/submit-inward",Career_Advancement_Scheme:"pvu/careeradvancevent/inwardSubmit/901",Senior_Scale_PVU:"pvu/senior-scale/submit-inward",Change_of_Scale_PVU:"pvu/csevent/submit-inward"}},LIST:{WORKFLOW_STATUS:"common/workflow/getWfStatus/201"},DISTRIBUTOR:{SUBMIT:{Higher_Pay_Scale:"pvu/employehigherpayscaleevent/distributorSubmit/901",Tiku_Pay:"pvu/tikupay/distributorSubmit/901",Assured_Career_Progression:"pvu/assured-career-progression/distributorSubmit/901",Stepping_Up:"pvu/event/steppingup/distributorSubmit/901",Selection_Grade:"pvu/selectiongrade/distributorSubmit/901",Shetty_Pay:"pvu/employeshettypay/distributorSubmit/901",Career_Advancement_Scheme:"pvu/careeradvancevent/distributorSubmit/901",Senior_Scale_PVU:"pvu/senior-scale/submit-distributor",Change_of_Scale_PVU:"pvu/csevent/distributorSubmit/901"}},AUDITOR_VERIFIER_APPROVER:{REASONS_LIST:"pvu/senior-scale/reasons",LOOK_UP:"pvu/aud-ver-app/look-up",TRNS_WF_CODE:{Higher_Pay_Scale:"pvu/employehigherpayscaleevent/wfrolecode/201",Tiku_Pay:"pvu/tikupay/wfrolecode/tikupay/201",Assured_Career_Progression:"pvu/assured-career-progression/wfrolecode/acp/201",Stepping_Up:"pvu/event/steppingup/wfrolecode/steepingup/201",Selection_Grade:"pvu/selectiongrade/wfrolecode/201",Shetty_Pay:"pvu/employeshettypay/wfrolecode/201",Career_Advancement_Scheme:"pvu/careeradvancevent/wfrolecode/201",Senior_Scale_PVU:"pvu/senior-scale/wfrolecode/ssp/201",Change_of_Scale_PVU:"pvu/csevent/wfrolecode/csp/201"},UPDATE_REMARKS:{Higher_Pay_Scale:"pvu/employehigherpayscaleevent/update-remarks",Tiku_Pay:"pvu/tikupay/pvuInsertUpdateRemark/401",Assured_Career_Progression:"pvu/assured-career-progression/acpremark/401",Stepping_Up:"pvu/event/steppingup/pvuInsertUpdateRemark/401",Selection_Grade:"pvu/selectiongrade/spremark/401",Shetty_Pay:"pvu/employeshettypay/spremark/401",Career_Advancement_Scheme:"pvu/careeradvancevent/update-remarks",Senior_Scale_PVU:"pvu/senior-scale/update-remarks",Change_of_Scale_PVU:"pvu/csevent/update-remarks"},SAVED_RETURN_REMARKS:{Higher_Pay_Scale:"pvu/employehigherpayscaleevent/return-remarks",Tiku_Pay:"pvu/tikupay/return-remarks",Assured_Career_Progression:"pvu/assured-career-progression/remarks",Stepping_Up:"pvu/event/steppingup/return-remarks",Selection_Grade:"pvu/selectiongrade/return-remarks",Shetty_Pay:"pvu/employeshettypay/remarks",Career_Advancement_Scheme:"pvu/careeradvancevent/return-remarks",Senior_Scale_PVU:"pvu/senior-scale/return-remarks",Change_of_Scale_PVU:"pvu/csevent/return-remarks"},GET_DATA:{Higher_Pay_Scale:"pvu/employehigherpayscaleevent/pvu-response",Tiku_Pay:"pvu/tikupay/pvu-response",Assured_Career_Progression:"pvu/assured-career-progression/pvu-response",Stepping_Up:"pvu/event/steppingup/pvu-response",Selection_Grade:"pvu/selectiongrade/pvu-response",Shetty_Pay:"pvu/employeshettypay/pvu-response",Career_Advancement_Scheme:"pvu/careeradvancevent/pvu-response",Senior_Scale_PVU:"pvu/senior-scale/pvu-response",Change_of_Scale_PVU:"pvu/csevent/pvu-response"},GET_LIST_DATA:{Higher_Pay_Scale:"pvu/employehigherpayscaleevent/employeesearch/901",Tiku_Pay:"pvu/tikupay/employeesearch/901",Assured_Career_Progression:"pvu/assured-career-progression/employeesearch/901",Stepping_Up:"pvu/event/steppingup/employeesearch/901",Selection_Grade:"pvu/selectiongrade/employeesearch/901",Shetty_Pay:"pvu/employeshettypay/auditor-list/501",Career_Advancement_Scheme:"pvu/careeradvancevent/employeesearch/901",Senior_Scale_PVU:"pvu/senior-scale/employeesearch/901",Change_of_Scale_PVU:"pvu/csevent/employeesearch/901"},OFFICE_LIST:"pvu/revisionofpay/employeesearch/901"},PRINT_ORDER:{LOOKUP:"pvu/pvu-inward/lookup/201",GET_LIST:{Higher_Pay_Scale:"pvu/employehigherpayscaleevent/hps-endorsement-list",Tiku_Pay:"pvu/tikupay/print-endorsement-list",Assured_Career_Progression:"pvu/assured-career-progression/print-endorsement-list",Stepping_Up:"pvu/event/steppingup/steppingup-printendorsement/201",Selection_Grade:"pvu/selectiongrade/print-endorsement-list",Shetty_Pay:"pvu/employeshettypay/print-endorsement-list",Career_Advancement_Scheme:"pvu/careeradvancevent/cas-print-endorsement-list",Senior_Scale_PVU:"pvu/senior-scale/ssp-print-endorsement-list",Change_of_Scale_PVU:"pvu/csevent/print-endorsement-list"},MULTIPLE_ORDER:{Higher_Pay_Scale:"pvu/employehigherpayscaleevent/generate-printendorsement/201",Tiku_Pay:"pvu/tikupay/generate-printendorsement/201",Assured_Career_Progression:"pvu/assured-career-progression/generate-printendorsement/201",Stepping_Up:"pvu/event/steppingup/generate-printendorsement/201",Selection_Grade:"pvu/selectiongrade/generate-printendorsement/201",Shetty_Pay:"pvu/employeshettypay/generate-printendorsement/201",Career_Advancement_Scheme:"pvu/careeradvancevent/generate-printendorsement/201",Senior_Scale_PVU:"pvu/senior-scale/generate-print-orders",Change_of_Scale_PVU:"pvu/csevent/generate-printendorsement/201"},SINGLE_ORDER:{Higher_Pay_Scale:"pvu/employehigherpayscaleevent/generate-printendorsement/101",Tiku_Pay:"pvu/tikupay/generate-printendorsement/101",Assured_Career_Progression:"pvu/assured-career-progression/generate-printendorsement/101",Stepping_Up:"pvu/event/steppingup/generate-printendorsement/101",Selection_Grade:"pvu/selectiongrade/generate-printendorsement/101",Shetty_Pay:"pvu/employeshettypay/generateprintendorsement/101",Career_Advancement_Scheme:"pvu/careeradvancevent/generate-printendorsement/101",Senior_Scale_PVU:"pvu/senior-scale/generate-print-order",Change_of_Scale_PVU:"pvu/csevent/generate-printendorsement/101"},REPRINT_REMARKS_HISTORY:{Higher_Pay_Scale:"pvu/employehigherpayscaleevent/endorsementremarks/101",Tiku_Pay:"pvu/tikupay/endorsementremarks/101",Assured_Career_Progression:"pvu/assured-career-progression/endorsementremarks/101",Stepping_Up:"pvu/event/steppingup/endorsementremarks/101",Selection_Grade:"pvu/selectiongrade/endorsementremarks/101",Shetty_Pay:"pvu/employeshettypay/endorsementremarks/101",Career_Advancement_Scheme:"pvu/careeradvancevent/endorsementremarks/101",Senior_Scale_PVU:"pvu/senior-scale/endorsementremarks/101",Change_of_Scale_PVU:"pvu/csevent/endorsementremarks/101"}},OUTWARD:{LOOKUP:"pvu/pvu-outward/lookup/201",GET_OUTWARDS:{Higher_Pay_Scale:"pvu/employehigherpayscaleevent/hps-outward-list/201",Tiku_Pay:"pvu/tikupay/pvu-outward/201",Assured_Career_Progression:"pvu/assured-career-progression/csp-outward/201",Stepping_Up:"pvu/event/steppingup/steppingup-outward/201",Selection_Grade:"pvu/selectiongrade/sg-outward/201",Shetty_Pay:"pvu/employeshettypay/csp-outward/201",Career_Advancement_Scheme:"pvu/careeradvancevent/careerAdvance-outward-list/201",Senior_Scale_PVU:"pvu/senior-scale/ssp-outward/201",Change_of_Scale_PVU:"pvu/csevent/csp-outward/201"},RECEIVE:{Higher_Pay_Scale:"pvu/employehigherpayscaleevent/receive-outward",Tiku_Pay:"pvu/tikupay/receive-outward",Assured_Career_Progression:"pvu/assured-career-progression/receive-outward",Stepping_Up:"pvu/event/steppingup/receive-outward",Selection_Grade:"pvu/selectiongrade/receive-outward",Shetty_Pay:"pvu/employeshettypay/receive-outward",Career_Advancement_Scheme:"pvu/careeradvancevent/receive-outward",Senior_Scale_PVU:"pvu/senior-scale/receive-outward",Change_of_Scale_PVU:"pvu/csevent/receive-outward"},SUBMIT:{Higher_Pay_Scale:"pvu/employehigherpayscaleevent/submit-outward",Tiku_Pay:"pvu/tikupay/submit-outward",Assured_Career_Progression:"pvu/assured-career-progression/submit-outward",Stepping_Up:"pvu/event/steppingup/submit-outward",Selection_Grade:"pvu/selectiongrade/submit-outward",Shetty_Pay:"pvu/employeshettypay/submit-outward",Career_Advancement_Scheme:"pvu/careeradvancevent/submit-outward",Senior_Scale_PVU:"pvu/senior-scale/submit-outward",Change_of_Scale_PVU:"pvu/csevent/submit-outward"}}}},n={linkMenuId:49,lkPoOffUserId:486,menuId:49,officeDetail:{activeStatus:1,addrLine1:"Block-D, ground floor. M S Building, Sector-1",addrLine2:"",addressDescription:"",addressDescriptionGuj:"",billStatus:null,billSubmittedTo:null,billType:null,billTypeSelected:null,cardexno:1,coDesgName:null,coId:null,coOfficeName:null,comment:null,createdBy:0,createdByPost:0,createdDate:"2008-10-17T10:44:06.000+0530",ddoNo:"416",ddoType:68,ddoTypeName:null,departmentId:17,deptName:"Finance Department",desgDdoId:811,desgDdoName:null,digitalSigEnable:2,distName:"Gandhinagar",districtId:25,districtName:"Gandhinagar",emailId:"",employeeName:"",employeeNo:"",faxNo:"",formAction:null,grNo:"",grantRcvngCardex:1,hodId:38,hodName:null,isCo:1,isCoName:null,isFd:1,isHod:1,isNewOffice:null,isSubTreasury:1,isTreasury:2,isUpdate:null,isVerified:2,levelId:null,levelName:null,menuShName:null,mobileNo:"",moduleId:null,msgFlag:null,nonDdo:null,nonDdoTypeName:null,objRemark:null,objStatus:null,offStComments:null,officeCode:"10109",officeCodeGuj:"",officeCodeName:"",officeDivision:null,officeEndDate:null,officeId:993,officeName:"District Treasury Office, Gandhinagar",officeNameAlias:null,officeNameDisp:"District Treasury Office, Gandhinagar",officeNameGuj:"",officePVU:null,officeRangeId:null,officeShortName:"GNR",officeShortNameGuj:"",officeStatus:283,officeType:null,officeTypeId:71,officeTypeName:"Drawing and Disbursing office (DDO)",parentOfficeId:38,phoneNo:"",pincode:"",prvOfficeStatus:null,prvOfficeStatusId:null,pvuId:38,pvuName:null,requestNo:null,requestTo:null,requestToName:null,selectedBills:null,station:"",statusId:327,stdCode:null,talukaId:null,talukaName:null,transactionNo:"20-21/EDP/CNO/00993",treasuryType:null,treasuryTypeName:null,uniqueId:"57/416/1/00",updateOffice:null,updatedBy:0,updatedByPost:0,updatedDate:"2020-03-02T18:11:17.804+0530",verifiedDate:"2010-06-10T12:07:07.000+0530",wfRoleId:null,workFlowId:null},postId:204,userId:"9vo/sJUOHEQ=",wfRoleId:[1]}},rP7f:function(e,t,a){"use strict";a.d(t,"a",function(){return p});var i=a("t/Na"),o=a("q+ny"),s=a("AytR"),n=a("fbMX"),r=a("lknc"),l=a("CcnG"),p=function(){function e(e,t){this.httpClient=e,this.storageService=t,this.headers=new i.g({"Content-Type":"application/json"}),this.testHeader=new i.g({"Content-Type":"multipart/form-data"})}return e.prototype.getEmployeeList=function(e){return this.httpClient.post(""+s.a.baseUrl+o.a.EMPLOYEE_LIST.GET_ALL,e,{headers:this.headers})},e.prototype.deleteEmployee=function(e){return this.httpClient.post(""+s.a.baseUrl+o.a.EMPLOYEE_LIST.DELETE,e)},e.prototype.getPayMasters=function(e){return this.httpClient.post(""+s.a.baseUrl+o.a.EMPLOYEE_CREATION.PAY_DETAIL.GET_PAY_SCALE,e)},e.prototype.getLookUPInfoData=function(e){return this.httpClient.post(""+s.a.baseUrl+o.a.EMPLOYEE_LIST.LOOKUP_DATA,e,{headers:this.headers})},e.prototype.getAllEvents=function(e){return this.httpClient.post(""+s.a.baseUrl+o.a.EMPLOYEE_CREATION.EVENTS.GET_ALL,e,{headers:this.headers})},e.prototype.getEmployeeByID=function(e){return this.httpClient.post(""+s.a.baseUrl+o.a.EMPLOYEE_CREATION.PERSONAL_DETAIL.GET,e,{headers:this.headers})},e.prototype.checkDuplicatePAN=function(e){return this.httpClient.post(""+s.a.baseUrl+o.a.EMPLOYEE_CREATION.PERSONAL_DETAIL.CHECK_PAN,e,{headers:this.headers})},e.prototype.getLookUpInfoData=function(){return this.httpClient.post(""+s.a.baseUrl+o.a.EMPLOYEE_CREATION.LOOKUPINFO,"",{headers:this.headers})},e.prototype.getOfficeType=function(e){return this.httpClient.post(""+s.a.baseUrl+o.a.EMPLOYEE_LIST.OFFICE_TYPE,e,{headers:this.headers})},e.prototype.savePersonalDetail=function(e){return this.httpClient.post(""+s.a.baseUrl+o.a.EMPLOYEE_CREATION.PERSONAL_DETAIL.SAVE,e)},e.prototype.deleteNominee=function(e){return this.httpClient.post(""+s.a.baseUrl+o.a.EMPLOYEE_CREATION.PERSONAL_DETAIL.DELETE_NOMINEE,e)},e.prototype.deleteNomineeAttachment=function(e){return this.httpClient.post(""+s.a.baseUrl+o.a.EMPLOYEE_CREATION.PERSONAL_DETAIL.DELETE_NOMINEE_ATTACHMENT,e)},e.prototype.deleteEmpPhoto=function(e){return this.httpClient.post(""+s.a.baseUrl+o.a.EMPLOYEE_CREATION.PERSONAL_DETAIL.DELETE_EMP_PHOTO,e)},e.prototype.savePayDetail=function(e){return this.httpClient.post(""+s.a.baseUrl+o.a.EMPLOYEE_CREATION.PAY_DETAIL.SAVE,e,{headers:this.headers})},e.prototype.getPayDetails=function(e){return this.httpClient.post(""+s.a.baseUrl+o.a.EMPLOYEE_CREATION.PAY_DETAIL.GET,e,{headers:this.headers})},e.prototype.getSixPayDesignation=function(){return this.httpClient.post(""+s.a.baseUrl+o.a.EMPLOYEE_CREATION.PAY_DETAIL.DESIGNATION,"")},e.prototype.saveQualificationDetails=function(e){return this.httpClient.post(""+s.a.baseUrl+o.a.EMPLOYEE_CREATION.QUALIFICATION.CREATE,e)},e.prototype.getQualificationDetail=function(e){return this.httpClient.post(""+s.a.baseUrl+o.a.EMPLOYEE_CREATION.QUALIFICATION.GET,e)},e.prototype.updateQualificationDetail=function(e){return this.httpClient.post(""+s.a.baseUrl+o.a.EMPLOYEE_CREATION.QUALIFICATION.UPDATE,e)},e.prototype.deleteQualExam=function(e){return this.httpClient.post(""+s.a.baseUrl+o.a.EMPLOYEE_CREATION.QUALIFICATION.DELETE_QUAL_EXAM,e)},e.prototype.deleteDeptExam=function(e){return this.httpClient.post(""+s.a.baseUrl+o.a.EMPLOYEE_CREATION.QUALIFICATION.DELETE_DEPT_EXAM,e)},e.prototype.deleteCCCExam=function(e){return this.httpClient.post(""+s.a.baseUrl+o.a.EMPLOYEE_CREATION.QUALIFICATION.DELETE_CCC_EXAM,e)},e.prototype.deleteLangExam=function(e){return this.httpClient.post(""+s.a.baseUrl+o.a.EMPLOYEE_CREATION.QUALIFICATION.DELETE_LANG_EXAM,e)},e.prototype.saveDepartmentalDetails=function(e){return this.httpClient.post(""+s.a.baseUrl+o.a.EMPLOYEE_CREATION.DEPARTMENTAL.CREATE,e)},e.prototype.getDepartmentalDetail=function(e){return this.httpClient.post(""+s.a.baseUrl+o.a.EMPLOYEE_CREATION.DEPARTMENTAL.GET,e)},e.prototype.deletePrevHistory=function(e){return this.httpClient.post(""+s.a.baseUrl+o.a.EMPLOYEE_CREATION.DEPARTMENTAL.DELETE_PREV_HISTORY,e)},e.prototype.get7thCPCBasicPay=function(e){return this.httpClient.post(""+s.a.baseUrl+o.a.EMPLOYEE_CREATION.PAY_DETAIL.BASIC_PAY,e)},e.prototype.getOfficeByDistrict=function(e){return this.httpClient.post(""+s.a.baseUrl+o.a.EMPLOYEE_CREATION.DEPARTMENTAL.GET_OFFICE_BY_DISTRICT_ID,e)},e.prototype.getDuplicatePanDetail=function(e){return this.httpClient.post(""+s.a.baseUrl+o.a.EMPLOYEE_CREATION.EMPLOYEE_VIEW.GET_DUPLICATE_PAN,e)},e.prototype.getWorkFlowAssignmentOpt=function(e){return this.httpClient.post(""+s.a.baseUrl+o.a.EMPLOYEE_CREATION.WORKFLOW.GET_ASSIGN_OPT,e)},e.prototype.getWorkFlowEmpDetail=function(e){return this.httpClient.post(""+s.a.baseUrl+o.a.EMPLOYEE_CREATION.WORKFLOW.GET_EMP_DETAIL,e)},e.prototype.getWorkFlowUsers=function(e){return this.httpClient.post(""+s.a.baseUrl+o.a.EMPLOYEE_CREATION.WORKFLOW.GET_USERS,e)},e.prototype.submitWorkFlow=function(e){return this.httpClient.post(""+s.a.baseUrl+o.a.EMPLOYEE_CREATION.WORKFLOW.SUBMIT,e)},e.prototype.getAttachmentByMenuId=function(e){return this.httpClient.post(""+s.a.baseUrl+o.a.EMPLOYEE_CREATION.PERSONAL_DETAIL.GET_ATTACHMENT,e)},e.prototype.upload=function(e){return this.httpClient.post(""+s.a.baseUrl+o.a.EMPLOYEE_CREATION.UPLOAD,e)},e.prototype.getWorkFlowReview=function(e){return this.httpClient.post(""+s.a.baseUrl+o.a.EMPLOYEE_CREATION.WORKFLOW.GET_REVIEW,e)},e.prototype.downloadAttachment=function(e){return this.httpClient.post(""+s.a.baseUrl+o.a.EMPLOYEE_CREATION.PERSONAL_DETAIL.DOWNLOADATTACHMENT,e,{responseType:"blob"})},e.prototype.getWorkFlowStatus=function(e){return this.httpClient.post(""+s.a.baseUrl+o.a.EMPLOYEE_LIST.WORKFLOW_STATUS,e)},e.prototype.getPayScale=function(){return this.httpClient.post(""+s.a.baseUrl+o.a.EMPLOYEE_CREATION.PAY_DETAIL.GET_PAY_SCALE,{})},e.prototype.getSubOffice=function(e){return this.httpClient.post(""+s.a.baseUrl+o.a.EMPLOYEE_CREATION.DEPARTMENTAL.GET_SUB_OFFICE,e)},e.prototype.getCurrentUserDetail=function(){var e=this;return new Promise(function(t){var a=e.storageService.get("currentUser");if(a&&a.post){var i=a.post.filter(function(e){return!0===e.loginPost});if(i&&i[0].oauthTokenPostDTO&&i[0].oauthTokenPostDTO.edpMsMenuDtoList){var o=i[0].oauthTokenPostDTO.edpMsMenuDtoList.filter(function(e){return 74===e.menuId}),s=i[0].oauthTokenPostDTO.edpMsOfficeDto;if(o&&o[0].menuDtos[0]){var n=o[0].menuDtos.filter(function(e){return 72===e.menuId})[0].menuDtos.filter(function(e){return e.menuLink===r.a.EMPLOYEE_CREATION.LINK}),l=[];n[0].wfRoleId.forEach(function(e){-1===l.indexOf(e.wfRoleIds[0])&&l.push(e.wfRoleIds[0])}),t({linkMenuId:n[0].linkMenuId,menuId:n[0].menuId,wfRoleId:l,postId:i[0].postId,officeDetail:s,userId:a.userId,lkPoOffUserId:i[0].lkPoOffUserId})}}}})},e.ngInjectableDef=l.V({factory:function(){return new e(l.Z(i.c),l.Z(n.a))},token:e,providedIn:"root"}),e}()}}]);